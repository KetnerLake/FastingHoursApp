var Hi=Object.defineProperty;var mo=a=>{throw TypeError(a)};var Li=(a,n,r)=>n in a?Hi(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;var yo=(a,n,r)=>Li(a,typeof n!="symbol"?n+"":n,r),ha=(a,n,r)=>n.has(a)||mo("Cannot "+r);var Qt=(a,n,r)=>(ha(a,n,"read from private field"),r?r.call(a):n.get(a)),Wn=(a,n,r)=>n.has(a)?mo("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(a):n.set(a,r),va=(a,n,r,o)=>(ha(a,n,"write to private field"),o?o.call(a,r):n.set(a,r),r),bo=(a,n,r)=>(ha(a,n,"access private method"),r);import"../chunks/Bzak7iHL.js";import{i as zi,c as Wi,d as ut,n as Ui,a as Yi,o as Jt,b as Vi,s as Te}from"../chunks/Dk5_QscG.js";import{T as Pa,aB as zo,aC as Gi,j as Wo,b as ja,g as Dr,h as _t,Y as Jn,d as Da,y as d,F as Qi,r as Ji,H as Xi,e as _o,i as Xn,o as mn,Z as Uo,a1 as Zi,k as Zn,m as $i,l as En,aD as wo,ax as es,aE as ko,a5 as Yo,aF as jr,n as Vo,p as ts,aG as Fr,aH as ns,aI as ga,aJ as $n,$ as Go,aK as rs,a4 as as,aL as os,B as Qo,aM as Jo,u as is,aN as ss,at as Me,aO as us,a2 as ls,a0 as cs,a9 as xo,aP as fs,q as Fa,aQ as ds,aR as hs,aS as vs,aT as gs,aU as ps,aV as ms,aW as ys,aX as bs,aY as _s,aZ as ws,a_ as ks,U as xs,a$ as Ds,b0 as Ss,v as Xo,t as Ts,b1 as Cs,a7 as tt,as as _e,au as j,aw as U,A as V,a as se,aa as nt,ay as ve,av as S,c as wt,f as et,az as Oe,b2 as Es,b3 as nr,b4 as yn,b5 as Zo,z as xr}from"../chunks/LLOCdjZd.js";import{b as rt,i as Je,r as Is,p as pe}from"../chunks/CqLbJBhs.js";const Os=[];function Un(a,n=!1,r=!1){return Sr(a,new Map,"",Os,null,r)}function Sr(a,n,r,o,l=null,f=!1){if(typeof a=="object"&&a!==null){var h=n.get(a);if(h!==void 0)return h;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(Pa(a)){var g=Array(a.length);n.set(a,g),l!==null&&n.set(l,g);for(var y=0;y<a.length;y+=1){var x=a[y];y in a&&(g[y]=Sr(x,n,r,o,null,f))}return g}if(zo(a)===Gi){g={},n.set(a,g),l!==null&&n.set(l,g);for(var A in a)g[A]=Sr(a[A],n,r,o,null,f);return g}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function"&&!f)return Sr(a.toJSON(),n,r,o,a)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}function Et(a,n){return n}function Ms(a,n,r){for(var o=a.items,l=[],f=n.length,h=0;h<f;h++)rs(n[h].e,l,!0);var g=f>0&&l.length===0&&r!==null;if(g){var y=r.parentNode;as(y),y.append(r),o.clear(),Wt(a,n[0].prev,n[f-1].next)}os(l,()=>{for(var x=0;x<f;x++){var A=n[x];g||(o.delete(A.k),Wt(a,A.prev,A.next)),$n(A.e,!g)}})}function It(a,n,r,o,l,f=null){var h=a,g={flags:n,items:new Map,first:null},y=(n&Jo)!==0;if(y){var x=a;h=_t?Dr(Jn(x)):x.appendChild(Wo())}_t&&Da();var A=null,E=!1,R=new Map,L=Qi(()=>{var H=r();return Pa(H)?H:H==null?[]:Yo(H)}),N,Y;function K(){As(Y,N,g,R,h,l,n,o,r),f!==null&&(N.length===0?A?Vo(A):A=Zn(()=>f(h)):A!==null&&ts(A,()=>{A=null}))}ja(()=>{Y??(Y=Qo),N=d(L);var H=N.length;if(E&&H===0)return;E=H===0;let b=!1;if(_t){var I=Ji(h)===Xi;I!==(H===0)&&(h=_o(),Dr(h),Xn(!1),b=!0)}if(_t){for(var O=null,z,F=0;F<H;F++){if(mn.nodeType===Uo&&mn.data===Zi){h=mn,b=!0,Xn(!1);break}var B=N[F],oe=o(B,F);z=Sa(mn,g,O,null,B,oe,F,l,n,r),g.items.set(oe,z),O=z}H>0&&Dr(_o())}if(_t)H===0&&f&&(A=Zn(()=>f(h)));else if($i()){var ue=new Set,ee=En;for(F=0;F<H;F+=1){B=N[F],oe=o(B,F);var de=g.items.get(oe)??R.get(oe);de?(n&(Fr|jr))!==0&&$o(de,B,F,n):(z=Sa(null,g,null,null,B,oe,F,l,n,r,!0),R.set(oe,z)),ue.add(oe)}for(const[De,ke]of g.items)ue.has(De)||ee.skipped_effects.add(ke.e);ee.add_callback(K)}else K();b&&Xn(!0),d(L)}),_t&&(h=mn)}function As(a,n,r,o,l,f,h,g,y){var Ae,He,$,G;var x=(h&ss)!==0,A=(h&(Fr|jr))!==0,E=n.length,R=r.items,L=r.first,N=L,Y,K=null,H,b=[],I=[],O,z,F,B;if(x)for(B=0;B<E;B+=1)O=n[B],z=g(O,B),F=R.get(z),F!==void 0&&((Ae=F.a)==null||Ae.measure(),(H??(H=new Set)).add(F));for(B=0;B<E;B+=1){if(O=n[B],z=g(O,B),F=R.get(z),F===void 0){var oe=o.get(z);if(oe!==void 0){o.delete(z),R.set(z,oe);var ue=K?K.next:N;Wt(r,K,oe),Wt(r,oe,ue),pa(oe,ue,l),K=oe}else{var ee=N?N.e.nodes_start:l;K=Sa(ee,r,K,K===null?r.first:K.next,O,z,B,f,h,y)}R.set(z,K),b=[],I=[],N=K.next;continue}if(A&&$o(F,O,B,h),(F.e.f&ga)!==0&&(Vo(F.e),x&&((He=F.a)==null||He.unfix(),(H??(H=new Set)).delete(F))),F!==N){if(Y!==void 0&&Y.has(F)){if(b.length<I.length){var de=I[0],De;K=de.prev;var ke=b[0],Ne=b[b.length-1];for(De=0;De<b.length;De+=1)pa(b[De],de,l);for(De=0;De<I.length;De+=1)Y.delete(I[De]);Wt(r,ke.prev,Ne.next),Wt(r,K,ke),Wt(r,Ne,de),N=de,K=Ne,B-=1,b=[],I=[]}else Y.delete(F),pa(F,N,l),Wt(r,F.prev,F.next),Wt(r,F,K===null?r.first:K.next),Wt(r,K,F),K=F;continue}for(b=[],I=[];N!==null&&N.k!==z;)(N.e.f&ga)===0&&(Y??(Y=new Set)).add(N),I.push(N),N=N.next;if(N===null)continue;F=N}b.push(F),K=F,N=F.next}if(N!==null||Y!==void 0){for(var Ke=Y===void 0?[]:Yo(Y);N!==null;)(N.e.f&ga)===0&&Ke.push(N),N=N.next;var Be=Ke.length;if(Be>0){var we=(h&Jo)!==0&&E===0?l:null;if(x){for(B=0;B<Be;B+=1)($=Ke[B].a)==null||$.measure();for(B=0;B<Be;B+=1)(G=Ke[B].a)==null||G.fix()}Ms(r,Ke,we)}}x&&is(()=>{var X;if(H!==void 0)for(F of H)(X=F.a)==null||X.apply()}),a.first=r.first&&r.first.e,a.last=K&&K.e;for(var Ie of o.values())$n(Ie.e);o.clear()}function $o(a,n,r,o){(o&Fr)!==0&&wo(a.v,n),(o&jr)!==0?wo(a.i,r):a.i=r}function Sa(a,n,r,o,l,f,h,g,y,x,A){var E=(y&Fr)!==0,R=(y&ns)===0,L=E?R?es(l,!1,!1):ko(l):l,N=(y&jr)===0?h:ko(h),Y={i:N,v:L,k:f,a:null,e:null,prev:r,next:o};try{if(a===null){var K=document.createDocumentFragment();K.append(a=Wo())}return Y.e=Zn(()=>g(a,L,N,x),_t),Y.e.prev=r&&r.e,Y.e.next=o&&o.e,r===null?A||(n.first=Y):(r.next=Y,r.e.next=Y.e),o!==null&&(o.prev=Y,o.e.prev=Y.e),Y}finally{}}function pa(a,n,r){for(var o=a.next?a.next.e.nodes_start:r,l=n?n.e.nodes_start:r,f=a.e.nodes_start;f!==null&&f!==o;){var h=Go(f);l.before(f),f=h}}function Wt(a,n,r){n===null?a.first=r:(n.next=r,n.e.next=r&&r.e),r!==null&&(r.prev=n,r.e.prev=n&&n.e)}function Ps(a,n,r=!1,o=!1,l=!1){var f=a,h="";Me(()=>{var g=Qo;if(h===(h=n()??"")){_t&&Da();return}if(g.nodes_start!==null&&(us(g.nodes_start,g.nodes_end),g.nodes_start=g.nodes_end=null),h!==""){if(_t){mn.data;for(var y=Da(),x=y;y!==null&&(y.nodeType!==Uo||y.data!=="");)x=y,y=Go(y);if(y===null)throw ls(),cs;xo(mn,x),f=Dr(y);return}var A=h+"";r?A=`<svg>${A}</svg>`:o&&(A=`<math>${A}</math>`);var E=fs(A);if((r||o)&&(E=Jn(E)),xo(Jn(E),E.lastChild),r||o)for(;Jn(E);)f.before(Jn(E));else f.before(E)}})}function js(a,n){var r=void 0,o;ja(()=>{r!==(r=n())&&(o&&($n(o),o=null),r&&(o=Zn(()=>{Fa(()=>r(a))})))})}function ei(a){var n,r,o="";if(typeof a=="string"||typeof a=="number")o+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(n=0;n<l;n++)a[n]&&(r=ei(a[n]))&&(o&&(o+=" "),o+=r)}else for(r in a)a[r]&&(o&&(o+=" "),o+=r);return o}function Fs(){for(var a,n,r=0,o="",l=arguments.length;r<l;r++)(a=arguments[r])&&(n=ei(a))&&(o&&(o+=" "),o+=n);return o}function Ks(a){return typeof a=="object"?Fs(a):a??""}const Do=[...` 	
\r\f \v\uFEFF`];function qs(a,n,r){var o=a==null?"":""+a;if(n&&(o=o?o+" "+n:n),r){for(var l in r)if(r[l])o=o?o+" "+l:l;else if(o.length)for(var f=l.length,h=0;(h=o.indexOf(l,h))>=0;){var g=h+f;(h===0||Do.includes(o[h-1]))&&(g===o.length||Do.includes(o[g]))?o=(h===0?"":o.substring(0,h))+o.substring(g+1):h=g}}return o===""?null:o}function So(a,n=!1){var r=n?" !important;":";",o="";for(var l in a){var f=a[l];f!=null&&f!==""&&(o+=" "+l+": "+f+r)}return o}function ma(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function Rs(a,n){if(n){var r="",o,l;if(Array.isArray(n)?(o=n[0],l=n[1]):o=n,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var f=!1,h=0,g=!1,y=[];o&&y.push(...Object.keys(o).map(ma)),l&&y.push(...Object.keys(l).map(ma));var x=0,A=-1;const Y=a.length;for(var E=0;E<Y;E++){var R=a[E];if(g?R==="/"&&a[E-1]==="*"&&(g=!1):f?f===R&&(f=!1):R==="/"&&a[E+1]==="*"?g=!0:R==='"'||R==="'"?f=R:R==="("?h++:R===")"&&h--,!g&&f===!1&&h===0){if(R===":"&&A===-1)A=E;else if(R===";"||E===Y-1){if(A!==-1){var L=ma(a.substring(x,A).trim());if(!y.includes(L)){R!==";"&&E++;var N=a.substring(x,E).trim();r+=" "+N+";"}}x=E+1,A=-1}}}}return o&&(r+=So(o)),l&&(r+=So(l,!0)),r=r.trim(),r===""?null:r}return a==null?null:String(a)}function Xe(a,n,r,o,l,f){var h=a.__className;if(_t||h!==r||h===void 0){var g=qs(r,o,f);(!_t||g!==a.getAttribute("class"))&&(g==null?a.removeAttribute("class"):n?a.className=g:a.setAttribute("class",g)),a.__className=r}else if(f&&l!==f)for(var y in f){var x=!!f[y];(l==null||x!==!!l[y])&&a.classList.toggle(y,x)}return f}function ya(a,n={},r,o){for(var l in r){var f=r[l];n[l]!==f&&(r[l]==null?a.style.removeProperty(l):a.style.setProperty(l,f,o))}}function In(a,n,r,o){var l=a.__style;if(_t||l!==n){var f=Rs(n,o);(!_t||f!==a.getAttribute("style"))&&(f==null?a.removeAttribute("style"):a.style.cssText=f),a.__style=n}else o&&(Array.isArray(o)?(ya(a,r==null?void 0:r[0],o[0]),ya(a,r==null?void 0:r[1],o[1],"important")):ya(a,r,o));return o}function Ta(a,n,r=!1){if(a.multiple){if(n==null)return;if(!Pa(n))return ds();for(var o of a.options)o.selected=n.includes(To(o));return}for(o of a.options){var l=To(o);if(hs(l,n)){o.selected=!0;return}}(!r||n!==void 0)&&(a.selectedIndex=-1)}function Ns(a){var n=new MutationObserver(()=>{Ta(a,a.__value)});n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),vs(()=>{n.disconnect()})}function To(a){return"__value"in a?a.__value:a.value}const Yn=Symbol("class"),Vn=Symbol("style"),ti=Symbol("is custom element"),ni=Symbol("is html");function Kr(a){if(_t){var n=!1,r=()=>{if(!n){if(n=!0,a.hasAttribute("value")){var o=a.value;gt(a,"value",null),a.value=o}if(a.hasAttribute("checked")){var l=a.checked;gt(a,"checked",null),a.checked=l}}};a.__on_r=r,ps(r),ms()}}function ri(a,n){var r=Ka(a);r.value===(r.value=n??void 0)||a.value===n&&(n!==0||a.nodeName!=="PROGRESS")||(a.value=n??"")}function Bs(a,n){n?a.hasAttribute("selected")||a.setAttribute("selected",""):a.removeAttribute("selected")}function gt(a,n,r,o){var l=Ka(a);_t&&(l[n]=a.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&a.nodeName==="LINK")||l[n]!==(l[n]=r)&&(n==="loading"&&(a[ys]=r),r==null?a.removeAttribute(n):typeof r!="string"&&ai(a).includes(n)?a[n]=r:a.setAttribute(n,r))}function Hs(a,n,r,o,l=!1){var f=Ka(a),h=f[ti],g=!f[ni];let y=_t&&h;y&&Xn(!1);var x=n||{},A=a.tagName==="OPTION";for(var E in n)E in r||(r[E]=null);r.class?r.class=Ks(r.class):r[Yn]&&(r.class=null),r[Vn]&&(r.style??(r.style=null));var R=ai(a);for(const I in r){let O=r[I];if(A&&I==="value"&&O==null){a.value=a.__value="",x[I]=O;continue}if(I==="class"){var L=a.namespaceURI==="http://www.w3.org/1999/xhtml";Xe(a,L,O,o,n==null?void 0:n[Yn],r[Yn]),x[I]=O,x[Yn]=r[Yn];continue}if(I==="style"){In(a,O,n==null?void 0:n[Vn],r[Vn]),x[I]=O,x[Vn]=r[Vn];continue}var N=x[I];if(!(O===N&&!(O===void 0&&a.hasAttribute(I)))){x[I]=O;var Y=I[0]+I[1];if(Y!=="$$")if(Y==="on"){const z={},F="$$"+I;let B=I.slice(2);var K=Yi(B);if(zi(B)&&(B=B.slice(0,-7),z.capture=!0),!K&&N){if(O!=null)continue;a.removeEventListener(B,x[F],z),x[F]=null}if(O!=null)if(K)a[`__${B}`]=O,ut([B]);else{let oe=function(ue){x[I].call(this,ue)};x[F]=Wi(B,a,oe,z)}else K&&(a[`__${B}`]=void 0)}else if(I==="style")gt(a,I,O);else if(I==="autofocus")ks(a,!!O);else if(!h&&(I==="__value"||I==="value"&&O!=null))a.value=a.__value=O;else if(I==="selected"&&A)Bs(a,O);else{var H=I;g||(H=Ui(H));var b=H==="defaultValue"||H==="defaultChecked";if(O==null&&!h&&!b)if(f[I]=null,H==="value"||H==="checked"){let z=a;const F=n===void 0;if(H==="value"){let B=z.defaultValue;z.removeAttribute(H),z.defaultValue=B,z.value=z.__value=F?B:null}else{let B=z.defaultChecked;z.removeAttribute(H),z.defaultChecked=B,z.checked=F?B:!1}}else a.removeAttribute(I);else b||R.includes(H)&&(h||typeof O!="string")?(a[H]=O,H in f&&(f[H]=xs)):typeof O!="function"&&gt(a,H,O)}}}return y&&Xn(!0),x}function Co(a,n,r=[],o=[],l,f=!1){_s(r,o,h=>{var g=void 0,y={},x=a.nodeName==="SELECT",A=!1;if(ja(()=>{var R=n(...h.map(d)),L=Hs(a,g,R,l,f);A&&x&&"value"in R&&Ta(a,R.value);for(let Y of Object.getOwnPropertySymbols(y))R[Y]||$n(y[Y]);for(let Y of Object.getOwnPropertySymbols(R)){var N=R[Y];Y.description===ws&&(!g||N!==g[Y])&&(y[Y]&&$n(y[Y]),y[Y]=Zn(()=>js(a,()=>N))),L[Y]=N}g=L}),x){var E=a;Fa(()=>{Ta(E,g.value,!0),Ns(E)})}A=!0})}function Ka(a){return a.__attributes??(a.__attributes={[ti]:a.nodeName.includes("-"),[ni]:a.namespaceURI===gs})}var Eo=new Map;function ai(a){var n=Eo.get(a.nodeName);if(n)return n;Eo.set(a.nodeName,n=[]);for(var r,o=a,l=Element.prototype;l!==o;){r=bs(o);for(var f in r)r[f].set&&n.push(f);o=zo(o)}return n}function Ir(a,n,r=n){var o=Ds(),l=new WeakSet;Ss(a,"input",f=>{var h=f?a.defaultValue:a.value;if(h=ba(a)?_a(h):h,r(h),En!==null&&l.add(En),o&&h!==(h=n())){var g=a.selectionStart,y=a.selectionEnd;a.value=h??"",y!==null&&(a.selectionStart=g,a.selectionEnd=Math.min(y,a.value.length))}}),(_t&&a.defaultValue!==a.value||Xo(n)==null&&a.value)&&(r(ba(a)?_a(a.value):a.value),En!==null&&l.add(En)),Ts(()=>{var f=n();if(a===document.activeElement){var h=Cs??En;if(l.has(h))return}ba(a)&&f===_a(a.value)||a.type==="date"&&!f&&!a.value||f!==a.value&&(a.value=f??"")})}function ba(a){var n=a.type;return n==="number"||n==="range"}function _a(a){return a===""?null:+a}var on,On,tr,Ar,oi;const Pr=class Pr{constructor(n){Wn(this,Ar);Wn(this,on,new WeakMap);Wn(this,On);Wn(this,tr);va(this,tr,n)}observe(n,r){var o=Qt(this,on).get(n)||new Set;return o.add(r),Qt(this,on).set(n,o),bo(this,Ar,oi).call(this).observe(n,Qt(this,tr)),()=>{var l=Qt(this,on).get(n);l.delete(r),l.size===0&&(Qt(this,on).delete(n),Qt(this,On).unobserve(n))}}};on=new WeakMap,On=new WeakMap,tr=new WeakMap,Ar=new WeakSet,oi=function(){return Qt(this,On)??va(this,On,new ResizeObserver(n=>{for(var r of n){Pr.entries.set(r.target,r);for(var o of Qt(this,on).get(r.target)||[])o(r)}}))},yo(Pr,"entries",new WeakMap);let Ca=Pr;var Ls=new Ca({box:"border-box"});function Io(a,n,r){var o=Ls.observe(a,()=>r(a[n]));Fa(()=>(Xo(()=>r(a[n])),o))}var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ii(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tr={exports:{}},Ws=Tr.exports,Oo;function Us(){return Oo||(Oo=1,(function(a,n){(function(r,o){a.exports=o()})(Ws,function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(i[u]=s[u])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var u in t=arguments[i])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};function l(e,t,i){for(var s,u=0,c=t.length;u<c;u++)!s&&u in t||((s=s||Array.prototype.slice.call(t,0,u))[u]=t[u]);return e.concat(s||Array.prototype.slice.call(t))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zs,h=Object.keys,g=Array.isArray;function y(e,t){return typeof t!="object"||h(t).forEach(function(i){e[i]=t[i]}),e}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var x=Object.getPrototypeOf,A={}.hasOwnProperty;function E(e,t){return A.call(e,t)}function R(e,t){typeof t=="function"&&(t=t(x(e))),(typeof Reflect>"u"?h:Reflect.ownKeys)(t).forEach(function(i){N(e,i,t[i])})}var L=Object.defineProperty;function N(e,t,i,s){L(e,t,y(i&&E(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},s))}function Y(e){return{from:function(t){return e.prototype=Object.create(t.prototype),N(e.prototype,"constructor",e),{extend:R.bind(null,e.prototype)}}}}var K=Object.getOwnPropertyDescriptor,H=[].slice;function b(e,t,i){return H.call(e,t,i)}function I(e,t){return t(e)}function O(e){if(!e)throw new Error("Assertion Failed")}function z(e){f.setImmediate?setImmediate(e):setTimeout(e,0)}function F(e,t){if(typeof t=="string"&&E(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var i=[],s=0,u=t.length;s<u;++s){var c=F(e,t[s]);i.push(c)}return i}var v=t.indexOf(".");if(v!==-1){var p=e[t.substr(0,v)];return p==null?void 0:F(p,t.substr(v+1))}}function B(e,t,i){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){O(typeof i!="string"&&"length"in i);for(var s=0,u=t.length;s<u;++s)B(e,t[s],i[s])}else{var c,v,p=t.indexOf(".");p!==-1?(c=t.substr(0,p),(v=t.substr(p+1))===""?i===void 0?g(e)&&!isNaN(parseInt(c))?e.splice(c,1):delete e[c]:e[c]=i:B(p=!(p=e[c])||!E(e,c)?e[c]={}:p,v,i)):i===void 0?g(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=i}}function oe(e){var t,i={};for(t in e)E(e,t)&&(i[t]=e[t]);return i}var ue=[].concat;function ee(e){return ue.apply([],e)}var Kt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ee([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return f[e]}),de=new Set(Kt.map(function(e){return f[e]})),De=null;function ke(e){return De=new WeakMap,e=(function t(i){if(!i||typeof i!="object")return i;var s=De.get(i);if(s)return s;if(g(i)){s=[],De.set(i,s);for(var u=0,c=i.length;u<c;++u)s.push(t(i[u]))}else if(de.has(i.constructor))s=i;else{var v,p=x(i);for(v in s=p===Object.prototype?{}:Object.create(p),De.set(i,s),i)E(i,v)&&(s[v]=t(i[v]))}return s})(e),De=null,e}var Ne={}.toString;function Ke(e){return Ne.call(e).slice(8,-1)}var Be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof Be=="symbol"?function(e){var t;return e!=null&&(t=e[Be])&&t.apply(e)}:function(){return null};function Ie(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var Ae={};function He(e){var t,i,s,u;if(arguments.length===1){if(g(e))return e.slice();if(this===Ae&&typeof e=="string")return[e];if(u=we(e)){for(i=[];!(s=u.next()).done;)i.push(s.value);return i}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(i=new Array(t);t--;)i[t]=e[t];return i}for(t=arguments.length,i=new Array(t);t--;)i[t]=arguments[t];return i}var $=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Yt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ft=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Yt),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function X(e,t){this.name=e,this.message=t}function ge(e,t){return e+". Errors: "+Object.keys(t).map(function(i){return t[i].toString()}).filter(function(i,s,u){return u.indexOf(i)===s}).join(`
`)}function xe(e,t,i,s){this.failures=t,this.failedKeys=s,this.successCount=i,this.message=ge(e,t)}function Pe(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(i){return t[i]}),this.failuresByPos=t,this.message=ge(e,this.failures)}Y(X).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Y(xe).from(X),Y(Pe).from(X);var ye=Ft.reduce(function(e,t){return e[t]=t+"Error",e},{}),Se=X,te=Ft.reduce(function(e,t){var i=t+"Error";function s(u,c){this.name=i,u?typeof u=="string"?(this.message="".concat(u).concat(c?`
 `+c:""),this.inner=c||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=G[t]||i,this.inner=null)}return Y(s).from(Se),e[t]=s,e},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var Ue=Yt.reduce(function(e,t){return e[t+"Error"]=te[t],e},{}),Ye=Ft.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=te[t]),e},{});function Ee(){}function dt(e){return e}function ct(e,t){return e==null||e===dt?t:function(i){return t(e(i))}}function lt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Mt(e,t){return e===Ee?t:function(){var i=e.apply(this,arguments);i!==void 0&&(arguments[0]=i);var s=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var c=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?lt(s,this.onsuccess):s),u&&(this.onerror=this.onerror?lt(u,this.onerror):u),c!==void 0?c:i}}function kt(e,t){return e===Ee?t:function(){e.apply(this,arguments);var i=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?lt(i,this.onsuccess):i),s&&(this.onerror=this.onerror?lt(s,this.onerror):s)}}function pt(e,t){return e===Ee?t:function(i){var s=e.apply(this,arguments);y(i,s);var u=this.onsuccess,c=this.onerror;return this.onsuccess=null,this.onerror=null,i=t.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?lt(u,this.onsuccess):u),c&&(this.onerror=this.onerror?lt(c,this.onerror):c),s===void 0?i===void 0?void 0:i:y(s,i)}}function Tt(e,t){return e===Ee?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Ot(e,t){return e===Ee?t:function(){var i=e.apply(this,arguments);if(i&&typeof i.then=="function"){for(var s=this,u=arguments.length,c=new Array(u);u--;)c[u]=arguments[u];return i.then(function(){return t.apply(s,c)})}return t.apply(this,arguments)}}Ye.ModifyError=xe,Ye.DexieError=X,Ye.BulkError=Pe;var it=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ut(e){it=e}var sn={},An=100,Kt=typeof Promise>"u"?[]:(function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,x(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,x(t),e]})(),Yt=Kt[0],Ft=Kt[1],Kt=Kt[2],Ft=Ft&&Ft.then,Pt=Yt&&Yt.constructor,Pn=!!Kt,Xt=function(e,t){$t.push([e,t]),bn&&(queueMicrotask(Re),bn=!1)},un=!0,bn=!0,qt=[],Zt=[],jn=dt,Rt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},be=Rt,$t=[],Bt=0,ln=[];function ce(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=be;if(typeof e!="function"){if(e!==sn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ne(this,this._value))}this._state=null,this._value=null,++t.ref,(function i(s,u){try{u(function(c){if(s._state===null){if(c===s)throw new TypeError("A promise cannot be resolved with itself.");var v=s._lib&&Le();c&&typeof c.then=="function"?i(s,function(p,_){c instanceof ce?c._then(p,_):c.then(p,_)}):(s._state=!0,s._value=c,me(s)),v&&ze()}},ne.bind(null,s))}catch(c){ne(s,c)}})(this,e)}var _n={get:function(){var e=be,t=cn;function i(s,u){var c=this,v=!e.global&&(e!==be||t!==cn),p=v&&!Nt(),_=new ce(function(k,T){Ce(c,new rr(Ha(s,e,v,p),Ha(u,e,v,p),k,T,e))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return i.prototype=sn,i},set:function(e){N(this,"then",e&&e.prototype===sn?_n:{get:function(){return e},set:_n.set})}};function rr(e,t,i,s,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=i,this.reject=s,this.psd=u}function ne(e,t){var i,s;Zt.push(t),e._state===null&&(i=e._lib&&Le(),t=jn(t),e._state=!1,e._value=t,s=e,qt.some(function(u){return u._value===s._value})||qt.push(s),me(e),i&&ze())}function me(e){var t=e._listeners;e._listeners=[];for(var i=0,s=t.length;i<s;++i)Ce(e,t[i]);var u=e._PSD;--u.ref||u.finalize(),Bt===0&&(++Bt,Xt(function(){--Bt==0&&Ze()},[]))}function Ce(e,t){if(e._state!==null){var i=e._state?t.onFulfilled:t.onRejected;if(i===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Bt,Xt(at,[i,e,t])}else e._listeners.push(t)}function at(e,t,i){try{var s,u=t._value;!t._state&&Zt.length&&(Zt=[]),s=it&&t._consoleTask?t._consoleTask.run(function(){return e(u)}):e(u),t._state||Zt.indexOf(u)!==-1||(function(c){for(var v=qt.length;v;)if(qt[--v]._value===c._value)return qt.splice(v,1)})(t),i.resolve(s)}catch(c){i.reject(c)}finally{--Bt==0&&Ze(),--i.psd.ref||i.psd.finalize()}}function Re(){fn(Rt,function(){Le()&&ze()})}function Le(){var e=un;return bn=un=!1,e}function ze(){var e,t,i;do for(;0<$t.length;)for(e=$t,$t=[],i=e.length,t=0;t<i;++t){var s=e[t];s[0].apply(null,s[1])}while(0<$t.length);bn=un=!0}function Ze(){var e=qt;qt=[],e.forEach(function(s){s._PSD.onunhandled.call(null,s._value,s)});for(var t=ln.slice(0),i=t.length;i;)t[--i]()}function jt(e){return new ce(sn,!1,e)}function ot(e,t){var i=be;return function(){var s=Le(),u=be;try{return tn(i,!0),e.apply(this,arguments)}catch(c){t&&t(c)}finally{tn(u,!1),s&&ze()}}}R(ce.prototype,{then:_n,_then:function(e,t){Ce(this,new rr(null,null,e,t,be))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,i=arguments[1];return typeof t=="function"?this.then(null,function(s){return(s instanceof t?i:jt)(s)}):this.then(null,function(s){return(s&&s.name===t?i:jt)(s)})},finally:function(e){return this.then(function(t){return ce.resolve(e()).then(function(){return t})},function(t){return ce.resolve(e()).then(function(){return jt(t)})})},timeout:function(e,t){var i=this;return e<1/0?new ce(function(s,u){var c=setTimeout(function(){return u(new te.Timeout(t))},e);i.then(s,u).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(ce.prototype,Symbol.toStringTag,"Dexie.Promise"),Rt.env=Ba(),R(ce,{all:function(){var e=He.apply(null,arguments).map(kn);return new ce(function(t,i){e.length===0&&t([]);var s=e.length;e.forEach(function(u,c){return ce.resolve(u).then(function(v){e[c]=v,--s||t(e)},i)})})},resolve:function(e){return e instanceof ce?e:e&&typeof e.then=="function"?new ce(function(t,i){e.then(t,i)}):new ce(sn,!0,e)},reject:jt,race:function(){var e=He.apply(null,arguments).map(kn);return new ce(function(t,i){e.map(function(s){return ce.resolve(s).then(t,i)})})},PSD:{get:function(){return be},set:function(e){return be=e}},totalEchoes:{get:function(){return cn}},newPSD:bt,usePSD:fn,scheduler:{get:function(){return Xt},set:function(e){Xt=e}},rejectionMapper:{get:function(){return jn},set:function(e){jn=e}},follow:function(e,t){return new ce(function(i,s){return bt(function(u,c){var v=be;v.unhandleds=[],v.onunhandled=c,v.finalize=lt(function(){var p,_=this;p=function(){_.unhandleds.length===0?u():c(_.unhandleds[0])},ln.push(function k(){p(),ln.splice(ln.indexOf(k),1)}),++Bt,Xt(function(){--Bt==0&&Ze()},[])},v.finalize),e()},t,i,s)})}}),Pt&&(Pt.allSettled&&N(ce,"allSettled",function(){var e=He.apply(null,arguments).map(kn);return new ce(function(t){e.length===0&&t([]);var i=e.length,s=new Array(i);e.forEach(function(u,c){return ce.resolve(u).then(function(v){return s[c]={status:"fulfilled",value:v}},function(v){return s[c]={status:"rejected",reason:v}}).then(function(){return--i||t(s)})})})}),Pt.any&&typeof AggregateError<"u"&&N(ce,"any",function(){var e=He.apply(null,arguments).map(kn);return new ce(function(t,i){e.length===0&&i(new AggregateError([]));var s=e.length,u=new Array(s);e.forEach(function(c,v){return ce.resolve(c).then(function(p){return t(p)},function(p){u[v]=p,--s||i(new AggregateError(u))})})})}),Pt.withResolvers&&(ce.withResolvers=Pt.withResolvers));var We={awaits:0,echoes:0,id:0},yt=0,en=[],wn=0,cn=0,ar=0;function bt(e,t,i,s){var u=be,c=Object.create(u);return c.parent=u,c.ref=0,c.global=!1,c.id=++ar,Rt.env,c.env=Pn?{Promise:ce,PromiseProp:{value:ce,configurable:!0,writable:!0},all:ce.all,race:ce.race,allSettled:ce.allSettled,any:ce.any,resolve:ce.resolve,reject:ce.reject}:{},t&&y(c,t),++u.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()},s=fn(c,e,i,s),c.ref===0&&c.finalize(),s}function Ht(){return We.id||(We.id=++yt),++We.awaits,We.echoes+=An,We.id}function Nt(){return!!We.awaits&&(--We.awaits==0&&(We.id=0),We.echoes=We.awaits*An,!0)}function kn(e){return We.echoes&&e&&e.constructor===Pt?(Ht(),e.then(function(t){return Nt(),t},function(t){return Nt(),ht(t)})):e}function _i(){var e=en[en.length-1];en.pop(),tn(e,!1)}function tn(e,t){var i,s=be;(t?!We.echoes||wn++&&e===be:!wn||--wn&&e===be)||queueMicrotask(t?(function(u){++cn,We.echoes&&--We.echoes!=0||(We.echoes=We.awaits=We.id=0),en.push(be),tn(u,!0)}).bind(null,e):_i),e!==be&&(be=e,s===Rt&&(Rt.env=Ba()),Pn&&(i=Rt.env.Promise,t=e.env,(s.global||e.global)&&(Object.defineProperty(f,"Promise",t.PromiseProp),i.all=t.all,i.race=t.race,i.resolve=t.resolve,i.reject=t.reject,t.allSettled&&(i.allSettled=t.allSettled),t.any&&(i.any=t.any))))}function Ba(){var e=f.Promise;return Pn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function fn(e,t,i,s,u){var c=be;try{return tn(e,!0),t(i,s,u)}finally{tn(c,!1)}}function Ha(e,t,i,s){return typeof e!="function"?e:function(){var u=be;i&&Ht(),tn(t,!0);try{return e.apply(this,arguments)}finally{tn(u,!1),s&&queueMicrotask(Nt)}}}function Br(e){Promise===Pt&&We.echoes===0?wn===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Ft).indexOf("[native code]")===-1&&(Ht=Nt=Ee);var ht=ce.reject,dn="￿",Vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",La="String expected.",xn=[],or="__dbnames",Hr="readonly",Lr="readwrite";function hn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var za={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ir(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=ke(t))[e],t}}function Wa(){throw te.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ve(e,t){try{var i=Ua(e),s=Ua(t);if(i!==s)return i==="Array"?1:s==="Array"?-1:i==="binary"?1:s==="binary"?-1:i==="string"?1:s==="string"?-1:i==="Date"?1:s!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return(function(u,c){for(var v=u.length,p=c.length,_=v<p?v:p,k=0;k<_;++k)if(u[k]!==c[k])return u[k]<c[k]?-1:1;return v===p?0:v<p?-1:1})(Ya(e),Ya(t));case"Array":return(function(u,c){for(var v=u.length,p=c.length,_=v<p?v:p,k=0;k<_;++k){var T=Ve(u[k],c[k]);if(T!==0)return T}return v===p?0:v<p?-1:1})(e,t)}}catch{}return NaN}function Ua(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=Ke(e),e==="ArrayBuffer"?"binary":e)}function Ya(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function sr(e,t,i){var s=e.schema.yProps;return s?(t&&0<i.numFailures&&(t=t.filter(function(u,c){return!i.failures[c]})),Promise.all(s.map(function(u){return u=u.updatesTable,t?e.db.table(u).where("k").anyOf(t).delete():e.db.table(u).clear()})).then(function(){return i})):i}var Va=(st.prototype._trans=function(e,t,i){var s=this._tx||be.trans,u=this.name,c=it&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function v(k,T,m){if(!m.schema[u])throw new te.NotFound("Table "+u+" not part of transaction");return t(m.idbtrans,m)}var p=Le();try{var _=s&&s.db._novip===this.db._novip?s===be.trans?s._promise(e,v,i):bt(function(){return s._promise(e,v,i)},{trans:s,transless:be.transless||be}):(function k(T,m,P,w){if(T.idbdb&&(T._state.openComplete||be.letThrough||T._vip)){var D=T._createTransaction(m,P,T._dbSchema);try{D.create(),T._state.PR1398_maxLoop=3}catch(M){return M.name===ye.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return k(T,m,P,w)})):ht(M)}return D._promise(m,function(M,C){return bt(function(){return be.trans=D,w(M,C,D)})}).then(function(M){if(m==="readwrite")try{D.idbtrans.commit()}catch{}return m==="readonly"?M:D._completion.then(function(){return M})})}if(T._state.openComplete)return ht(new te.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return ht(new te.DatabaseClosed);T.open().catch(Ee)}return T._state.dbReadyPromise.then(function(){return k(T,m,P,w)})})(this.db,e,[this.name],v);return c&&(_._consoleTask=c,_=_.catch(function(k){return console.trace(k),ht(k)})),_}finally{p&&ze()}},st.prototype.get=function(e,t){var i=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?ht(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(s){return i.core.get({trans:s,key:e}).then(function(u){return i.hook.reading.fire(u)})}).then(t)},st.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(g(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=h(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var i=this.schema.indexes.concat(this.schema.primKey).filter(function(p){if(p.compound&&t.every(function(k){return 0<=p.keyPath.indexOf(k)})){for(var _=0;_<t.length;++_)if(t.indexOf(p.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(p,_){return p.keyPath.length-_.keyPath.length})[0];if(i&&this.db._maxKey!==dn){var c=i.keyPath.slice(0,t.length);return this.where(c).equals(c.map(function(_){return e[_]}))}!i&&it&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var s=this.schema.idxByName;function u(p,_){return Ve(p,_)===0}var v=t.reduce(function(m,_){var k=m[0],T=m[1],m=s[_],P=e[_];return[k||m,k||!m?hn(T,m&&m.multi?function(w){return w=F(w,_),g(w)&&w.some(function(D){return u(P,D)})}:function(w){return u(P,F(w,_))}):T]},[null,null]),c=v[0],v=v[1];return c?this.where(c.name).equals(e[c.keyPath]).filter(v):i?this.filter(v):this.where(t).equals("")},st.prototype.filter=function(e){return this.toCollection().and(e)},st.prototype.count=function(e){return this.toCollection().count(e)},st.prototype.offset=function(e){return this.toCollection().offset(e)},st.prototype.limit=function(e){return this.toCollection().limit(e)},st.prototype.each=function(e){return this.toCollection().each(e)},st.prototype.toArray=function(e){return this.toCollection().toArray(e)},st.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},st.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,g(e)?"[".concat(e.join("+"),"]"):e))},st.prototype.reverse=function(){return this.toCollection().reverse()},st.prototype.mapToClass=function(e){var t,i=this.db,s=this.name;function u(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Wa&&((function(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function T(){this.constructor=_}r(_,k),_.prototype=k===null?Object.create(k):(T.prototype=k.prototype,new T)})(u,t=e),Object.defineProperty(u.prototype,"db",{get:function(){return i},enumerable:!1,configurable:!0}),u.prototype.table=function(){return s},e=u);for(var c=new Set,v=e.prototype;v;v=x(v))Object.getOwnPropertyNames(v).forEach(function(_){return c.add(_)});function p(_){if(!_)return _;var k,T=Object.create(e.prototype);for(k in _)if(!c.has(k))try{T[k]=_[k]}catch{}return T}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=p,this.hook("reading",p),e},st.prototype.defineClass=function(){return this.mapToClass(function(e){y(this,e)})},st.prototype.add=function(e,t){var i=this,s=this.schema.primKey,u=s.auto,c=s.keyPath,v=e;return c&&u&&(v=ir(c)(e)),this._trans("readwrite",function(p){return i.core.mutate({trans:p,type:"add",keys:t!=null?[t]:null,values:[v]})}).then(function(p){return p.numFailures?ce.reject(p.failures[0]):p.lastResult}).then(function(p){if(c)try{B(e,c,p)}catch{}return p})},st.prototype.update=function(e,t){return typeof e!="object"||g(e)?this.where(":id").equals(e).modify(t):(e=F(e,this.schema.primKey.keyPath),e===void 0?ht(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},st.prototype.put=function(e,t){var i=this,s=this.schema.primKey,u=s.auto,c=s.keyPath,v=e;return c&&u&&(v=ir(c)(e)),this._trans("readwrite",function(p){return i.core.mutate({trans:p,type:"put",values:[v],keys:t!=null?[t]:null})}).then(function(p){return p.numFailures?ce.reject(p.failures[0]):p.lastResult}).then(function(p){if(c)try{B(e,c,p)}catch{}return p})},st.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:[e]}).then(function(s){return sr(t,[e],s)}).then(function(s){return s.numFailures?ce.reject(s.failures[0]):void 0})})},st.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:za}).then(function(i){return sr(e,null,i)})}).then(function(t){return t.numFailures?ce.reject(t.failures[0]):void 0})},st.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(i){return t.core.getMany({keys:e,trans:i}).then(function(s){return s.map(function(u){return t.hook.reading.fire(u)})})})},st.prototype.bulkAdd=function(e,t,i){var s=this,u=Array.isArray(t)?t:void 0,c=(i=i||(u?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",function(v){var k=s.schema.primKey,p=k.auto,k=k.keyPath;if(k&&u)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var _=e.length,k=k&&p?e.map(ir(k)):e;return s.core.mutate({trans:v,type:"add",keys:u,values:k,wantResults:c}).then(function(D){var m=D.numFailures,P=D.results,w=D.lastResult,D=D.failures;if(m===0)return c?P:w;throw new Pe("".concat(s.name,".bulkAdd(): ").concat(m," of ").concat(_," operations failed"),D)})})},st.prototype.bulkPut=function(e,t,i){var s=this,u=Array.isArray(t)?t:void 0,c=(i=i||(u?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",function(v){var k=s.schema.primKey,p=k.auto,k=k.keyPath;if(k&&u)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var _=e.length,k=k&&p?e.map(ir(k)):e;return s.core.mutate({trans:v,type:"put",keys:u,values:k,wantResults:c}).then(function(D){var m=D.numFailures,P=D.results,w=D.lastResult,D=D.failures;if(m===0)return c?P:w;throw new Pe("".concat(s.name,".bulkPut(): ").concat(m," of ").concat(_," operations failed"),D)})})},st.prototype.bulkUpdate=function(e){var t=this,i=this.core,s=e.map(function(v){return v.key}),u=e.map(function(v){return v.changes}),c=[];return this._trans("readwrite",function(v){return i.getMany({trans:v,keys:s,cache:"clone"}).then(function(p){var _=[],k=[];e.forEach(function(m,P){var w=m.key,D=m.changes,M=p[P];if(M){for(var C=0,q=Object.keys(D);C<q.length;C++){var W=q[C],Q=D[W];if(W===t.schema.primKey.keyPath){if(Ve(Q,w)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else B(M,W,Q)}c.push(P),_.push(w),k.push(M)}});var T=_.length;return i.mutate({trans:v,type:"put",keys:_,values:k,updates:{keys:s,changeSpecs:u}}).then(function(m){var P=m.numFailures,w=m.failures;if(P===0)return T;for(var D=0,M=Object.keys(w);D<M.length;D++){var C,q=M[D],W=c[Number(q)];W!=null&&(C=w[q],delete w[q],w[W]=C)}throw new Pe("".concat(t.name,".bulkUpdate(): ").concat(P," of ").concat(T," operations failed"),w)})})})},st.prototype.bulkDelete=function(e){var t=this,i=e.length;return this._trans("readwrite",function(s){return t.core.mutate({trans:s,type:"delete",keys:e}).then(function(u){return sr(t,e,u)})}).then(function(v){var u=v.numFailures,c=v.lastResult,v=v.failures;if(u===0)return c;throw new Pe("".concat(t.name,".bulkDelete(): ").concat(u," of ").concat(i," operations failed"),v)})},st);function st(){}function Fn(e){function t(v,p){if(p){for(var _=arguments.length,k=new Array(_-1);--_;)k[_-1]=arguments[_];return i[v].subscribe.apply(null,k),e}if(typeof v=="string")return i[v]}var i={};t.addEventType=c;for(var s=1,u=arguments.length;s<u;++s)c(arguments[s]);return t;function c(v,p,_){if(typeof v!="object"){var k;p=p||Tt;var T={subscribers:[],fire:_=_||Ee,subscribe:function(m){T.subscribers.indexOf(m)===-1&&(T.subscribers.push(m),T.fire=p(T.fire,m))},unsubscribe:function(m){T.subscribers=T.subscribers.filter(function(P){return P!==m}),T.fire=T.subscribers.reduce(p,_)}};return i[v]=t[v]=T}h(k=v).forEach(function(m){var P=k[m];if(g(P))c(m,k[m][0],k[m][1]);else{if(P!=="asap")throw new te.InvalidArgument("Invalid event config");var w=c(m,dt,function(){for(var D=arguments.length,M=new Array(D);D--;)M[D]=arguments[D];w.subscribers.forEach(function(C){z(function(){C.apply(null,M)})})})}})}}function Kn(e,t){return Y(t).from({prototype:e}),t}function Dn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function zr(e,t){e.filter=hn(e.filter,t)}function Wr(e,t,i){var s=e.replayFilter;e.replayFilter=s?function(){return hn(s(),t())}:t,e.justLimit=i&&!s}function ur(e,t){if(e.isPrimKey)return t.primaryKey;var i=t.getIndexByKeyPath(e.index);if(!i)throw new te.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return i}function Ga(e,t,i){var s=ur(e,t.schema);return t.openCursor({trans:i,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:s,range:e.range}})}function lr(e,t,i,s){var u=e.replayFilter?hn(e.filter,e.replayFilter()):e.filter;if(e.or){var c={},v=function(p,_,k){var T,m;u&&!u(_,k,function(P){return _.stop(P)},function(P){return _.fail(P)})||((m=""+(T=_.primaryKey))=="[object ArrayBuffer]"&&(m=""+new Uint8Array(T)),E(c,m)||(c[m]=!0,t(p,_,k)))};return Promise.all([e.or._iterate(v,i),Qa(Ga(e,s,i),e.algorithm,v,!e.keysOnly&&e.valueMapper)])}return Qa(Ga(e,s,i),hn(e.algorithm,u),t,!e.keysOnly&&e.valueMapper)}function Qa(e,t,i,s){var u=ot(s?function(c,v,p){return i(s(c),v,p)}:i);return e.then(function(c){if(c)return c.start(function(){var v=function(){return c.continue()};t&&!t(c,function(p){return v=p},function(p){c.stop(p),v=Ee},function(p){c.fail(p),v=Ee})||u(c.value,c,function(p){return v=p}),v()})})}var qn=(Ja.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var i=t.add;if(g(i))return l(l([],g(e)?e:[],!0),i).sort();if(typeof i=="number")return(Number(e)||0)+i;if(typeof i=="bigint")try{return BigInt(e)+i}catch{return BigInt(0)+i}throw new TypeError("Invalid term ".concat(i))}if(t.remove!==void 0){var s=t.remove;if(g(s))return g(e)?e.filter(function(u){return!s.includes(u)}).sort():[];if(typeof s=="number")return Number(e)-s;if(typeof s=="bigint")try{return BigInt(e)-s}catch{return BigInt(0)-s}throw new TypeError("Invalid subtrahend ".concat(s))}return i=(i=t.replacePrefix)===null||i===void 0?void 0:i[0],i&&typeof e=="string"&&e.startsWith(i)?t.replacePrefix[1]+e.substring(i.length):e},Ja);function Ja(e){this["@@propmod"]=e}var wi=(Qe.prototype._read=function(e,t){var i=this._ctx;return i.error?i.table._trans(null,ht.bind(null,i.error)):i.table._trans("readonly",e).then(t)},Qe.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,ht.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Qe.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=hn(t.algorithm,e)},Qe.prototype._iterate=function(e,t){return lr(this._ctx,e,t,this._ctx.table.core)},Qe.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return e&&y(i,e),t._ctx=i,t},Qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Qe.prototype.each=function(e){var t=this._ctx;return this._read(function(i){return lr(t,e,i,t.table.core)})},Qe.prototype.count=function(e){var t=this;return this._read(function(i){var s=t._ctx,u=s.table.core;if(Dn(s,!0))return u.count({trans:i,query:{index:ur(s,u.schema),range:s.range}}).then(function(v){return Math.min(v,s.limit)});var c=0;return lr(s,function(){return++c,!1},i,u).then(function(){return c})}).then(e)},Qe.prototype.sortBy=function(e,t){var i=e.split(".").reverse(),s=i[0],u=i.length-1;function c(_,k){return k?c(_[i[k]],k-1):_[s]}var v=this._ctx.dir==="next"?1:-1;function p(_,k){return Ve(c(_,u),c(k,u))*v}return this.toArray(function(_){return _.sort(p)}).then(t)},Qe.prototype.toArray=function(e){var t=this;return this._read(function(i){var s=t._ctx;if(s.dir==="next"&&Dn(s,!0)&&0<s.limit){var u=s.valueMapper,c=ur(s,s.table.core.schema);return s.table.core.query({trans:i,limit:s.limit,values:!0,query:{index:c,range:s.range}}).then(function(p){return p=p.result,u?p.map(u):p})}var v=[];return lr(s,function(p){return v.push(p)},i,s.table.core).then(function(){return v})},e)},Qe.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Dn(t)?Wr(t,function(){var i=e;return function(s,u){return i===0||(i===1?--i:u(function(){s.advance(i),i=0}),!1)}}):Wr(t,function(){var i=e;return function(){return--i<0}})),this},Qe.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Wr(this._ctx,function(){var t=e;return function(i,s,u){return--t<=0&&s(u),0<=t}},!0),this},Qe.prototype.until=function(e,t){return zr(this._ctx,function(i,s,u){return!e(i.value)||(s(u),t)}),this},Qe.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},Qe.prototype.last=function(e){return this.reverse().first(e)},Qe.prototype.filter=function(e){var t;return zr(this._ctx,function(i){return e(i.value)}),(t=this._ctx).isMatch=hn(t.isMatch,e),this},Qe.prototype.and=function(e){return this.filter(e)},Qe.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Qe.prototype.desc=function(){return this.reverse()},Qe.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(i,s){e(s.key,s)})},Qe.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Qe.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(i,s){e(s.primaryKey,s)})},Qe.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var i=[];return this.each(function(s,u){i.push(u.key)}).then(function(){return i}).then(e)},Qe.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Dn(t,!0)&&0<t.limit)return this._read(function(s){var u=ur(t,t.table.core.schema);return t.table.core.query({trans:s,values:!1,limit:t.limit,query:{index:u,range:t.range}})}).then(function(s){return s.result}).then(e);t.keysOnly=!t.isMatch;var i=[];return this.each(function(s,u){i.push(u.primaryKey)}).then(function(){return i}).then(e)},Qe.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Qe.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},Qe.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Qe.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return zr(this._ctx,function(u){var s=u.primaryKey.toString(),u=E(t,s);return t[s]=!0,!u}),this},Qe.prototype.modify=function(e){var t=this,i=this._ctx;return this._write(function(s){var u,c,v;v=typeof e=="function"?e:(u=h(e),c=u.length,function(q){for(var W=!1,Q=0;Q<c;++Q){var J=u[Q],Z=e[J],ie=F(q,J);Z instanceof qn?(B(q,J,Z.execute(ie)),W=!0):ie!==Z&&(B(q,J,Z),W=!0)}return W});var p=i.table.core,m=p.schema.primaryKey,_=m.outbound,k=m.extractKey,T=200,m=t.db._options.modifyChunkSize;m&&(T=typeof m=="object"?m[p.name]||m["*"]||200:m);function P(q,J){var Q=J.failures,J=J.numFailures;D+=q-J;for(var Z=0,ie=h(Q);Z<ie.length;Z++){var re=ie[Z];w.push(Q[re])}}var w=[],D=0,M=[],C=e===Xa;return t.clone().primaryKeys().then(function(q){function W(J){var Z=Math.min(T,q.length-J),ie=q.slice(J,J+Z);return(C?Promise.resolve([]):p.getMany({trans:s,keys:ie,cache:"immutable"})).then(function(re){var ae=[],fe=[],le=_?[]:null,he=C?ie:[];if(!C)for(var qe=0;qe<Z;++qe){var Ge=re[qe],Fe={value:ke(Ge),primKey:q[J+qe]};v.call(Fe,Fe.value,Fe)!==!1&&(Fe.value==null?he.push(q[J+qe]):_||Ve(k(Ge),k(Fe.value))===0?(fe.push(Fe.value),_&&le.push(q[J+qe])):(he.push(q[J+qe]),ae.push(Fe.value)))}return Promise.resolve(0<ae.length&&p.mutate({trans:s,type:"add",values:ae}).then(function(ft){for(var je in ft.failures)he.splice(parseInt(je),1);P(ae.length,ft)})).then(function(){return(0<fe.length||Q&&typeof e=="object")&&p.mutate({trans:s,type:"put",keys:le,values:fe,criteria:Q,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<J}).then(function(ft){return P(fe.length,ft)})}).then(function(){return(0<he.length||Q&&C)&&p.mutate({trans:s,type:"delete",keys:he,criteria:Q,isAdditionalChunk:0<J}).then(function(ft){return sr(i.table,he,ft)}).then(function(ft){return P(he.length,ft)})}).then(function(){return q.length>J+Z&&W(J+T)})})}var Q=Dn(i)&&i.limit===1/0&&(typeof e!="function"||C)&&{index:i.index,range:i.range};return W(0).then(function(){if(0<w.length)throw new xe("Error modifying one or more objects",w,D,M);return q.length})})})},Qe.prototype.delete=function(){var e=this._ctx,t=e.range;return!Dn(e)||e.table.schema.yProps||!e.isPrimKey&&t.type!==3?this.modify(Xa):this._write(function(i){var s=e.table.core.schema.primaryKey,u=t;return e.table.core.count({trans:i,query:{index:s,range:u}}).then(function(c){return e.table.core.mutate({trans:i,type:"deleteRange",range:u}).then(function(_){var p=_.failures,_=_.numFailures;if(_)throw new xe("Could not delete some values",Object.keys(p).map(function(k){return p[k]}),c-_);return c-_})})})},Qe);function Qe(){}var Xa=function(e,t){return t.value=null};function ki(e,t){return e<t?-1:e===t?0:1}function xi(e,t){return t<e?-1:e===t?0:1}function At(e,t,i){return e=e instanceof $a?new e.Collection(e):e,e._ctx.error=new(i||TypeError)(t),e}function Sn(e){return new e.Collection(e,function(){return Za("")}).limit(0)}function cr(e,t,i,s){var u,c,v,p,_,k,T,m=i.length;if(!i.every(function(D){return typeof D=="string"}))return At(e,La);function P(D){u=D==="next"?function(C){return C.toUpperCase()}:function(C){return C.toLowerCase()},c=D==="next"?function(C){return C.toLowerCase()}:function(C){return C.toUpperCase()},v=D==="next"?ki:xi;var M=i.map(function(C){return{lower:c(C),upper:u(C)}}).sort(function(C,q){return v(C.lower,q.lower)});p=M.map(function(C){return C.upper}),_=M.map(function(C){return C.lower}),T=(k=D)==="next"?"":s}P("next"),e=new e.Collection(e,function(){return nn(p[0],_[m-1]+s)}),e._ondirectionchange=function(D){P(D)};var w=0;return e._addAlgorithm(function(D,M,C){var q=D.key;if(typeof q!="string")return!1;var W=c(q);if(t(W,_,w))return!0;for(var Q=null,J=w;J<m;++J){var Z=(function(ie,re,ae,fe,le,he){for(var qe=Math.min(ie.length,fe.length),Ge=-1,Fe=0;Fe<qe;++Fe){var ft=re[Fe];if(ft!==fe[Fe])return le(ie[Fe],ae[Fe])<0?ie.substr(0,Fe)+ae[Fe]+ae.substr(Fe+1):le(ie[Fe],fe[Fe])<0?ie.substr(0,Fe)+fe[Fe]+ae.substr(Fe+1):0<=Ge?ie.substr(0,Ge)+re[Ge]+ae.substr(Ge+1):null;le(ie[Fe],ft)<0&&(Ge=Fe)}return qe<fe.length&&he==="next"?ie+ae.substr(ie.length):qe<ie.length&&he==="prev"?ie.substr(0,ae.length):Ge<0?null:ie.substr(0,Ge)+fe[Ge]+ae.substr(Ge+1)})(q,W,p[J],_[J],v,k);Z===null&&Q===null?w=J+1:(Q===null||0<v(Q,Z))&&(Q=Z)}return M(Q!==null?function(){D.continue(Q+T)}:C),!1}),e}function nn(e,t,i,s){return{type:2,lower:e,upper:t,lowerOpen:i,upperOpen:s}}function Za(e){return{type:1,lower:e,upper:e}}var $a=(Object.defineProperty(mt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),mt.prototype.between=function(e,t,i,s){i=i!==!1,s=s===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(i||s)&&(!i||!s)?Sn(this):new this.Collection(this,function(){return nn(e,t,!i,!s)})}catch{return At(this,Vt)}},mt.prototype.equals=function(e){return e==null?At(this,Vt):new this.Collection(this,function(){return Za(e)})},mt.prototype.above=function(e){return e==null?At(this,Vt):new this.Collection(this,function(){return nn(e,void 0,!0)})},mt.prototype.aboveOrEqual=function(e){return e==null?At(this,Vt):new this.Collection(this,function(){return nn(e,void 0,!1)})},mt.prototype.below=function(e){return e==null?At(this,Vt):new this.Collection(this,function(){return nn(void 0,e,!1,!0)})},mt.prototype.belowOrEqual=function(e){return e==null?At(this,Vt):new this.Collection(this,function(){return nn(void 0,e)})},mt.prototype.startsWith=function(e){return typeof e!="string"?At(this,La):this.between(e,e+dn,!0,!0)},mt.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):cr(this,function(t,i){return t.indexOf(i[0])===0},[e],dn)},mt.prototype.equalsIgnoreCase=function(e){return cr(this,function(t,i){return t===i[0]},[e],"")},mt.prototype.anyOfIgnoreCase=function(){var e=He.apply(Ae,arguments);return e.length===0?Sn(this):cr(this,function(t,i){return i.indexOf(t)!==-1},e,"")},mt.prototype.startsWithAnyOfIgnoreCase=function(){var e=He.apply(Ae,arguments);return e.length===0?Sn(this):cr(this,function(t,i){return i.some(function(s){return t.indexOf(s)===0})},e,dn)},mt.prototype.anyOf=function(){var e=this,t=He.apply(Ae,arguments),i=this._cmp;try{t.sort(i)}catch{return At(this,Vt)}if(t.length===0)return Sn(this);var s=new this.Collection(this,function(){return nn(t[0],t[t.length-1])});s._ondirectionchange=function(c){i=c==="next"?e._ascending:e._descending,t.sort(i)};var u=0;return s._addAlgorithm(function(c,v,p){for(var _=c.key;0<i(_,t[u]);)if(++u===t.length)return v(p),!1;return i(_,t[u])===0||(v(function(){c.continue(t[u])}),!1)}),s},mt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},mt.prototype.noneOf=function(){var e=He.apply(Ae,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return At(this,Vt)}var t=e.reduce(function(i,s){return i?i.concat([[i[i.length-1][1],s]]):[[-1/0,s]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},mt.prototype.inAnyRange=function(q,t){var i=this,s=this._cmp,u=this._ascending,c=this._descending,v=this._min,p=this._max;if(q.length===0)return Sn(this);if(!q.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&u(W[0],W[1])<=0}))return At(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var _=!t||t.includeLowers!==!1,k=t&&t.includeUppers===!0,T,m=u;function P(W,Q){return m(W[0],Q[0])}try{(T=q.reduce(function(W,Q){for(var J=0,Z=W.length;J<Z;++J){var ie=W[J];if(s(Q[0],ie[1])<0&&0<s(Q[1],ie[0])){ie[0]=v(ie[0],Q[0]),ie[1]=p(ie[1],Q[1]);break}}return J===Z&&W.push(Q),W},[])).sort(P)}catch{return At(this,Vt)}var w=0,D=k?function(W){return 0<u(W,T[w][1])}:function(W){return 0<=u(W,T[w][1])},M=_?function(W){return 0<c(W,T[w][0])}:function(W){return 0<=c(W,T[w][0])},C=D,q=new this.Collection(this,function(){return nn(T[0][0],T[T.length-1][1],!_,!k)});return q._ondirectionchange=function(W){m=W==="next"?(C=D,u):(C=M,c),T.sort(P)},q._addAlgorithm(function(W,Q,J){for(var Z,ie=W.key;C(ie);)if(++w===T.length)return Q(J),!1;return!D(Z=ie)&&!M(Z)||(i._cmp(ie,T[w][1])===0||i._cmp(ie,T[w][0])===0||Q(function(){m===u?W.continue(T[w][0]):W.continue(T[w][1])}),!1)}),q},mt.prototype.startsWithAnyOf=function(){var e=He.apply(Ae,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?Sn(this):this.inAnyRange(e.map(function(t){return[t,t+dn]})):At(this,"startsWithAnyOf() only works with strings")},mt);function mt(){}function Lt(e){return ot(function(t){return Rn(t),e(t.target.error),!1})}function Rn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Nn="storagemutated",Ur="x-storagemutated-1",rn=Fn(null,Nn),Di=(zt.prototype._lock=function(){return O(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},zt.prototype._unlock=function(){if(O(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{fn(e[1],e[0])}catch{}}return this},zt.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},zt.prototype.create=function(e){var t=this;if(!this.mode)return this;var i=this.db.idbdb,s=this.db._state.dbOpenError;if(O(!this.idbtrans),!e&&!i)switch(s&&s.name){case"DatabaseClosedError":throw new te.DatabaseClosed(s);case"MissingAPIError":throw new te.MissingAPI(s.message,s);default:throw new te.OpenFailed(s)}if(!this.active)throw new te.TransactionInactive;return O(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||i).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ot(function(u){Rn(u),t._reject(e.error)}),e.onabort=ot(function(u){Rn(u),t.active&&t._reject(new te.Abort(e.error)),t.active=!1,t.on("abort").fire(u)}),e.oncomplete=ot(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&rn.storagemutated.fire(e.mutatedParts)}),this},zt.prototype._promise=function(e,t,i){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return ht(new te.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new te.TransactionInactive);if(this._locked())return new ce(function(c,v){s._blockedFuncs.push([function(){s._promise(e,t,i).then(c,v)},be])});if(i)return bt(function(){var c=new ce(function(v,p){s._lock();var _=t(v,p,s);_&&_.then&&_.then(v,p)});return c.finally(function(){return s._unlock()}),c._lib=!0,c});var u=new ce(function(c,v){var p=t(c,v,s);p&&p.then&&p.then(c,v)});return u._lib=!0,u},zt.prototype._root=function(){return this.parent?this.parent._root():this},zt.prototype.waitFor=function(e){var t,i=this._root(),s=ce.resolve(e);i._waitingFor?i._waitingFor=i._waitingFor.then(function(){return s}):(i._waitingFor=s,i._waitingQueue=[],t=i.idbtrans.objectStore(i.storeNames[0]),(function c(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(t.get(-1/0).onsuccess=c)})());var u=i._waitingFor;return new ce(function(c,v){s.then(function(p){return i._waitingQueue.push(ot(c.bind(null,p)))},function(p){return i._waitingQueue.push(ot(v.bind(null,p)))}).finally(function(){i._waitingFor===u&&(i._waitingFor=null)})})},zt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},zt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(E(t,e))return t[e];var i=this.schema[e];if(!i)throw new te.NotFound("Table "+e+" not part of transaction");return i=new this.db.Table(e,i,this),i.core=this.db.core.table(e),t[e]=i},zt);function zt(){}function Yr(e,t,i,s,u,c,v,p){return{name:e,keyPath:t,unique:i,multi:s,auto:u,compound:c,src:(i&&!v?"&":"")+(s?"*":"")+(u?"++":"")+eo(t),type:p}}function eo(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Vr(e,t,i){return{name:e,primKey:t,indexes:i,mappedClass:null,idxByName:(s=function(u){return[u.name,u]},i.reduce(function(u,c,v){return v=s(c,v),v&&(u[v[0]]=v[1]),u},{}))};var s}var Bn=function(e){try{return e.only([[]]),Bn=function(){return[[]]},[[]]}catch{return Bn=function(){return dn},dn}};function Gr(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(i){return i[t]}:function(i){return F(i,t)}:function(i){return F(i,e)};var t}function to(e){return[].slice.call(e)}var Si=0;function Hn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Ti(e,t,_){function s(C){if(C.type===3)return null;if(C.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var w=C.lower,D=C.upper,M=C.lowerOpen,C=C.upperOpen;return w===void 0?D===void 0?null:t.upperBound(D,!!C):D===void 0?t.lowerBound(w,!!M):t.bound(w,D,!!M,!!C)}function u(P){var w,D=P.name;return{name:D,schema:P,mutate:function(M){var C=M.trans,q=M.type,W=M.keys,Q=M.values,J=M.range;return new Promise(function(Z,ie){Z=ot(Z);var re=C.objectStore(D),ae=re.keyPath==null,fe=q==="put"||q==="add";if(!fe&&q!=="delete"&&q!=="deleteRange")throw new Error("Invalid operation type: "+q);var le,he=(W||Q||{length:1}).length;if(W&&Q&&W.length!==Q.length)throw new Error("Given keys array must have same length as given values array.");if(he===0)return Z({numFailures:0,failures:{},results:[],lastResult:void 0});function qe(Ct){++ft,Rn(Ct)}var Ge=[],Fe=[],ft=0;if(q==="deleteRange"){if(J.type===4)return Z({numFailures:ft,failures:Fe,results:[],lastResult:void 0});J.type===3?Ge.push(le=re.clear()):Ge.push(le=re.delete(s(J)))}else{var ae=fe?ae?[Q,W]:[Q,null]:[W,null],je=ae[0],Dt=ae[1];if(fe)for(var St=0;St<he;++St)Ge.push(le=Dt&&Dt[St]!==void 0?re[q](je[St],Dt[St]):re[q](je[St])),le.onerror=qe;else for(St=0;St<he;++St)Ge.push(le=re[q](je[St])),le.onerror=qe}function kr(Ct){Ct=Ct.target.result,Ge.forEach(function(pn,da){return pn.error!=null&&(Fe[da]=pn.error)}),Z({numFailures:ft,failures:Fe,results:q==="delete"?W:Ge.map(function(pn){return pn.result}),lastResult:Ct})}le.onerror=function(Ct){qe(Ct),kr(Ct)},le.onsuccess=kr})},getMany:function(M){var C=M.trans,q=M.keys;return new Promise(function(W,Q){W=ot(W);for(var J,Z=C.objectStore(D),ie=q.length,re=new Array(ie),ae=0,fe=0,le=function(Ge){Ge=Ge.target,re[Ge._pos]=Ge.result,++fe===ae&&W(re)},he=Lt(Q),qe=0;qe<ie;++qe)q[qe]!=null&&((J=Z.get(q[qe]))._pos=qe,J.onsuccess=le,J.onerror=he,++ae);ae===0&&W(re)})},get:function(M){var C=M.trans,q=M.key;return new Promise(function(W,Q){W=ot(W);var J=C.objectStore(D).get(q);J.onsuccess=function(Z){return W(Z.target.result)},J.onerror=Lt(Q)})},query:(w=k,function(M){return new Promise(function(C,q){C=ot(C);var W,Q,J,ae=M.trans,Z=M.values,ie=M.limit,le=M.query,re=ie===1/0?void 0:ie,fe=le.index,le=le.range,ae=ae.objectStore(D),fe=fe.isPrimaryKey?ae:ae.index(fe.name),le=s(le);if(ie===0)return C({result:[]});w?((re=Z?fe.getAll(le,re):fe.getAllKeys(le,re)).onsuccess=function(he){return C({result:he.target.result})},re.onerror=Lt(q)):(W=0,Q=!Z&&"openKeyCursor"in fe?fe.openKeyCursor(le):fe.openCursor(le),J=[],Q.onsuccess=function(he){var qe=Q.result;return qe?(J.push(Z?qe.value:qe.primaryKey),++W===ie?C({result:J}):void qe.continue()):C({result:J})},Q.onerror=Lt(q))})}),openCursor:function(M){var C=M.trans,q=M.values,W=M.query,Q=M.reverse,J=M.unique;return new Promise(function(Z,ie){Z=ot(Z);var fe=W.index,re=W.range,ae=C.objectStore(D),ae=fe.isPrimaryKey?ae:ae.index(fe.name),fe=Q?J?"prevunique":"prev":J?"nextunique":"next",le=!q&&"openKeyCursor"in ae?ae.openKeyCursor(s(re),fe):ae.openCursor(s(re),fe);le.onerror=Lt(ie),le.onsuccess=ot(function(he){var qe,Ge,Fe,ft,je=le.result;je?(je.___id=++Si,je.done=!1,qe=je.continue.bind(je),Ge=(Ge=je.continuePrimaryKey)&&Ge.bind(je),Fe=je.advance.bind(je),ft=function(){throw new Error("Cursor not stopped")},je.trans=C,je.stop=je.continue=je.continuePrimaryKey=je.advance=function(){throw new Error("Cursor not started")},je.fail=ot(ie),je.next=function(){var Dt=this,St=1;return this.start(function(){return St--?Dt.continue():Dt.stop()}).then(function(){return Dt})},je.start=function(Dt){function St(){if(le.result)try{Dt()}catch(Ct){je.fail(Ct)}else je.done=!0,je.start=function(){throw new Error("Cursor behind last entry")},je.stop()}var kr=new Promise(function(Ct,pn){Ct=ot(Ct),le.onerror=Lt(pn),je.fail=pn,je.stop=function(da){je.stop=je.continue=je.continuePrimaryKey=je.advance=ft,Ct(da)}});return le.onsuccess=ot(function(Ct){le.onsuccess=St,St()}),je.continue=qe,je.continuePrimaryKey=Ge,je.advance=Fe,St(),kr},Z(je)):Z(null)},ie)})},count:function(M){var C=M.query,q=M.trans,W=C.index,Q=C.range;return new Promise(function(J,Z){var ie=q.objectStore(D),re=W.isPrimaryKey?ie:ie.index(W.name),ie=s(Q),re=ie?re.count(ie):re.count();re.onsuccess=ot(function(ae){return J(ae.target.result)}),re.onerror=Lt(Z)})}}}var c,v,p,T=(v=_,p=to((c=e).objectStoreNames),{schema:{name:c.name,tables:p.map(function(P){return v.objectStore(P)}).map(function(P){var w=P.keyPath,C=P.autoIncrement,D=g(w),M={},C={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w==null,compound:D,keyPath:w,autoIncrement:C,unique:!0,extractKey:Gr(w)},indexes:to(P.indexNames).map(function(q){return P.index(q)}).map(function(J){var W=J.name,Q=J.unique,Z=J.multiEntry,J=J.keyPath,Z={name:W,compound:g(J),keyPath:J,unique:Q,multiEntry:Z,extractKey:Gr(J)};return M[Hn(J)]=Z}),getIndexByKeyPath:function(q){return M[Hn(q)]}};return M[":id"]=C.primaryKey,w!=null&&(M[Hn(w)]=C.primaryKey),C})},hasGetAll:0<p.length&&"getAll"in v.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=T.schema,k=T.hasGetAll,T=_.tables.map(u),m={};return T.forEach(function(P){return m[P.name]=P}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(P){if(!m[P])throw new Error("Table '".concat(P,"' not found"));return m[P]},MIN_KEY:-1/0,MAX_KEY:Bn(t),schema:_}}function Ci(e,t,i,s){var u=i.IDBKeyRange;return i.indexedDB,{dbcore:(s=Ti(t,u,s),e.dbcore.reduce(function(c,v){return v=v.create,o(o({},c),v(c))},s))}}function fr(e,s){var i=s.db,s=Ci(e._middlewares,i,e._deps,s);e.core=s.dbcore,e.tables.forEach(function(u){var c=u.name;e.core.schema.tables.some(function(v){return v.name===c})&&(u.core=e.core.table(c),e[c]instanceof e.Table&&(e[c].core=u.core))})}function dr(e,t,i,s){i.forEach(function(u){var c=s[u];t.forEach(function(v){var p=(function _(k,T){return K(k,T)||(k=x(k))&&_(k,T)})(v,u);(!p||"value"in p&&p.value===void 0)&&(v===e.Transaction.prototype||v instanceof e.Transaction?N(v,u,{get:function(){return this.table(u)},set:function(_){L(this,u,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[u]=new e.Table(u,c))})})}function Qr(e,t){t.forEach(function(i){for(var s in i)i[s]instanceof e.Table&&delete i[s]})}function Ei(e,t){return e._cfg.version-t._cfg.version}function Ii(e,t,i,s){var u=e._dbSchema;i.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=Vr("$meta",ro("")[0],[]),e._storeNames.push("$meta"));var c=e._createTransaction("readwrite",e._storeNames,u);c.create(i),c._completion.catch(s);var v=c._reject.bind(c),p=be.transless||be;bt(function(){return be.trans=c,be.transless=p,t!==0?(fr(e,i),k=t,((_=c).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(T){return T??k}):ce.resolve(k)).then(function(T){return P=T,w=c,D=i,M=[],T=(m=e)._versions,C=m._dbSchema=vr(0,m.idbdb,D),(T=T.filter(function(q){return q._cfg.version>=P})).length!==0?(T.forEach(function(q){M.push(function(){var W=C,Q=q._cfg.dbschema;gr(m,W,D),gr(m,Q,D),C=m._dbSchema=Q;var J=Jr(W,Q);J.add.forEach(function(fe){Xr(D,fe[0],fe[1].primKey,fe[1].indexes)}),J.change.forEach(function(fe){if(fe.recreate)throw new te.Upgrade("Not yet support for changing primary key");var le=D.objectStore(fe.name);fe.add.forEach(function(he){return hr(le,he)}),fe.change.forEach(function(he){le.deleteIndex(he.name),hr(le,he)}),fe.del.forEach(function(he){return le.deleteIndex(he)})});var Z=q._cfg.contentUpgrade;if(Z&&q._cfg.version>P){fr(m,D),w._memoizedTables={};var ie=oe(Q);J.del.forEach(function(fe){ie[fe]=W[fe]}),Qr(m,[m.Transaction.prototype]),dr(m,[m.Transaction.prototype],h(ie),ie),w.schema=ie;var re,ae=$(Z);return ae&&Ht(),J=ce.follow(function(){var fe;(re=Z(w))&&ae&&(fe=Nt.bind(null,null),re.then(fe,fe))}),re&&typeof re.then=="function"?ce.resolve(re):J.then(function(){return re})}}),M.push(function(W){var Q,J,Z=q._cfg.dbschema;Q=Z,J=W,[].slice.call(J.db.objectStoreNames).forEach(function(ie){return Q[ie]==null&&J.db.deleteObjectStore(ie)}),Qr(m,[m.Transaction.prototype]),dr(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),w.schema=m._dbSchema}),M.push(function(W){m.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(m.idbdb.version/10)===q._cfg.version?(m.idbdb.deleteObjectStore("$meta"),delete m._dbSchema.$meta,m._storeNames=m._storeNames.filter(function(Q){return Q!=="$meta"})):W.objectStore("$meta").put(q._cfg.version,"version"))})}),(function q(){return M.length?ce.resolve(M.shift()(w.idbtrans)).then(q):ce.resolve()})().then(function(){no(C,D)})):ce.resolve();var m,P,w,D,M,C}).catch(v)):(h(u).forEach(function(T){Xr(i,T,u[T].primKey,u[T].indexes)}),fr(e,i),void ce.follow(function(){return e.on.populate.fire(c)}).catch(v));var _,k})}function Oi(e,t){no(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var i=vr(0,e.idbdb,t);gr(e,e._dbSchema,t);for(var s=0,u=Jr(i,e._dbSchema).change;s<u.length;s++){var c=(function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var p=t.objectStore(v.name);v.add.forEach(function(_){it&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(_.src)),hr(p,_)})})(u[s]);if(typeof c=="object")return c.value}}function Jr(e,t){var i,s={del:[],add:[],change:[]};for(i in e)t[i]||s.del.push(i);for(i in t){var u=e[i],c=t[i];if(u){var v={name:i,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||u.primKey.auto!==c.primKey.auto)v.recreate=!0,s.change.push(v);else{var p=u.idxByName,_=c.idxByName,k=void 0;for(k in p)_[k]||v.del.push(k);for(k in _){var T=p[k],m=_[k];T?T.src!==m.src&&v.change.push(m):v.add.push(m)}(0<v.del.length||0<v.add.length||0<v.change.length)&&s.change.push(v)}}else s.add.push([i,c])}return s}function Xr(e,t,i,s){var u=e.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return s.forEach(function(c){return hr(u,c)}),u}function no(e,t){h(e).forEach(function(i){t.db.objectStoreNames.contains(i)||(it&&console.debug("Dexie: Creating missing table",i),Xr(t,i,e[i].primKey,e[i].indexes))})}function hr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function vr(e,t,i){var s={};return b(t.objectStoreNames,0).forEach(function(u){for(var c=i.objectStore(u),v=Yr(eo(k=c.keyPath),k||"",!0,!1,!!c.autoIncrement,k&&typeof k!="string",!0),p=[],_=0;_<c.indexNames.length;++_){var T=c.index(c.indexNames[_]),k=T.keyPath,T=Yr(T.name,k,!!T.unique,!!T.multiEntry,!1,k&&typeof k!="string",!1);p.push(T)}s[u]=Vr(u,v,p)}),s}function gr(e,t,i){for(var s=i.db.objectStoreNames,u=0;u<s.length;++u){var c=s[u],v=i.objectStore(c);e._hasGetAll="getAll"in v;for(var p=0;p<v.indexNames.length;++p){var _=v.indexNames[p],k=v.index(_).keyPath,T=typeof k=="string"?k:"["+b(k).join("+")+"]";!t[c]||(k=t[c].idxByName[T])&&(k.name=_,delete t[c].idxByName[T],t[c].idxByName[_]=k)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function ro(e){return e.split(",").map(function(t,i){var c=t.split(":"),s=(u=c[1])===null||u===void 0?void 0:u.trim(),u=(t=c[0].trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return Yr(u,c||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),g(c),i===0,s)})}var Mi=(Tn.prototype._createTableSchema=Vr,Tn.prototype._parseIndexSyntax=ro,Tn.prototype._parseStoresSpec=function(e,t){var i=this;h(e).forEach(function(s){if(e[s]!==null){var u=i._parseIndexSyntax(e[s]),c=u.shift();if(!c)throw new te.Schema("Invalid schema for table "+s+": "+e[s]);if(c.unique=!0,c.multi)throw new te.Schema("Primary key cannot be multiEntry*");u.forEach(function(v){if(v.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")}),u=i._createTableSchema(s,c,u),t[s]=u}})},Tn.prototype.stores=function(i){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,i):i;var i=t._versions,s={},u={};return i.forEach(function(c){y(s,c._cfg.storesSource),u=c._cfg.dbschema={},c._parseStoresSpec(s,u)}),t._dbSchema=u,Qr(t,[t._allTables,t,t.Transaction.prototype]),dr(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],h(u),u),t._storeNames=h(u),this},Tn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Ot(this._cfg.contentUpgrade||Ee,e),this},Tn);function Tn(){}function Zr(e,t){var i=e._dbNamesDB;return i||(i=e._dbNamesDB=new Gt(or,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),i.table("dbnames")}function $r(e){return e&&typeof e.databases=="function"}function ea(e){return bt(function(){return be.letThrough=!0,e()})}function ta(e){return!("from"in e)}var xt=function(e,t){if(!this){var i=new xt;return e&&"d"in e&&y(i,e),i}y(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Ln(e,t,i){var s=Ve(t,i);if(!isNaN(s)){if(0<s)throw RangeError();if(ta(e))return y(e,{from:t,to:i,d:1});var u=e.l,s=e.r;if(Ve(i,e.from)<0)return u?Ln(u,t,i):e.l={from:t,to:i,d:1,l:null,r:null},oo(e);if(0<Ve(t,e.to))return s?Ln(s,t,i):e.r={from:t,to:i,d:1,l:null,r:null},oo(e);Ve(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),0<Ve(i,e.to)&&(e.to=i,e.r=null,e.d=e.l?e.l.d+1:1),i=!e.r,u&&!e.l&&zn(e,u),s&&i&&zn(e,s)}}function zn(e,t){ta(t)||(function i(s,_){var c=_.from,v=_.to,p=_.l,_=_.r;Ln(s,c,v),p&&i(s,p),_&&i(s,_)})(e,t)}function ao(e,t){var i=pr(t),s=i.next();if(s.done)return!1;for(var u=s.value,c=pr(e),v=c.next(u.from),p=v.value;!s.done&&!v.done;){if(Ve(p.from,u.to)<=0&&0<=Ve(p.to,u.from))return!0;Ve(u.from,p.from)<0?u=(s=i.next(p.from)).value:p=(v=c.next(u.from)).value}return!1}function pr(e){var t=ta(e)?null:{s:0,n:e};return{next:function(i){for(var s=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,s)for(;t.n.l&&Ve(i,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!s||Ve(i,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function oo(e){var t,i,s=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((i=e.l)===null||i===void 0?void 0:i.d)||0),u=1<s?"r":s<-1?"l":"";u&&(t=u=="r"?"l":"r",i=o({},e),s=e[u],e.from=s.from,e.to=s.to,e[u]=s[u],i[u]=s[t],(e[t]=i).d=io(i)),e.d=io(e)}function io(i){var t=i.r,i=i.l;return(t?i?Math.max(t.d,i.d):t.d:i?i.d:0)+1}function mr(e,t){return h(t).forEach(function(i){e[i]?zn(e[i],t[i]):e[i]=(function s(u){var c,v,p={};for(c in u)E(u,c)&&(v=u[c],p[c]=!v||typeof v!="object"||de.has(v.constructor)?v:s(v));return p})(t[i])}),e}function na(e,t){return e.all||t.all||Object.keys(e).some(function(i){return t[i]&&ao(t[i],e[i])})}R(xt.prototype,((Ft={add:function(e){return zn(this,e),this},addKey:function(e){return Ln(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(i){return Ln(t,i,i)}),this},hasKey:function(e){var t=pr(this).next(e).value;return t&&Ve(t.from,e)<=0&&0<=Ve(t.to,e)}})[Be]=function(){return pr(this)},Ft));var vn={},ra={},aa=!1;function yr(e){mr(ra,e),aa||(aa=!0,setTimeout(function(){aa=!1,oa(ra,!(ra={}))},0))}function oa(e,t){t===void 0&&(t=!1);var i=new Set;if(e.all)for(var s=0,u=Object.values(vn);s<u.length;s++)so(v=u[s],e,i,t);else for(var c in e){var v,p=/^idb\:\/\/(.*)\/(.*)\//.exec(c);p&&(c=p[1],p=p[2],(v=vn["idb://".concat(c,"/").concat(p)])&&so(v,e,i,t))}i.forEach(function(_){return _()})}function so(e,t,i,s){for(var u=[],c=0,v=Object.entries(e.queries.query);c<v.length;c++){for(var p=v[c],_=p[0],k=[],T=0,m=p[1];T<m.length;T++){var P=m[T];na(t,P.obsSet)?P.subscribers.forEach(function(C){return i.add(C)}):s&&k.push(P)}s&&u.push([_,k])}if(s)for(var w=0,D=u;w<D.length;w++){var M=D[w],_=M[0],k=M[1];e.queries.query[_]=k}}function Ai(e){var t=e._state,i=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ht(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var s=t.openCanceller,u=Math.round(10*e.verno),c=!1;function v(){if(t.openCanceller!==s)throw new te.DatabaseClosed("db.open() was cancelled")}function p(){return new ce(function(P,w){if(v(),!i)throw new te.MissingAPI;var D=e.name,M=t.autoSchema||!u?i.open(D):i.open(D,u);if(!M)throw new te.MissingAPI;M.onerror=Lt(w),M.onblocked=ot(e._fireOnBlocked),M.onupgradeneeded=ot(function(C){var q;T=M.transaction,t.autoSchema&&!e._options.allowEmptyDB?(M.onerror=Rn,T.abort(),M.result.close(),(q=i.deleteDatabase(D)).onsuccess=q.onerror=ot(function(){w(new te.NoSuchDatabase("Database ".concat(D," doesnt exist")))})):(T.onerror=Lt(w),C=C.oldVersion>Math.pow(2,62)?0:C.oldVersion,m=C<1,e.idbdb=M.result,c&&Oi(e,T),Ii(e,C/10,T,w))},w),M.onsuccess=ot(function(){T=null;var C,q,W,Q,J,Z=e.idbdb=M.result,ie=b(Z.objectStoreNames);if(0<ie.length)try{var re=Z.transaction((Q=ie).length===1?Q[0]:Q,"readonly");if(t.autoSchema)q=Z,W=re,(C=e).verno=q.version/10,W=C._dbSchema=vr(0,q,W),C._storeNames=b(q.objectStoreNames,0),dr(C,[C._allTables],h(W),W);else if(gr(e,e._dbSchema,re),((J=Jr(vr(0,(J=e).idbdb,re),J._dbSchema)).add.length||J.change.some(function(ae){return ae.add.length||ae.change.length}))&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Z.close(),u=Z.version+1,c=!0,P(p());fr(e,re)}catch{}xn.push(e),Z.onversionchange=ot(function(ae){t.vcFired=!0,e.on("versionchange").fire(ae)}),Z.onclose=ot(function(ae){e.on("close").fire(ae)}),m&&(J=e._deps,re=D,Z=J.indexedDB,J=J.IDBKeyRange,$r(Z)||re===or||Zr(Z,J).put({name:re}).catch(Ee)),P()},w)}).catch(function(P){switch(P==null?void 0:P.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),p();break;case"VersionError":if(0<u)return u=0,p()}return ce.reject(P)})}var _,k=t.dbReadyResolve,T=null,m=!1;return ce.race([s,(typeof navigator>"u"?ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function w(){return indexedDB.databases().finally(P)}_=setInterval(w,100),w()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(p)]).then(function(){return v(),t.onReadyBeingFired=[],ce.resolve(ea(function(){return e.on.ready.fire(e.vip)})).then(function P(){if(0<t.onReadyBeingFired.length){var w=t.onReadyBeingFired.reduce(Ot,Ee);return t.onReadyBeingFired=[],ce.resolve(ea(function(){return w(e.vip)})).then(P)}})}).finally(function(){t.openCanceller===s&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(P){t.dbOpenError=P;try{T&&T.abort()}catch{}return s===t.openCanceller&&e._close(),ht(P)}).finally(function(){t.openComplete=!0,k()}).then(function(){var P;return m&&(P={},e.tables.forEach(function(w){w.schema.indexes.forEach(function(D){D.name&&(P["idb://".concat(e.name,"/").concat(w.name,"/").concat(D.name)]=new xt(-1/0,[[[]]]))}),P["idb://".concat(e.name,"/").concat(w.name,"/")]=P["idb://".concat(e.name,"/").concat(w.name,"/:dels")]=new xt(-1/0,[[[]]])}),rn(Nn).fire(P),oa(P,!0)),e})}function ia(e){function t(c){return e.next(c)}var i=u(t),s=u(function(c){return e.throw(c)});function u(c){return function(_){var p=c(_),_=p.value;return p.done?_:_&&typeof _.then=="function"?_.then(i,s):g(_)?Promise.all(_).then(i,s):i(_)}}return u(t)()}function br(e,t,i){for(var s=g(e)?e.slice():[e],u=0;u<i;++u)s.push(t);return s}var Pi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return o(o({},e),{table:function(t){var i=e.table(t),s=i.schema,u={},c=[];function v(m,P,w){var D=Hn(m),M=u[D]=u[D]||[],C=m==null?0:typeof m=="string"?1:m.length,q=0<P,q=o(o({},w),{name:q?"".concat(D,"(virtual-from:").concat(w.name,")"):w.name,lowLevelIndex:w,isVirtual:q,keyTail:P,keyLength:C,extractKey:Gr(m),unique:!q&&w.unique});return M.push(q),q.isPrimaryKey||c.push(q),1<C&&v(C===2?m[0]:m.slice(0,C-1),P+1,w),M.sort(function(W,Q){return W.keyTail-Q.keyTail}),q}t=v(s.primaryKey.keyPath,0,s.primaryKey),u[":id"]=[t];for(var p=0,_=s.indexes;p<_.length;p++){var k=_[p];v(k.keyPath,0,k)}function T(m){var P,w=m.query.index;return w.isVirtual?o(o({},m),{query:{index:w.lowLevelIndex,range:(P=m.query.range,w=w.keyTail,{type:P.type===1?2:P.type,lower:br(P.lower,P.lowerOpen?e.MAX_KEY:e.MIN_KEY,w),lowerOpen:!0,upper:br(P.upper,P.upperOpen?e.MIN_KEY:e.MAX_KEY,w),upperOpen:!0})}}):m}return o(o({},i),{schema:o(o({},s),{primaryKey:t,indexes:c,getIndexByKeyPath:function(m){return(m=u[Hn(m)])&&m[0]}}),count:function(m){return i.count(T(m))},query:function(m){return i.query(T(m))},openCursor:function(m){var P=m.query.index,w=P.keyTail,D=P.isVirtual,M=P.keyLength;return D?i.openCursor(T(m)).then(function(q){return q&&C(q)}):i.openCursor(m);function C(q){return Object.create(q,{continue:{value:function(W){W!=null?q.continue(br(W,m.reverse?e.MAX_KEY:e.MIN_KEY,w)):m.unique?q.continue(q.key.slice(0,M).concat(m.reverse?e.MIN_KEY:e.MAX_KEY,w)):q.continue()}},continuePrimaryKey:{value:function(W,Q){q.continuePrimaryKey(br(W,e.MAX_KEY,w),Q)}},primaryKey:{get:function(){return q.primaryKey}},key:{get:function(){var W=q.key;return M===1?W[0]:W.slice(0,M)}},value:{get:function(){return q.value}}})}}})}})}};function sa(e,t,i,s){return i=i||{},s=s||"",h(e).forEach(function(u){var c,v,p;E(t,u)?(c=e[u],v=t[u],typeof c=="object"&&typeof v=="object"&&c&&v?(p=Ke(c))!==Ke(v)?i[s+u]=t[u]:p==="Object"?sa(c,v,i,s+u+"."):c!==v&&(i[s+u]=t[u]):c!==v&&(i[s+u]=t[u])):i[s+u]=void 0}),h(t).forEach(function(u){E(e,u)||(i[s+u]=t[u])}),i}function ua(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var ji={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return o(o({},e),{table:function(t){var i=e.table(t),s=i.schema.primaryKey;return o(o({},i),{mutate:function(u){var c=be.trans,v=c.table(t).hook,p=v.deleting,_=v.creating,k=v.updating;switch(u.type){case"add":if(_.fire===Ee)break;return c._promise("readwrite",function(){return T(u)},!0);case"put":if(_.fire===Ee&&k.fire===Ee)break;return c._promise("readwrite",function(){return T(u)},!0);case"delete":if(p.fire===Ee)break;return c._promise("readwrite",function(){return T(u)},!0);case"deleteRange":if(p.fire===Ee)break;return c._promise("readwrite",function(){return(function m(P,w,D){return i.query({trans:P,values:!1,query:{index:s,range:w},limit:D}).then(function(M){var C=M.result;return T({type:"delete",keys:C,trans:P}).then(function(q){return 0<q.numFailures?Promise.reject(q.failures[0]):C.length<D?{failures:[],numFailures:0,lastResult:void 0}:m(P,o(o({},w),{lower:C[C.length-1],lowerOpen:!0}),D)})})})(u.trans,u.range,1e4)},!0)}return i.mutate(u);function T(m){var P,w,D,M=be.trans,C=m.keys||ua(s,m);if(!C)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?o(o({},m),{keys:C}):o({},m)).type!=="delete"&&(m.values=l([],m.values)),m.keys&&(m.keys=l([],m.keys)),P=i,D=C,((w=m).type==="add"?Promise.resolve([]):P.getMany({trans:w.trans,keys:D,cache:"immutable"})).then(function(q){var W=C.map(function(Q,J){var Z,ie,re,ae=q[J],fe={onerror:null,onsuccess:null};return m.type==="delete"?p.fire.call(fe,Q,ae,M):m.type==="add"||ae===void 0?(Z=_.fire.call(fe,Q,m.values[J],M),Q==null&&Z!=null&&(m.keys[J]=Q=Z,s.outbound||B(m.values[J],s.keyPath,Q))):(Z=sa(ae,m.values[J]),(ie=k.fire.call(fe,Z,Q,ae,M))&&(re=m.values[J],Object.keys(ie).forEach(function(le){E(re,le)?re[le]=ie[le]:B(re,le,ie[le])}))),fe});return i.mutate(m).then(function(Q){for(var J=Q.failures,Z=Q.results,ie=Q.numFailures,Q=Q.lastResult,re=0;re<C.length;++re){var ae=(Z||C)[re],fe=W[re];ae==null?fe.onerror&&fe.onerror(J[re]):fe.onsuccess&&fe.onsuccess(m.type==="put"&&q[re]?m.values[re]:ae)}return{failures:J,results:Z,numFailures:ie,lastResult:Q}}).catch(function(Q){return W.forEach(function(J){return J.onerror&&J.onerror(Q)}),Promise.reject(Q)})})}}})}})}};function uo(e,t,i){try{if(!t||t.keys.length<e.length)return null;for(var s=[],u=0,c=0;u<t.keys.length&&c<e.length;++u)Ve(t.keys[u],e[c])===0&&(s.push(i?ke(t.values[u]):t.values[u]),++c);return s.length===e.length?s:null}catch{return null}}var Fi={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var i=e.table(t);return o(o({},i),{getMany:function(s){if(!s.cache)return i.getMany(s);var u=uo(s.keys,s.trans._cache,s.cache==="clone");return u?ce.resolve(u):i.getMany(s).then(function(c){return s.trans._cache={keys:s.keys,values:s.cache==="clone"?ke(c):c},c})},mutate:function(s){return s.type!=="add"&&(s.trans._cache=null),i.mutate(s)}})}}}};function lo(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function co(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ki={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,i=new xt(e.MIN_KEY,e.MAX_KEY);return o(o({},e),{transaction:function(s,u,c){if(be.subscr&&u!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return e.transaction(s,u,c)},table:function(s){var u=e.table(s),c=u.schema,v=c.primaryKey,m=c.indexes,p=v.extractKey,_=v.outbound,k=v.autoIncrement&&m.filter(function(w){return w.compound&&w.keyPath.includes(v.keyPath)}),T=o(o({},u),{mutate:function(w){function D(le){return le="idb://".concat(t,"/").concat(s,"/").concat(le),Q[le]||(Q[le]=new xt)}var M,C,q,W=w.trans,Q=w.mutatedParts||(w.mutatedParts={}),J=D(""),Z=D(":dels"),ie=w.type,fe=w.type==="deleteRange"?[w.range]:w.type==="delete"?[w.keys]:w.values.length<50?[ua(v,w).filter(function(le){return le}),w.values]:[],re=fe[0],ae=fe[1],fe=w.trans._cache;return g(re)?(J.addKeys(re),(fe=ie==="delete"||re.length===ae.length?uo(re,fe):null)||Z.addKeys(re),(fe||ae)&&(M=D,C=fe,q=ae,c.indexes.forEach(function(le){var he=M(le.name||"");function qe(Fe){return Fe!=null?le.extractKey(Fe):null}function Ge(Fe){return le.multiEntry&&g(Fe)?Fe.forEach(function(ft){return he.addKey(ft)}):he.addKey(Fe)}(C||q).forEach(function(Fe,Dt){var je=C&&qe(C[Dt]),Dt=q&&qe(q[Dt]);Ve(je,Dt)!==0&&(je!=null&&Ge(je),Dt!=null&&Ge(Dt))})}))):re?(ae={from:(ae=re.lower)!==null&&ae!==void 0?ae:e.MIN_KEY,to:(ae=re.upper)!==null&&ae!==void 0?ae:e.MAX_KEY},Z.add(ae),J.add(ae)):(J.add(i),Z.add(i),c.indexes.forEach(function(le){return D(le.name).add(i)})),u.mutate(w).then(function(le){return!re||w.type!=="add"&&w.type!=="put"||(J.addKeys(le.results),k&&k.forEach(function(he){for(var qe=w.values.map(function(je){return he.extractKey(je)}),Ge=he.keyPath.findIndex(function(je){return je===v.keyPath}),Fe=0,ft=le.results.length;Fe<ft;++Fe)qe[Fe][Ge]=le.results[Fe];D(he.name).addKeys(qe)})),W.mutatedParts=mr(W.mutatedParts||{},Q),le})}}),m=function(D){var M=D.query,D=M.index,M=M.range;return[D,new xt((D=M.lower)!==null&&D!==void 0?D:e.MIN_KEY,(M=M.upper)!==null&&M!==void 0?M:e.MAX_KEY)]},P={get:function(w){return[v,new xt(w.key)]},getMany:function(w){return[v,new xt().addKeys(w.keys)]},count:m,query:m,openCursor:m};return h(P).forEach(function(w){T[w]=function(D){var M=be.subscr,C=!!M,q=lo(be,u)&&co(w,D)?D.obsSet={}:M;if(C){var W=function(ae){return ae="idb://".concat(t,"/").concat(s,"/").concat(ae),q[ae]||(q[ae]=new xt)},Q=W(""),J=W(":dels"),M=P[w](D),C=M[0],M=M[1];if((w==="query"&&C.isPrimaryKey&&!D.values?J:W(C.name||"")).add(M),!C.isPrimaryKey){if(w!=="count"){var Z=w==="query"&&_&&D.values&&u.query(o(o({},D),{values:!1}));return u[w].apply(this,arguments).then(function(ae){if(w==="query"){if(_&&D.values)return Z.then(function(qe){return qe=qe.result,Q.addKeys(qe),ae});var fe=D.values?ae.result.map(p):ae.result;(D.values?Q:J).addKeys(fe)}else if(w==="openCursor"){var le=ae,he=D.values;return le&&Object.create(le,{key:{get:function(){return J.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var qe=le.primaryKey;return J.addKey(qe),qe}},value:{get:function(){return he&&Q.addKey(le.primaryKey),le.value}}})}return ae})}J.add(i)}}return u[w].apply(this,arguments)}}),T}})}};function fo(e,t,i){if(i.numFailures===0)return t;if(t.type==="deleteRange")return null;var s=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return i.numFailures===s?null:(t=o({},t),g(t.keys)&&(t.keys=t.keys.filter(function(u,c){return!(c in i.failures)})),"values"in t&&g(t.values)&&(t.values=t.values.filter(function(u,c){return!(c in i.failures)})),t)}function la(e,t){return i=e,((s=t).lower===void 0||(s.lowerOpen?0<Ve(i,s.lower):0<=Ve(i,s.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?Ve(e,t.upper)<0:Ve(e,t.upper)<=0));var i,s}function ho(e,t,P,s,u,c){if(!P||P.length===0)return e;var v=t.query.index,p=v.multiEntry,_=t.query.range,k=s.schema.primaryKey.extractKey,T=v.extractKey,m=(v.lowLevelIndex||v).extractKey,P=P.reduce(function(w,D){var M=w,C=[];if(D.type==="add"||D.type==="put")for(var q=new xt,W=D.values.length-1;0<=W;--W){var Q,J=D.values[W],Z=k(J);q.hasKey(Z)||(Q=T(J),(p&&g(Q)?Q.some(function(le){return la(le,_)}):la(Q,_))&&(q.addKey(Z),C.push(J)))}switch(D.type){case"add":var ie=new xt().addKeys(t.values?w.map(function(he){return k(he)}):w),M=w.concat(t.values?C.filter(function(he){return he=k(he),!ie.hasKey(he)&&(ie.addKey(he),!0)}):C.map(function(he){return k(he)}).filter(function(he){return!ie.hasKey(he)&&(ie.addKey(he),!0)}));break;case"put":var re=new xt().addKeys(D.values.map(function(he){return k(he)}));M=w.filter(function(he){return!re.hasKey(t.values?k(he):he)}).concat(t.values?C:C.map(function(he){return k(he)}));break;case"delete":var ae=new xt().addKeys(D.keys);M=w.filter(function(he){return!ae.hasKey(t.values?k(he):he)});break;case"deleteRange":var fe=D.range;M=w.filter(function(he){return!la(k(he),fe)})}return M},e);return P===e?e:(P.sort(function(w,D){return Ve(m(w),m(D))||Ve(k(w),k(D))}),t.limit&&t.limit<1/0&&(P.length>t.limit?P.length=t.limit:e.length===t.limit&&P.length<t.limit&&(u.dirty=!0)),c?Object.freeze(P):P)}function vo(e,t){return Ve(e.lower,t.lower)===0&&Ve(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function qi(e,t){return(function(i,s,u,c){if(i===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;if((s=Ve(i,s))===0){if(u&&c)return 0;if(u)return 1;if(c)return-1}return s})(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=(function(i,s,u,c){if(i===void 0)return s!==void 0?1:0;if(s===void 0)return-1;if((s=Ve(i,s))===0){if(u&&c)return 0;if(u)return-1;if(c)return 1}return s})(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Ri(e,t,i,s){e.subscribers.add(i),s.addEventListener("abort",function(){var u,c;e.subscribers.delete(i),e.subscribers.size===0&&(u=e,c=t,setTimeout(function(){u.subscribers.size===0&&Ie(c,u)},3e3))})}var Ni={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return o(o({},e),{transaction:function(i,s,u){var c,v,p=e.transaction(i,s,u);return s==="readwrite"&&(v=(c=new AbortController).signal,u=function(_){return function(){if(c.abort(),s==="readwrite"){for(var k=new Set,T=0,m=i;T<m.length;T++){var P=m[T],w=vn["idb://".concat(t,"/").concat(P)];if(w){var D=e.table(P),M=w.optimisticOps.filter(function(he){return he.trans===p});if(p._explicit&&_&&p.mutatedParts)for(var C=0,q=Object.values(w.queries.query);C<q.length;C++)for(var W=0,Q=(ie=q[C]).slice();W<Q.length;W++)na((re=Q[W]).obsSet,p.mutatedParts)&&(Ie(ie,re),re.subscribers.forEach(function(he){return k.add(he)}));else if(0<M.length){w.optimisticOps=w.optimisticOps.filter(function(he){return he.trans!==p});for(var J=0,Z=Object.values(w.queries.query);J<Z.length;J++)for(var ie,re,ae,fe=0,le=(ie=Z[J]).slice();fe<le.length;fe++)(re=le[fe]).res!=null&&p.mutatedParts&&(_&&!re.dirty?(ae=Object.isFrozen(re.res),ae=ho(re.res,re.req,M,D,re,ae),re.dirty?(Ie(ie,re),re.subscribers.forEach(function(he){return k.add(he)})):ae!==re.res&&(re.res=ae,re.promise=ce.resolve({result:ae}))):(re.dirty&&Ie(ie,re),re.subscribers.forEach(function(he){return k.add(he)})))}}}k.forEach(function(he){return he()})}}},p.addEventListener("abort",u(!1),{signal:v}),p.addEventListener("error",u(!1),{signal:v}),p.addEventListener("complete",u(!0),{signal:v})),p},table:function(i){var s=e.table(i),u=s.schema.primaryKey;return o(o({},s),{mutate:function(c){var v=be.trans;if(u.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return s.mutate(c);var p=vn["idb://".concat(t,"/").concat(i)];return p?(v=s.mutate(c),c.type!=="add"&&c.type!=="put"||!(50<=c.values.length||ua(u,c).some(function(_){return _==null}))?(p.optimisticOps.push(c),c.mutatedParts&&yr(c.mutatedParts),v.then(function(_){0<_.numFailures&&(Ie(p.optimisticOps,c),(_=fo(0,c,_))&&p.optimisticOps.push(_),c.mutatedParts&&yr(c.mutatedParts))}),v.catch(function(){Ie(p.optimisticOps,c),c.mutatedParts&&yr(c.mutatedParts)})):v.then(function(_){var k=fo(0,o(o({},c),{values:c.values.map(function(T,m){var P;return _.failures[m]?T:(T=(P=u.keyPath)!==null&&P!==void 0&&P.includes(".")?ke(T):o({},T),B(T,u.keyPath,_.results[m]),T)})}),_);p.optimisticOps.push(k),queueMicrotask(function(){return c.mutatedParts&&yr(c.mutatedParts)})}),v):s.mutate(c)},query:function(c){if(!lo(be,s)||!co("query",c))return s.query(c);var v=((k=be.trans)===null||k===void 0?void 0:k.db._options.cache)==="immutable",m=be,p=m.requery,_=m.signal,k=(function(D,M,C,q){var W=vn["idb://".concat(D,"/").concat(M)];if(!W)return[];if(!(M=W.queries[C]))return[null,!1,W,null];var Q=M[(q.query?q.query.index.name:null)||""];if(!Q)return[null,!1,W,null];switch(C){case"query":var J=Q.find(function(Z){return Z.req.limit===q.limit&&Z.req.values===q.values&&vo(Z.req.query.range,q.query.range)});return J?[J,!0,W,Q]:[Q.find(function(Z){return("limit"in Z.req?Z.req.limit:1/0)>=q.limit&&(!q.values||Z.req.values)&&qi(Z.req.query.range,q.query.range)}),!1,W,Q];case"count":return J=Q.find(function(Z){return vo(Z.req.query.range,q.query.range)}),[J,!!J,W,Q]}})(t,i,"query",c),T=k[0],m=k[1],P=k[2],w=k[3];return T&&m?T.obsSet=c.obsSet:(m=s.query(c).then(function(D){var M=D.result;if(T&&(T.res=M),v){for(var C=0,q=M.length;C<q;++C)Object.freeze(M[C]);Object.freeze(M)}else D.result=ke(M);return D}).catch(function(D){return w&&T&&Ie(w,T),Promise.reject(D)}),T={obsSet:c.obsSet,promise:m,subscribers:new Set,type:"query",req:c,dirty:!1},w?w.push(T):(w=[T],(P=P||(vn["idb://".concat(t,"/").concat(i)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[c.query.index.name||""]=w)),Ri(T,w,p,_),T.promise.then(function(D){return{result:ho(D.result,c,P==null?void 0:P.optimisticOps,s,T,v)}})}})}})}};function _r(e,t){return new Proxy(e,{get:function(i,s,u){return s==="db"?t:Reflect.get(i,s,u)}})}var Gt=(vt.prototype.version=function(e){if(isNaN(e)||e<.1)throw new te.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,i=t.filter(function(s){return s._cfg.version===e})[0];return i||(i=new this.Version(e),t.push(i),t.sort(Ei),i.stores({}),this._state.autoSchema=!1,i)},vt.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?e():new ce(function(i,s){if(t._state.openComplete)return s(new te.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void s(new te.DatabaseClosed);t.open().catch(Ee)}t._state.dbReadyPromise.then(i,s)}).then(e)},vt.prototype.use=function(e){var t=e.stack,i=e.create,s=e.level,u=e.name;return u&&this.unuse({stack:t,name:u}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:i,level:s??10,name:u}),e.sort(function(c,v){return c.level-v.level}),this},vt.prototype.unuse=function(e){var t=e.stack,i=e.name,s=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(u){return s?u.create!==s:!!i&&u.name!==i})),this},vt.prototype.open=function(){var e=this;return fn(Rt,function(){return Ai(e)})},vt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=xn.indexOf(this);if(0<=t&&xn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new ce(function(i){e.dbReadyResolve=i}),e.openCanceller=new ce(function(i,s){e.cancelOpen=s}))},vt.prototype.close=function(i){var t=(i===void 0?{disableAutoOpen:!0}:i).disableAutoOpen,i=this._state;t?(i.isBeingOpened&&i.cancelOpen(new te.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new te.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},vt.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var i=0<arguments.length&&typeof arguments[0]!="object",s=this._state;return new ce(function(u,c){function v(){t.close(e);var p=t._deps.indexedDB.deleteDatabase(t.name);p.onsuccess=ot(function(){var _,k,T;_=t._deps,k=t.name,T=_.indexedDB,_=_.IDBKeyRange,$r(T)||k===or||Zr(T,_).delete(k).catch(Ee),u()}),p.onerror=Lt(c),p.onblocked=t._fireOnBlocked}if(i)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");s.isBeingOpened?s.dbReadyPromise.then(v):v()})},vt.prototype.backendDB=function(){return this.idbdb},vt.prototype.isOpen=function(){return this.idbdb!==null},vt.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},vt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vt.prototype,"tables",{get:function(){var e=this;return h(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),vt.prototype.transaction=function(){var e=(function(t,i,s){var u=arguments.length;if(u<2)throw new te.InvalidArgument("Too few arguments");for(var c=new Array(u-1);--u;)c[u-1]=arguments[u];return s=c.pop(),[t,ee(c),s]}).apply(this,arguments);return this._transaction.apply(this,e)},vt.prototype._transaction=function(e,t,i){var s=this,u=be.trans;u&&u.db===this&&e.indexOf("!")===-1||(u=null);var c,v,p=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(v=t.map(function(k){if(k=k instanceof s.Table?k.name:k,typeof k!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return k}),e=="r"||e===Hr)c=Hr;else{if(e!="rw"&&e!=Lr)throw new te.InvalidArgument("Invalid transaction mode: "+e);c=Lr}if(u){if(u.mode===Hr&&c===Lr){if(!p)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&v.forEach(function(k){if(u&&u.storeNames.indexOf(k)===-1){if(!p)throw new te.SubTransaction("Table "+k+" not included in parent transaction.");u=null}}),p&&u&&!u.active&&(u=null)}}catch(k){return u?u._promise(null,function(T,m){m(k)}):ht(k)}var _=(function k(T,m,P,w,D){return ce.resolve().then(function(){var M=be.transless||be,C=T._createTransaction(m,P,T._dbSchema,w);if(C.explicit=!0,M={trans:C,transless:M},w)C.idbtrans=w.idbtrans;else try{C.create(),C.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(Q){return Q.name===ye.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return k(T,m,P,null,D)})):ht(Q)}var q,W=$(D);return W&&Ht(),M=ce.follow(function(){var Q;(q=D.call(C,C))&&(W?(Q=Nt.bind(null,null),q.then(Q,Q)):typeof q.next=="function"&&typeof q.throw=="function"&&(q=ia(q)))},M),(q&&typeof q.then=="function"?ce.resolve(q).then(function(Q){return C.active?Q:ht(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):M.then(function(){return q})).then(function(Q){return w&&C._resolve(),C._completion.then(function(){return Q})}).catch(function(Q){return C._reject(Q),ht(Q)})})}).bind(null,this,c,v,u,i);return u?u._promise(c,_,"lock"):be.trans?fn(be.transless,function(){return s._whenReady(_)}):this._whenReady(_)},vt.prototype.table=function(e){if(!E(this._allTables,e))throw new te.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},vt);function vt(e,t){var i=this;this._middlewares={},this.verno=0;var s=vt.dependencies;this._options=t=o({addons:vt.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},s=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,c,v,p,_,k={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};k.dbReadyPromise=new ce(function(m){k.dbReadyResolve=m}),k.openCanceller=new ce(function(m,P){k.cancelOpen=P}),this._state=k,this.name=e,this.on=Fn(this,"populate","blocked","versionchange","close",{ready:[Ot,Ee]}),this.once=function(m,P){var w=function(){for(var D=[],M=0;M<arguments.length;M++)D[M]=arguments[M];i.on(m).unsubscribe(w),P.apply(i,D)};return i.on(m,w)},this.on.ready.subscribe=I(this.on.ready.subscribe,function(m){return function(P,w){vt.vip(function(){var D,M=i._state;M.openComplete?(M.dbOpenError||ce.resolve().then(P),w&&m(P)):M.onReadyBeingFired?(M.onReadyBeingFired.push(P),w&&m(P)):(m(P),D=i,w||m(function C(){D.on.ready.unsubscribe(P),D.on.ready.unsubscribe(C)}))})}}),this.Collection=(u=this,Kn(wi.prototype,function(q,C){this.db=u;var w=za,D=null;if(C)try{w=C()}catch(W){D=W}var M=q._ctx,C=M.table,q=C.hook.reading.fire;this._ctx={table:C,index:M.index,isPrimKey:!M.index||C.schema.primKey.keyPath&&M.index===C.schema.primKey.name,range:w,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:M.or,valueMapper:q!==dt?q:null}})),this.Table=(c=this,Kn(Va.prototype,function(m,P,w){this.db=c,this._tx=w,this.name=m,this.schema=P,this.hook=c._allTables[m]?c._allTables[m].hook:Fn(null,{creating:[Mt,Ee],reading:[ct,dt],updating:[pt,Ee],deleting:[kt,Ee]})})),this.Transaction=(v=this,Kn(Di.prototype,function(m,P,w,D,M){var C=this;m!=="readonly"&&P.forEach(function(q){q=(q=w[q])===null||q===void 0?void 0:q.yProps,q&&(P=P.concat(q.map(function(W){return W.updatesTable})))}),this.db=v,this.mode=m,this.storeNames=P,this.schema=w,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=Fn(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ce(function(q,W){C._resolve=q,C._reject=W}),this._completion.then(function(){C.active=!1,C.on.complete.fire()},function(q){var W=C.active;return C.active=!1,C.on.error.fire(q),C.parent?C.parent._reject(q):W&&C.idbtrans&&C.idbtrans.abort(),ht(q)})})),this.Version=(p=this,Kn(Mi.prototype,function(m){this.db=p,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,Kn($a.prototype,function(m,P,w){if(this.db=_,this._ctx={table:m,index:P===":id"?null:P,or:w},this._cmp=this._ascending=Ve,this._descending=function(D,M){return Ve(M,D)},this._max=function(D,M){return 0<Ve(D,M)?D:M},this._min=function(D,M){return Ve(D,M)<0?D:M},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})),this.on("versionchange",function(m){0<m.newVersion?console.warn("Another connection wants to upgrade database '".concat(i.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(i.name,"'. Closing db now to resume the delete request.")),i.close({disableAutoOpen:!1})}),this.on("blocked",function(m){!m.newVersion||m.newVersion<m.oldVersion?console.warn("Dexie.delete('".concat(i.name,"') was blocked")):console.warn("Upgrade '".concat(i.name,"' blocked by other connection holding version ").concat(m.oldVersion/10))}),this._maxKey=Bn(t.IDBKeyRange),this._createTransaction=function(m,P,w,D){return new i.Transaction(m,P,w,i._options.chromeTransactionDurability,D)},this._fireOnBlocked=function(m){i.on("blocked").fire(m),xn.filter(function(P){return P.name===i.name&&P!==i&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(m)})},this.use(Fi),this.use(Ni),this.use(Ki),this.use(Pi),this.use(ji);var T=new Proxy(this,{get:function(m,P,w){if(P==="_vip")return!0;if(P==="table")return function(M){return _r(i.table(M),T)};var D=Reflect.get(m,P,w);return D instanceof Va?_r(D,T):P==="tables"?D.map(function(M){return _r(M,T)}):P==="_createTransaction"?function(){return _r(D.apply(this,arguments),T)}:D}});this.vip=T,s.forEach(function(m){return m(i)})}var wr,Ft=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Bi=(ca.prototype.subscribe=function(e,t,i){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:i})},ca.prototype[Ft]=function(){return this},ca);function ca(e){this._subscribe=e}try{wr={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{wr={indexedDB:null,IDBKeyRange:null}}function go(e){var t,i=!1,s=new Bi(function(u){var c=$(e),v,p=!1,_={},k={},T={get closed(){return p},unsubscribe:function(){p||(p=!0,v&&v.abort(),m&&rn.storagemutated.unsubscribe(w))}};u.start&&u.start(T);var m=!1,P=function(){return Br(D)},w=function(M){mr(_,M),na(k,_)&&P()},D=function(){var M,C,q;!p&&wr.indexedDB&&(_={},M={},v&&v.abort(),v=new AbortController,q=(function(W){var Q=Le();try{c&&Ht();var J=bt(e,W);return J=c?J.finally(Nt):J}finally{Q&&ze()}})(C={subscr:M,signal:v.signal,requery:P,querier:e,trans:null}),Promise.resolve(q).then(function(W){i=!0,t=W,p||C.signal.aborted||(_={},(function(Q){for(var J in Q)if(E(Q,J))return;return 1})(k=M)||m||(rn(Nn,w),m=!0),Br(function(){return!p&&u.next&&u.next(W)}))},function(W){i=!1,["DatabaseClosedError","AbortError"].includes(W==null?void 0:W.name)||p||Br(function(){p||u.error&&u.error(W)})}))};return setTimeout(P,0),T});return s.hasValue=function(){return i},s.getValue=function(){return t},s}var gn=Gt;function fa(e){var t=an;try{an=!0,rn.storagemutated.fire(e),oa(e,!0)}finally{an=t}}R(gn,o(o({},Ye),{delete:function(e){return new gn(e,{addons:[]}).delete()},exists:function(e){return new gn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=gn.dependencies,i=t.indexedDB,t=t.IDBKeyRange,($r(i)?Promise.resolve(i.databases()).then(function(s){return s.map(function(u){return u.name}).filter(function(u){return u!==or})}):Zr(i,t).toCollection().primaryKeys()).then(e)}catch{return ht(new te.MissingAPI)}var t,i},defineClass:function(){return function(e){y(this,e)}},ignoreTransaction:function(e){return be.trans?fn(be.transless,e):e()},vip:ea,async:function(e){return function(){try{var t=ia(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ce.resolve(t)}catch(i){return ht(i)}}},spawn:function(e,t,i){try{var s=ia(e.apply(i,t||[]));return s&&typeof s.then=="function"?s:ce.resolve(s)}catch(u){return ht(u)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(e,t){return t=ce.resolve(typeof e=="function"?gn.ignoreTransaction(e):e).timeout(t||6e4),be.trans?be.trans.waitFor(t):t},Promise:ce,debug:{get:function(){return it},set:function(e){Ut(e)}},derive:Y,extend:y,props:R,override:I,Events:Fn,on:rn,liveQuery:go,extendObservabilitySet:mr,getByKeyPath:F,setByKeyPath:B,delByKeyPath:function(e,t){typeof t=="string"?B(e,t,void 0):"length"in t&&[].map.call(t,function(i){B(e,i,void 0)})},shallowClone:oe,deepClone:ke,getObjectDiff:sa,cmp:Ve,asap:z,minKey:-1/0,addons:[],connections:xn,errnames:ye,dependencies:wr,cache:vn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,i){return e+t/Math.pow(10,2*i)})})),gn.maxKey=Bn(gn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rn(Nn,function(e){an||(e=new CustomEvent(Ur,{detail:e}),an=!0,dispatchEvent(e),an=!1)}),addEventListener(Ur,function(e){e=e.detail,an||fa(e)}));var Cn,an=!1,po=function(){};return typeof BroadcastChannel<"u"&&((po=function(){(Cn=new BroadcastChannel(Ur)).onmessage=function(e){return e.data&&fa(e.data)}})(),typeof Cn.unref=="function"&&Cn.unref(),rn(Nn,function(e){an||Cn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Gt.disableBfCache&&e.persisted){it&&console.debug("Dexie: handling persisted pagehide"),Cn!=null&&Cn.close();for(var t=0,i=xn;t<i.length;t++)i[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Gt.disableBfCache&&e.persisted&&(it&&console.debug("Dexie: handling persisted pageshow"),po(),fa({all:new xt(-1/0,[[]])}))})),ce.rejectionMapper=function(e,t){return!e||e instanceof X||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ue[e.name]?e:(t=new Ue[e.name](t||e.message,e),"stack"in e&&N(t,"stack",{get:function(){return this.inner.stack}}),t)},Ut(it),o(Gt,Object.freeze({__proto__:null,Dexie:Gt,liveQuery:go,Entity:Wa,cmp:Ve,PropModification:qn,replacePrefix:function(e,t){return new qn({replacePrefix:[e,t]})},add:function(e){return new qn({add:e})},remove:function(e){return new qn({remove:e})},default:Gt,RangeSet:xt,mergeRanges:zn,rangesOverlap:ao}),{default:Gt}),Gt})})(Tr)),Tr.exports}var Ys=Us();const Ea=ii(Ys),Mo=Symbol.for("Dexie"),Or=globalThis[Mo]||(globalThis[Mo]=Ea);if(Ea.semVer!==Or.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ea.semVer} and ${Or.semVer}`);const{liveQuery:Zf,mergeRanges:$f,rangesOverlap:ed,RangeSet:td,cmp:nd,Entity:rd,PropModification:ad,replacePrefix:od,add:id,remove:sd,DexieYProvider:ud}=Or;class si{constructor(){this._db=new Or("FastingHours"),this._db.version(30).stores({history:"id, started",hunger:"id, created",water:"id, created",weight:"id, created"})}check(n){return fetch("https://ketnerlake.com/api/dexie/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server:"zzcxr8dte",email:n})})}login(n){this._db.cloud.userInteraction.onSubmit({otp:n})}logout(){return this._db.cloud.logout()}sync(){return this._db.cloud.sync({purpose:"pull",wait:!0})}ui(){return this._db.cloud.userInteraction}user(){return this._db.cloud.currentUser}verify(n){return this._db.cloud.login({email:n,grant_type:"otp"})}browseHistory(){return this._db.history.toArray()}browseHistoryByEnd(){return this._db.history.toArray().then(n=>n.filter(o=>o.ended===null)[0])}bulkHistory(n){return this._db.history.bulkAdd(n)}readHistory(n){return this._db.history.get({id:n})}editHistory(n){const r=Un(n);return r.updated=new Date,this._db.history.put(r).then(()=>this._db.history.get({id:n.id}))}addHistory(){const n={id:crypto.randomUUID(),type:"history",created:new Date,updated:new Date,started:new Date,ended:null,notes:null};return this._db.history.add(n).then(()=>this._db.history.get({id:n.id}))}deleteHistory(n){return this._db.history.delete(n)}browseHunger(n=!1){return this._db.hunger.toArray().then(r=>n?(r.sort((o,l)=>o.created.getTime()<l.created.getTime()?1:o.created.getTime()>l.created.getTime()?-1:0),r.length===0?null:r[0]):r)}bulkHunger(n){return this._db.hunger.bulkAdd(n)}readHunger(n){return this._db.hunger.get({id:n})}editHunger(n){const r=Un(n);return r.updated=new Date,this._db.hunger.put(r).then(()=>this._db.hunger.get({id:n.id}))}addHunger(n=5){const r={id:crypto.randomUUID(),type:"hunger",created:new Date,updated:new Date,level:n};return this._db.hunger.add(r).then(()=>this._db.hunger.get({id:r.id}))}deleteHunger(n){return this._db.hunger.delete(n)}browseWater(n=!1){return this._db.water.toArray().then(r=>{if(n){const o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);const l=new Date(o.getTime());return l.setDate(l.getDate()+1),r.filter(f=>f.created.getTime()>o.getTime()&&f.created.getTime()<l.getTime())}else return r})}bulkWater(n){return this._db.water.bulkAdd(n)}readWater(n){return this._db.water.get({id:n})}editWater(n){const r=Un(n);return r.updated=new Date,this._db.water.put(r).then(()=>this._db.water.get({id:n.id}))}addWater(n){const r={id:crypto.randomUUID(),type:"water",created:new Date,updated:new Date,volume:n};return crypto.randomUUID(),this._db.water.add(r).then(()=>this._db.water.get({id:r.id}))}deleteWater(n){return this._db.water.delete(n)}browseWeight(n=!1){return this._db.weight.toArray().then(r=>{if(n){const o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);const l=new Date(o.getTime());return l.setDate(l.getDate()+1),r.filter(f=>f.created.getTime()>o.getTime()&&f.created.getTime()<l.getTime())}else return r})}bulkWeight(n){return this._db.weight.bulkAdd(n)}readWeight(n){return this._db.weight.get({id:n})}editWeight(n){const r=Un(n);return this._db.weight.put(r).then(()=>this._db.weight.get({id:n.id}))}addWeight(n){const r=crypto.randomUUID(),o=Un(n);return o.id=r,console.log("ADD"),console.log(o),this._db.weight.add(o).then(()=>this._db.weight.get({id:r}))}deleteWeight(n){return this._db.weight.delete(n)}}var wa={exports:{}},Ao;function Vs(){return Ao||(Ao=1,(function(a,n){(function(){var r=Math.PI,o=Math.sin,l=Math.cos,f=Math.tan,h=Math.asin,g=Math.atan2,y=Math.acos,x=r/180,A=1e3*60*60*24,E=2440588,R=2451545;function L($){return $.valueOf()/A-.5+E}function N($){return new Date(($+.5-E)*A)}function Y($){return L($)-R}var K=x*23.4397;function H($,G){return g(o($)*l(K)-f(G)*o(K),l($))}function b($,G){return h(o(G)*l(K)+l(G)*o(K)*o($))}function I($,G,X){return g(o($),l($)*o(G)-f(X)*l(G))}function O($,G,X){return h(o(G)*o(X)+l(G)*l(X)*l($))}function z($,G){return x*(280.16+360.9856235*$)-G}function F($){return $<0&&($=0),2967e-7/Math.tan($+.00312536/($+.08901179))}function B($){return x*(357.5291+.98560028*$)}function oe($){var G=x*(1.9148*o($)+.02*o(2*$)+3e-4*o(3*$)),X=x*102.9372;return $+G+X+r}function ue($){var G=B($),X=oe(G);return{dec:b(X,0),ra:H(X,0)}}var ee={};ee.getPosition=function($,G,X){var ge=x*-X,xe=x*G,Pe=Y($),ye=ue(Pe),Se=z(Pe,ge)-ye.ra;return{azimuth:I(Se,xe,ye.dec),altitude:O(Se,xe,ye.dec)}};var de=ee.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];ee.addTime=function($,G,X){de.push([$,G,X])};var De=9e-4;function ke($,G){return Math.round($-De-G/(2*r))}function Ne($,G,X){return De+($+G)/(2*r)+X}function Ke($,G,X){return R+$+.0053*o(G)-.0069*o(2*X)}function Be($,G,X){return y((o($)-o(G)*o(X))/(l(G)*l(X)))}function we($){return-2.076*Math.sqrt($)/60}function Ie($,G,X,ge,xe,Pe,ye){var Se=Be($,X,ge),te=Ne(Se,G,xe);return Ke(te,Pe,ye)}ee.getTimes=function($,G,X,ge){ge=ge||0;var xe=x*-X,Pe=x*G,ye=we(ge),Se=Y($),te=ke(Se,xe),Ue=Ne(0,xe,te),Ye=B(Ue),Ee=oe(Ye),dt=b(Ee,0),ct=Ke(Ue,Ye,Ee),lt,Mt,kt,pt,Tt,Ot,it={solarNoon:N(ct),nadir:N(ct-.5)};for(lt=0,Mt=de.length;lt<Mt;lt+=1)kt=de[lt],pt=(kt[0]+ye)*x,Tt=Ie(pt,xe,Pe,dt,te,Ye,Ee),Ot=ct-(Tt-ct),it[kt[1]]=N(Ot),it[kt[2]]=N(Tt);return it};function Ae($){var G=x*(218.316+13.176396*$),X=x*(134.963+13.064993*$),ge=x*(93.272+13.22935*$),xe=G+x*6.289*o(X),Pe=x*5.128*o(ge),ye=385001-20905*l(X);return{ra:H(xe,Pe),dec:b(xe,Pe),dist:ye}}ee.getMoonPosition=function($,G,X){var ge=x*-X,xe=x*G,Pe=Y($),ye=Ae(Pe),Se=z(Pe,ge)-ye.ra,te=O(Se,xe,ye.dec),Ue=g(o(Se),f(xe)*l(ye.dec)-o(ye.dec)*l(Se));return te=te+F(te),{azimuth:I(Se,xe,ye.dec),altitude:te,distance:ye.dist,parallacticAngle:Ue}},ee.getMoonIllumination=function($){var G=Y($||new Date),X=ue(G),ge=Ae(G),xe=149598e3,Pe=y(o(X.dec)*o(ge.dec)+l(X.dec)*l(ge.dec)*l(X.ra-ge.ra)),ye=g(xe*o(Pe),ge.dist-xe*l(Pe)),Se=g(l(X.dec)*o(X.ra-ge.ra),o(X.dec)*l(ge.dec)-l(X.dec)*o(ge.dec)*l(X.ra-ge.ra));return{fraction:(1+l(ye))/2,phase:.5+.5*ye*(Se<0?-1:1)/Math.PI,angle:Se}};function He($,G){return new Date($.valueOf()+G*A/24)}ee.getMoonTimes=function($,G,X,ge){var xe=new Date($);ge?xe.setUTCHours(0,0,0,0):xe.setHours(0,0,0,0);for(var Pe=.133*x,ye=ee.getMoonPosition(xe,G,X).altitude-Pe,Se,te,Ue,Ye,Ee,dt,ct,lt,Mt,kt,pt,Tt,Ot,it=1;it<=24&&(Se=ee.getMoonPosition(He(xe,it),G,X).altitude-Pe,te=ee.getMoonPosition(He(xe,it+1),G,X).altitude-Pe,Ee=(ye+te)/2-Se,dt=(te-ye)/2,ct=-dt/(2*Ee),lt=(Ee*ct+dt)*ct+Se,Mt=dt*dt-4*Ee*Se,kt=0,Mt>=0&&(Ot=Math.sqrt(Mt)/(Math.abs(Ee)*2),pt=ct-Ot,Tt=ct+Ot,Math.abs(pt)<=1&&kt++,Math.abs(Tt)<=1&&kt++,pt<-1&&(pt=Tt)),kt===1?ye<0?Ue=it+pt:Ye=it+pt:kt===2&&(Ue=it+(lt<0?Tt:pt),Ye=it+(lt<0?pt:Tt)),!(Ue&&Ye));it+=2)ye=te;var Ut={};return Ue&&(Ut.rise=He(xe,Ue)),Ye&&(Ut.set=He(xe,Ye)),!Ue&&!Ye&&(Ut[lt>0?"alwaysUp":"alwaysDown"]=!0),Ut},a.exports=ee})()})(wa)),wa.exports}var Gs=Vs();const Qs=ii(Gs);function Js(a,n){n()}function Xs(){window.open("https://kevinhoyt.com","_blank")}var Zs=_e('<dialog class="svelte-mu4fe"><section class="svelte-mu4fe"><h3 class="svelte-mu4fe">About</h3> <p class="svelte-mu4fe">Made with ❤️ by Kevin Hoyt.</p> <footer class="svelte-mu4fe"><button class="close svelte-mu4fe" type="button">Close</button> <button type="button" class="svelte-mu4fe">Visit</button></footer></section></dialog>');function $s(a,n){tt(n,!0);let r=ve(void 0);function o(){d(r).close()}function l(){d(r).showModal()}var f=Zs(),h=j(f),g=U(j(h),4),y=j(g);y.__click=[Js,o];var x=U(y,2);return x.__click=[Xs],S(g),S(h),S(f),rt(f,A=>V(r,A),()=>d(r)),se(a,f),nt({close:o,showModal:l})}ut(["click"]);const ui=/^[a-z0-9]+(-[a-z0-9]+)*$/,qr=(a,n,r,o="")=>{const l=a.split(":");if(a.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;o=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const g=l.pop(),y=l.pop(),x={provider:l.length>0?l[0]:o,prefix:y,name:g};return n&&!Cr(x)?null:x}const f=l[0],h=f.split("-");if(h.length>1){const g={provider:o,prefix:h.shift(),name:h.join("-")};return n&&!Cr(g)?null:g}if(r&&o===""){const g={provider:o,prefix:"",name:f};return n&&!Cr(g,r)?null:g}return null},Cr=(a,n)=>a?!!((n&&a.prefix===""||a.prefix)&&a.name):!1,li=Object.freeze({left:0,top:0,width:16,height:16}),Mr=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Rr=Object.freeze({...li,...Mr}),Ia=Object.freeze({...Rr,body:"",hidden:!1});function eu(a,n){const r={};!a.hFlip!=!n.hFlip&&(r.hFlip=!0),!a.vFlip!=!n.vFlip&&(r.vFlip=!0);const o=((a.rotate||0)+(n.rotate||0))%4;return o&&(r.rotate=o),r}function Po(a,n){const r=eu(a,n);for(const o in Ia)o in Mr?o in a&&!(o in r)&&(r[o]=Mr[o]):o in n?r[o]=n[o]:o in a&&(r[o]=a[o]);return r}function tu(a,n){const r=a.icons,o=a.aliases||Object.create(null),l=Object.create(null);function f(h){if(r[h])return l[h]=[];if(!(h in l)){l[h]=null;const g=o[h]&&o[h].parent,y=g&&f(g);y&&(l[h]=[g].concat(y))}return l[h]}return Object.keys(r).concat(Object.keys(o)).forEach(f),l}function nu(a,n,r){const o=a.icons,l=a.aliases||Object.create(null);let f={};function h(g){f=Po(o[g]||l[g],f)}return h(n),r.forEach(h),Po(a,f)}function ci(a,n){const r=[];if(typeof a!="object"||typeof a.icons!="object")return r;a.not_found instanceof Array&&a.not_found.forEach(l=>{n(l,null),r.push(l)});const o=tu(a);for(const l in o){const f=o[l];f&&(n(l,nu(a,l,f)),r.push(l))}return r}const ru={provider:"",aliases:{},not_found:{},...li};function ka(a,n){for(const r in n)if(r in a&&typeof a[r]!=typeof n[r])return!1;return!0}function fi(a){if(typeof a!="object"||a===null)return null;const n=a;if(typeof n.prefix!="string"||!a.icons||typeof a.icons!="object"||!ka(a,ru))return null;const r=n.icons;for(const l in r){const f=r[l];if(!l||typeof f.body!="string"||!ka(f,Ia))return null}const o=n.aliases||Object.create(null);for(const l in o){const f=o[l],h=f.parent;if(!l||typeof h!="string"||!r[h]&&!o[h]||!ka(f,Ia))return null}return n}const jo=Object.create(null);function au(a,n){return{provider:a,prefix:n,icons:Object.create(null),missing:new Set}}function Mn(a,n){const r=jo[a]||(jo[a]=Object.create(null));return r[n]||(r[n]=au(a,n))}function di(a,n){return fi(n)?ci(n,(r,o)=>{o?a.icons[r]=o:a.missing.add(r)}):[]}function ou(a,n,r){try{if(typeof r.body=="string")return a.icons[n]={...r},!0}catch{}return!1}let er=!1;function hi(a){return typeof a=="boolean"&&(er=a),er}function iu(a){const n=typeof a=="string"?qr(a,!0,er):a;if(n){const r=Mn(n.provider,n.prefix),o=n.name;return r.icons[o]||(r.missing.has(o)?null:void 0)}}function su(a,n){const r=qr(a,!0,er);if(!r)return!1;const o=Mn(r.provider,r.prefix);return n?ou(o,r.name,n):(o.missing.add(r.name),!0)}function uu(a,n){if(typeof a!="object")return!1;if(typeof n!="string"&&(n=a.provider||""),er&&!n&&!a.prefix){let l=!1;return fi(a)&&(a.prefix="",ci(a,(f,h)=>{su(f,h)&&(l=!0)})),l}const r=a.prefix;if(!Cr({prefix:r,name:"a"}))return!1;const o=Mn(n,r);return!!di(o,a)}const vi=Object.freeze({width:null,height:null}),gi=Object.freeze({...vi,...Mr}),lu=/(-?[0-9.]*[0-9]+[0-9.]*)/g,cu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Fo(a,n,r){if(n===1)return a;if(r=r||100,typeof a=="number")return Math.ceil(a*n*r)/r;if(typeof a!="string")return a;const o=a.split(lu);if(o===null||!o.length)return a;const l=[];let f=o.shift(),h=cu.test(f);for(;;){if(h){const g=parseFloat(f);isNaN(g)?l.push(f):l.push(Math.ceil(g*n*r)/r)}else l.push(f);if(f=o.shift(),f===void 0)return l.join("");h=!h}}function fu(a,n="defs"){let r="";const o=a.indexOf("<"+n);for(;o>=0;){const l=a.indexOf(">",o),f=a.indexOf("</"+n);if(l===-1||f===-1)break;const h=a.indexOf(">",f);if(h===-1)break;r+=a.slice(l+1,f).trim(),a=a.slice(0,o).trim()+a.slice(h+1)}return{defs:r,content:a}}function du(a,n){return a?"<defs>"+a+"</defs>"+n:n}function hu(a,n,r){const o=fu(a);return du(o.defs,n+o.content+r)}const vu=a=>a==="unset"||a==="undefined"||a==="none";function gu(a,n){const r={...Rr,...a},o={...gi,...n},l={left:r.left,top:r.top,width:r.width,height:r.height};let f=r.body;[r,o].forEach(Y=>{const K=[],H=Y.hFlip,b=Y.vFlip;let I=Y.rotate;H?b?I+=2:(K.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),K.push("scale(-1 1)"),l.top=l.left=0):b&&(K.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),K.push("scale(1 -1)"),l.top=l.left=0);let O;switch(I<0&&(I-=Math.floor(I/4)*4),I=I%4,I){case 1:O=l.height/2+l.top,K.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:K.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:O=l.width/2+l.left,K.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}I%2===1&&(l.left!==l.top&&(O=l.left,l.left=l.top,l.top=O),l.width!==l.height&&(O=l.width,l.width=l.height,l.height=O)),K.length&&(f=hu(f,'<g transform="'+K.join(" ")+'">',"</g>"))});const h=o.width,g=o.height,y=l.width,x=l.height;let A,E;h===null?(E=g===null?"1em":g==="auto"?x:g,A=Fo(E,y/x)):(A=h==="auto"?y:h,E=g===null?Fo(A,x/y):g==="auto"?x:g);const R={},L=(Y,K)=>{vu(K)||(R[Y]=K.toString())};L("width",A),L("height",E);const N=[l.left,l.top,y,x];return R.viewBox=N.join(" "),{attributes:R,viewBox:N,body:f}}const pu=/\sid="(\S+)"/g,mu="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let yu=0;function bu(a,n=mu){const r=[];let o;for(;o=pu.exec(a);)r.push(o[1]);if(!r.length)return a;const l="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(f=>{const h=typeof n=="function"?n(f):n+(yu++).toString(),g=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");a=a.replace(new RegExp('([#;"])('+g+')([")]|\\.[a-z])',"g"),"$1"+h+l+"$3")}),a=a.replace(new RegExp(l,"g"),""),a}const Oa=Object.create(null);function _u(a,n){Oa[a]=n}function Ma(a){return Oa[a]||Oa[""]}function qa(a){let n;if(typeof a.resources=="string")n=[a.resources];else if(n=a.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:a.path||"/",maxURL:a.maxURL||500,rotate:a.rotate||750,timeout:a.timeout||5e3,random:a.random===!0,index:a.index||0,dataAfterTimeout:a.dataAfterTimeout!==!1}}const Ra=Object.create(null),Gn=["https://api.simplesvg.com","https://api.unisvg.com"],Er=[];for(;Gn.length>0;)Gn.length===1||Math.random()>.5?Er.push(Gn.shift()):Er.push(Gn.pop());Ra[""]=qa({resources:["https://api.iconify.design"].concat(Er)});function wu(a,n){const r=qa(n);return r===null?!1:(Ra[a]=r,!0)}function Na(a){return Ra[a]}const ku=()=>{let a;try{if(a=fetch,typeof a=="function")return a}catch{}};let Ko=ku();function xu(a,n){const r=Na(a);if(!r)return 0;let o;if(!r.maxURL)o=0;else{let l=0;r.resources.forEach(h=>{l=Math.max(l,h.length)});const f=n+".json?icons=";o=r.maxURL-l-r.path.length-f.length}return o}function Du(a){return a===404}const Su=(a,n,r)=>{const o=[],l=xu(a,n),f="icons";let h={type:f,provider:a,prefix:n,icons:[]},g=0;return r.forEach((y,x)=>{g+=y.length+1,g>=l&&x>0&&(o.push(h),h={type:f,provider:a,prefix:n,icons:[]},g=y.length),h.icons.push(y)}),o.push(h),o};function Tu(a){if(typeof a=="string"){const n=Na(a);if(n)return n.path}return"/"}const Cu=(a,n,r)=>{if(!Ko){r("abort",424);return}let o=Tu(n.provider);switch(n.type){case"icons":{const f=n.prefix,g=n.icons.join(","),y=new URLSearchParams({icons:g});o+=f+".json?"+y.toString();break}case"custom":{const f=n.uri;o+=f.slice(0,1)==="/"?f.slice(1):f;break}default:r("abort",400);return}let l=503;Ko(a+o).then(f=>{const h=f.status;if(h!==200){setTimeout(()=>{r(Du(h)?"abort":"next",h)});return}return l=501,f.json()}).then(f=>{if(typeof f!="object"||f===null){setTimeout(()=>{f===404?r("abort",f):r("next",l)});return}setTimeout(()=>{r("success",f)})}).catch(()=>{r("next",l)})},Eu={prepare:Su,send:Cu};function Iu(a){const n={loaded:[],missing:[],pending:[]},r=Object.create(null);a.sort((l,f)=>l.provider!==f.provider?l.provider.localeCompare(f.provider):l.prefix!==f.prefix?l.prefix.localeCompare(f.prefix):l.name.localeCompare(f.name));let o={provider:"",prefix:"",name:""};return a.forEach(l=>{if(o.name===l.name&&o.prefix===l.prefix&&o.provider===l.provider)return;o=l;const f=l.provider,h=l.prefix,g=l.name,y=r[f]||(r[f]=Object.create(null)),x=y[h]||(y[h]=Mn(f,h));let A;g in x.icons?A=n.loaded:h===""||x.missing.has(g)?A=n.missing:A=n.pending;const E={provider:f,prefix:h,name:g};A.push(E)}),n}function pi(a,n){a.forEach(r=>{const o=r.loaderCallbacks;o&&(r.loaderCallbacks=o.filter(l=>l.id!==n))})}function Ou(a){a.pendingCallbacksFlag||(a.pendingCallbacksFlag=!0,setTimeout(()=>{a.pendingCallbacksFlag=!1;const n=a.loaderCallbacks?a.loaderCallbacks.slice(0):[];if(!n.length)return;let r=!1;const o=a.provider,l=a.prefix;n.forEach(f=>{const h=f.icons,g=h.pending.length;h.pending=h.pending.filter(y=>{if(y.prefix!==l)return!0;const x=y.name;if(a.icons[x])h.loaded.push({provider:o,prefix:l,name:x});else if(a.missing.has(x))h.missing.push({provider:o,prefix:l,name:x});else return r=!0,!0;return!1}),h.pending.length!==g&&(r||pi([a],f.id),f.callback(h.loaded.slice(0),h.missing.slice(0),h.pending.slice(0),f.abort))})}))}let Mu=0;function Au(a,n,r){const o=Mu++,l=pi.bind(null,r,o);if(!n.pending.length)return l;const f={id:o,icons:n,callback:a,abort:l};return r.forEach(h=>{(h.loaderCallbacks||(h.loaderCallbacks=[])).push(f)}),l}function Pu(a,n=!0,r=!1){const o=[];return a.forEach(l=>{const f=typeof l=="string"?qr(l,n,r):l;f&&o.push(f)}),o}var ju={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Fu(a,n,r,o){const l=a.resources.length,f=a.random?Math.floor(Math.random()*l):a.index;let h;if(a.random){let F=a.resources.slice(0);for(h=[];F.length>1;){const B=Math.floor(Math.random()*F.length);h.push(F[B]),F=F.slice(0,B).concat(F.slice(B+1))}h=h.concat(F)}else h=a.resources.slice(f).concat(a.resources.slice(0,f));const g=Date.now();let y="pending",x=0,A,E=null,R=[],L=[];typeof o=="function"&&L.push(o);function N(){E&&(clearTimeout(E),E=null)}function Y(){y==="pending"&&(y="aborted"),N(),R.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),R=[]}function K(F,B){B&&(L=[]),typeof F=="function"&&L.push(F)}function H(){return{startTime:g,payload:n,status:y,queriesSent:x,queriesPending:R.length,subscribe:K,abort:Y}}function b(){y="failed",L.forEach(F=>{F(void 0,A)})}function I(){R.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),R=[]}function O(F,B,oe){const ue=B!=="success";switch(R=R.filter(ee=>ee!==F),y){case"pending":break;case"failed":if(ue||!a.dataAfterTimeout)return;break;default:return}if(B==="abort"){A=oe,b();return}if(ue){A=oe,R.length||(h.length?z():b());return}if(N(),I(),!a.random){const ee=a.resources.indexOf(F.resource);ee!==-1&&ee!==a.index&&(a.index=ee)}y="completed",L.forEach(ee=>{ee(oe)})}function z(){if(y!=="pending")return;N();const F=h.shift();if(F===void 0){if(R.length){E=setTimeout(()=>{N(),y==="pending"&&(I(),b())},a.timeout);return}b();return}const B={status:"pending",resource:F,callback:(oe,ue)=>{O(B,oe,ue)}};R.push(B),x++,E=setTimeout(z,a.rotate),r(F,n,B.callback)}return setTimeout(z),H}function mi(a){const n={...ju,...a};let r=[];function o(){r=r.filter(g=>g().status==="pending")}function l(g,y,x){const A=Fu(n,g,y,(E,R)=>{o(),x&&x(E,R)});return r.push(A),A}function f(g){return r.find(y=>g(y))||null}return{query:l,find:f,setIndex:g=>{n.index=g},getIndex:()=>n.index,cleanup:o}}function qo(){}const xa=Object.create(null);function Ku(a){if(!xa[a]){const n=Na(a);if(!n)return;const r=mi(n),o={config:n,redundancy:r};xa[a]=o}return xa[a]}function qu(a,n,r){let o,l;if(typeof a=="string"){const f=Ma(a);if(!f)return r(void 0,424),qo;l=f.send;const h=Ku(a);h&&(o=h.redundancy)}else{const f=qa(a);if(f){o=mi(f);const h=a.resources?a.resources[0]:"",g=Ma(h);g&&(l=g.send)}}return!o||!l?(r(void 0,424),qo):o.query(n,l,r)().abort}function Ro(){}function Ru(a){a.iconsLoaderFlag||(a.iconsLoaderFlag=!0,setTimeout(()=>{a.iconsLoaderFlag=!1,Ou(a)}))}function Nu(a){const n=[],r=[];return a.forEach(o=>{(o.match(ui)?n:r).push(o)}),{valid:n,invalid:r}}function Qn(a,n,r){function o(){const l=a.pendingIcons;n.forEach(f=>{l&&l.delete(f),a.icons[f]||a.missing.add(f)})}if(r&&typeof r=="object")try{if(!di(a,r).length){o();return}}catch(l){console.error(l)}o(),Ru(a)}function No(a,n){a instanceof Promise?a.then(r=>{n(r)}).catch(()=>{n(null)}):n(a)}function Bu(a,n){a.iconsToLoad?a.iconsToLoad=a.iconsToLoad.concat(n).sort():a.iconsToLoad=n,a.iconsQueueFlag||(a.iconsQueueFlag=!0,setTimeout(()=>{a.iconsQueueFlag=!1;const{provider:r,prefix:o}=a,l=a.iconsToLoad;if(delete a.iconsToLoad,!l||!l.length)return;const f=a.loadIcon;if(a.loadIcons&&(l.length>1||!f)){No(a.loadIcons(l,o,r),A=>{Qn(a,l,A)});return}if(f){l.forEach(A=>{const E=f(A,o,r);No(E,R=>{const L=R?{prefix:o,icons:{[A]:R}}:null;Qn(a,[A],L)})});return}const{valid:h,invalid:g}=Nu(l);if(g.length&&Qn(a,g,null),!h.length)return;const y=o.match(ui)?Ma(r):null;if(!y){Qn(a,h,null);return}y.prepare(r,o,h).forEach(A=>{qu(r,A,E=>{Qn(a,A.icons,E)})})}))}const Hu=(a,n)=>{const r=Pu(a,!0,hi()),o=Iu(r);if(!o.pending.length){let y=!0;return n&&setTimeout(()=>{y&&n(o.loaded,o.missing,o.pending,Ro)}),()=>{y=!1}}const l=Object.create(null),f=[];let h,g;return o.pending.forEach(y=>{const{provider:x,prefix:A}=y;if(A===g&&x===h)return;h=x,g=A,f.push(Mn(x,A));const E=l[x]||(l[x]=Object.create(null));E[A]||(E[A]=[])}),o.pending.forEach(y=>{const{provider:x,prefix:A,name:E}=y,R=Mn(x,A),L=R.pendingIcons||(R.pendingIcons=new Set);L.has(E)||(L.add(E),l[x][A].push(E))}),f.forEach(y=>{const x=l[y.provider][y.prefix];x.length&&Bu(y,x)}),n?Au(n,o,f):Ro};function Lu(a,n){const r={...a};for(const o in n){const l=n[o],f=typeof l;o in vi?(l===null||l&&(f==="string"||f==="number"))&&(r[o]=l):f===typeof r[o]&&(r[o]=o==="rotate"?l%4:l)}return r}const zu=/[\s,]+/;function Wu(a,n){n.split(zu).forEach(r=>{switch(r.trim()){case"horizontal":a.hFlip=!0;break;case"vertical":a.vFlip=!0;break}})}function Uu(a,n=0){const r=a.replace(/^-?[0-9.]*/,"");function o(l){for(;l<0;)l+=4;return l%4}if(r===""){const l=parseInt(a);return isNaN(l)?0:o(l)}else if(r!==a){let l=0;switch(r){case"%":l=25;break;case"deg":l=90}if(l){let f=parseFloat(a.slice(0,a.length-r.length));return isNaN(f)?0:(f=f/l,f%1===0?o(f):0)}}return n}function Yu(a,n){let r=a.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)r+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+a+"</svg>"}function Vu(a){return a.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Gu(a){return"data:image/svg+xml,"+Vu(a)}function Qu(a){return'url("'+Gu(a)+'")'}const Bo={...gi,inline:!1},Ju={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Xu={display:"inline-block"},Aa={"background-color":"currentColor"},yi={"background-color":"transparent"},Ho={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Lo={"-webkit-mask":Aa,mask:Aa,background:yi};for(const a in Lo){const n=Lo[a];for(const r in Ho)n[a+"-"+r]=Ho[r]}function Zu(a){return a+(a.match(/^[-0-9.]+$/)?"px":"")}function $u(a,n){const r=Lu(Bo,n),o=n.mode||"svg",l=o==="svg"?{...Ju}:{};a.body.indexOf("xlink:")===-1&&delete l["xmlns:xlink"];let f=typeof n.style=="string"?n.style:"";for(let H in n){const b=n[H];if(b!==void 0)switch(H){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":r[H]=b===!0||b==="true"||b===1;break;case"flip":typeof b=="string"&&Wu(r,b);break;case"color":f=f+(f.length>0&&f.trim().slice(-1)!==";"?";":"")+"color: "+b+"; ";break;case"rotate":typeof b=="string"?r[H]=Uu(b):typeof b=="number"&&(r[H]=b);break;case"ariaHidden":case"aria-hidden":b!==!0&&b!=="true"&&delete l["aria-hidden"];break;default:if(H.slice(0,3)==="on:")break;Bo[H]===void 0&&(l[H]=b)}}const h=gu(a,r),g=h.attributes;if(r.inline&&(f="vertical-align: -0.125em; "+f),o==="svg"){Object.assign(l,g),f!==""&&(l.style=f);let H=0,b=n.id;return typeof b=="string"&&(b=b.replace(/-/g,"_")),{svg:!0,attributes:l,body:bu(h.body,b?()=>b+"ID"+H++:"iconifySvelte")}}const{body:y,width:x,height:A}=a,E=o==="mask"||(o==="bg"?!1:y.indexOf("currentColor")!==-1),R=Yu(y,{...g,width:x+"",height:A+""}),N={"--svg":Qu(R)},Y=H=>{const b=g[H];b&&(N[H]=Zu(b))};Y("width"),Y("height"),Object.assign(N,Xu,E?Aa:yi);let K="";for(const H in N)K+=H+": "+N[H]+";";return l.style=K+f,{svg:!1,attributes:l}}hi(!0);_u("",Eu);if(typeof document<"u"&&typeof window<"u"){const a=window;if(a.IconifyPreload!==void 0){const n=a.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!uu(o))&&console.error(r)}catch{console.error(r)}})}if(a.IconifyProviders!==void 0){const n=a.IconifyProviders;if(typeof n=="object"&&n!==null)for(let r in n){const o="IconifyProviders["+r+"] is invalid.";try{const l=n[r];if(typeof l!="object"||!l||l.resources===void 0)continue;wu(r,l)||console.error(o)}catch{console.error(o)}}}}function el(a,n,r,o,l){function f(){n.loading&&(n.loading.abort(),n.loading=null)}if(typeof a=="object"&&a!==null&&typeof a.body=="string")return n.name="",f(),{data:{...Rr,...a}};let h;if(typeof a!="string"||(h=qr(a,!1,!0))===null)return f(),null;const g=iu(h);if(!g)return r&&(!n.loading||n.loading.name!==a)&&(f(),n.name="",n.loading={name:a,abort:Hu([h],o)}),null;f(),n.name!==a&&(n.name=a,l&&!n.destroyed&&setTimeout(()=>{l(a)}));const y=["iconify"];return h.prefix!==""&&y.push("iconify--"+h.prefix),h.provider!==""&&y.push("iconify--"+h.provider),{data:g,classes:y}}function tl(a,n){return a?$u({...Rr,...a},n):null}var nl=nr("<svg><!></svg>"),rl=_e("<span></span>");function $e(a,n){tt(n,!0);const r={name:"",loading:null,destroyed:!1},o=Is(n,["$$slots","$$events","$$legacy"]);let l=ve(!1),f=ve(0),h=Oe(()=>!!n.ssr||d(l)),g=Oe(()=>(d(f),el(n.icon,r,d(h),x,n.onload))),y=Oe(()=>{const L=d(g)?tl(d(g).data,o):null;return L&&d(g).classes&&(L.attributes.class=(typeof o.class=="string"?o.class+" ":"")+d(g).classes.join(" ")),L});function x(){Es(f)}Jt(()=>{V(l,!0)}),Vi(()=>{r.destroyed=!0,r.loading&&(r.loading.abort(),r.loading=null)});var A=wt(),E=et(A);{var R=L=>{var N=wt(),Y=et(N);{var K=b=>{var I=nl();Co(I,()=>({...d(y).attributes}));var O=j(I);Ps(O,()=>d(y).body,!0),S(I),se(b,I)},H=b=>{var I=rl();Co(I,()=>({...d(y).attributes})),se(b,I)};Je(Y,b=>{d(y).svg?b(K):b(H,!1)})}se(L,N)};Je(E,L=>{d(y)&&L(R)})}se(a,A),nt()}var al=(a,n)=>n(0),ol=(a,n)=>n(16),il=(a,n)=>n(18),sl=(a,n)=>n(23),ul=(a,n)=>n(40),ll=_e('<div class="svelte-ziixid"><button type="button"><!></button> <button type="button">16h</button> <button type="button">18h</button> <button type="button">23h</button> <button type="button">40h</button></div>');function cl(a,n){tt(n,!0);let r=pe(n,"value",7,0);function o(K){r(K),n.onchange&&n.onchange(r())}var l=ll(),f=j(l);f.__click=[al,o];let h;var g=j(f);$e(g,{height:"20",icon:"stash:infinity-duotone",width:"20"}),S(f);var y=U(f,2);y.__click=[ol,o];let x;var A=U(y,2);A.__click=[il,o];let E;var R=U(A,2);R.__click=[sl,o];let L;var N=U(R,2);N.__click=[ul,o];let Y;S(l),Me((K,H,b,I,O)=>{h=Xe(f,1,"svelte-ziixid",null,h,K),x=Xe(y,1,"svelte-ziixid",null,x,H),E=Xe(A,1,"svelte-ziixid",null,E,b),L=Xe(R,1,"svelte-ziixid",null,L,I),Y=Xe(N,1,"svelte-ziixid",null,Y,O)},[()=>({selected:r()===0}),()=>({selected:r()===16}),()=>({selected:r()===18}),()=>({selected:r()===23}),()=>({selected:r()===40})]),se(a,l),nt()}ut(["click"]);var fl=_e('<div class="hour svelte-z94qzf"></div>'),dl=_e('<div class="day svelte-z94qzf"><!></div>'),hl=_e('<p class="day svelte-z94qzf"> </p> <!>',1),vl=_e('<div class="day svelte-z94qzf"><div class="hour svelte-z94qzf"></div></div>'),gl=_e('<figure class="svelte-z94qzf"><div class="labels svelte-z94qzf"><p class="date svelte-z94qzf">Date</p> <p class="hour svelte-z94qzf">0</p> <p class="hour svelte-z94qzf">12</p> <p class="hour svelte-z94qzf">24</p></div> <div class="grid svelte-z94qzf"><!></div> <div class="average grid svelte-z94qzf"><p class="day svelte-z94qzf">Avg</p> <!></div></figure>');function pl(a,n){tt(n,!0);let r=pe(n,"average",19,()=>[]),o=pe(n,"daily",3,null);pe(n,"days",3,10);function l(R){return R=new Date(R+"T00:00:00"),new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric"}).format(R)}function f(R,L){return R===0||L[R-1]===0?(1-L[R])*100+"%":0}var h=gl(),g=U(j(h),2),y=j(g);{var x=R=>{var L=wt(),N=et(L);It(N,17,()=>Object.keys(o()),Et,(Y,K)=>{const H=Oe(()=>o()[d(K)]);var b=hl(),I=et(b),O=j(I,!0);S(I);var z=U(I,2);It(z,16,()=>({length:24}),Et,(F,B,oe)=>{var ue=dl(),ee=j(ue);{var de=De=>{var ke=fl();let Ne;Me(Ke=>Ne=In(ke,"",Ne,Ke),[()=>({"margin-left":f(oe,d(H)),width:100*d(H)[oe]+"%"})]),se(De,ke)};Je(ee,De=>{d(H)[oe]!==0&&De(de)})}S(ue),se(F,ue)}),Me(F=>Te(O,F),[()=>l(d(K))]),se(Y,b)}),se(R,L)};Je(y,R=>{o()!==null&&R(x)})}S(g);var A=U(g,2),E=U(j(A),2);It(E,16,()=>({length:24}),Et,(R,L,N)=>{var Y=vl(),K=j(Y);let H;S(Y),Me(b=>H=In(K,"",H,b),[()=>({opacity:r()[N],width:"100%"})]),se(R,Y)}),S(A),S(h),se(a,h),nt()}function ml(a,n,r,o){const l=d(n).getBoundingClientRect();d(r).style.width=l.width-2+"px",V(o,!d(o))}var yl=(a,n,r)=>n(d(r)),bl=_e('<li><button type="button" class="svelte-y3d9rs"><!> <span class="svelte-y3d9rs"> </span> <!></button></li>'),_l=_e('<label class="svelte-y3d9rs"><button tabindex="0" type="button" class="svelte-y3d9rs"><!> <span class="svelte-y3d9rs"> </span> <!></button> <ul></ul></label>');function wl(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]),o=pe(n,"value",7,0),l=ve(!1),f=ve(void 0),h=ve(void 0),g=Oe(()=>r().length>0?r()[o()].icon:""),y=Oe(()=>r().length>0?r()[o()].label:"");Jt(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}));function x(I){!d(f).contains(I.target)&&!d(h).contains(I.target)&&V(l,!1)}function A(I){o(I.value),V(l,!1),n.onchange&&n.onchange(I)}var E=_l(),R=j(E);R.__click=[ml,f,h,l];var L=j(R);$e(L,{height:"20",get icon(){return d(g)},width:"20"});var N=U(L,2),Y=j(N,!0);S(N);var K=U(N,2);$e(K,{height:"20",icon:"material-symbols:keyboard-arrow-down-rounded",width:"20"}),S(R),rt(R,I=>V(f,I),()=>d(f));var H=U(R,2);let b;It(H,21,r,Et,(I,O)=>{var z=bl();let F;var B=j(z);B.__click=[yl,A,O];var oe=j(B);$e(oe,{height:"20",get icon(){return d(O).icon},width:"20"});var ue=U(oe,2),ee=j(ue,!0);S(ue);var de=U(ue,2);{var De=ke=>{$e(ke,{height:"20",icon:"material-symbols:check-rounded",width:"20"})};Je(de,ke=>{d(O).value===o()&&ke(De)})}S(B),S(z),Me(ke=>{F=Xe(z,1,"svelte-y3d9rs",null,F,ke),Te(ee,d(O).label)},[()=>({selected:o()===d(O).value})]),se(I,z)}),S(H),rt(H,I=>V(h,I),()=>d(h)),S(E),Me(I=>{Te(Y,d(y)),b=Xe(H,1,"svelte-y3d9rs",null,b,I)},[()=>({open:d(l)})]),se(a,E),nt()}ut(["click"]);var kl=_e('<p class="svelte-1lve2pk">0</p>'),xl=_e('<p class="svelte-1lve2pk"> </p>'),Dl=_e('<p class="svelte-1lve2pk"> </p>'),Sl=_e('<div class="column svelte-1lve2pk"><p class="svelte-1lve2pk"> </p></div>'),Tl=_e('<div class="line svelte-1lve2pk"></div>'),Cl=_e('<div class="average svelte-1lve2pk"></div>'),El=_e('<figure class="svelte-1lve2pk"><div class="labels svelte-1lve2pk"><!></div> <div class="chart svelte-1lve2pk"><div class="labels svelte-1lve2pk"></div> <div class="columns svelte-1lve2pk"><!> <!> <!></div></div></figure>');function Il(a,n){tt(n,!0);let r=pe(n,"average",3,0),o=pe(n,"daily",19,()=>[]),l=Oe(()=>o().reduce((O,z)=>(O=z.volume>O?z.volume:O,O),0)),f=Oe(()=>{const O=Math.floor(d(l)+d(l)*.1);return[0,Math.round(O/4)*1,Math.round(O/4)*2,Math.round(O/4)*3,O]});function h(O){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric"}).format(O)}var g=El(),y=j(g),x=j(y);{var A=O=>{var z=kl();se(O,z)},E=O=>{var z=wt(),F=et(z);It(F,17,()=>d(f),Et,(B,oe)=>{const ue=Oe(()=>d(oe)===0?"0":d(oe)+" oz");var ee=xl(),de=j(ee,!0);S(ee),Me(()=>Te(de,d(ue))),se(B,ee)}),se(O,z)};Je(x,O=>{d(l)===0?O(A):O(E,!1)})}S(y);var R=U(y,2),L=j(R);It(L,21,o,Et,(O,z)=>{var F=Dl(),B=j(F,!0);S(F),Me(oe=>Te(B,oe),[()=>h(d(z).created)]),se(O,F)}),S(L);var N=U(L,2),Y=j(N);{var K=O=>{var z=wt(),F=et(z);It(F,17,o,Et,(B,oe)=>{var ue=Sl();let ee;var de=j(ue),De=j(de);S(de),S(ue),Me(ke=>{ee=In(ue,"",ee,ke),Te(De,`${d(oe).volume??""} oz`)},[()=>({width:`${d(oe).volume/Math.floor(d(l)+d(l)*.1)*100}%`})]),se(B,ue)}),se(O,z)};Je(Y,O=>{d(l)!==0&&O(K)})}var H=U(Y,2);It(H,16,()=>({length:4}),Et,(O,z,F)=>{var B=Tl();gt(B,"data-value",F),In(B,"",{},{left:`${25*(F+1)}%`}),se(O,B)});var b=U(H,2);{var I=O=>{var z=Cl();let F;Me(B=>{gt(z,"data-value",r()),F=In(z,"",F,B)},[()=>({left:`${r()/Math.floor(d(l)+d(l)*.1)*100}%`})]),se(O,z)};Je(b,O=>{r()>0&&O(I)})}S(N),S(R),S(g),se(a,g),nt()}var Ol=(a,n)=>n(0),Ml=(a,n)=>n(1),Al=(a,n)=>n(2),Pl=(a,n)=>n(3),jl=nr('<text class="axis svelte-1y2p92y"> </text><path></path>',1),Fl=nr('<text class="label svelte-1y2p92y"> </text>'),Kl=nr('<text class="label svelte-1y2p92y"> </text>'),ql=nr('<text class="label first svelte-1y2p92y" x="40"> </text><text class="label last svelte-1y2p92y"> </text>',1),Rl=_e('<figure class="svelte-1y2p92y"><div class="svelte-1y2p92y"><button type="button">Week</button> <button type="button">Month</button> <button type="button">Year</button> <button type="button">All</button></div> <svg class="svelte-1y2p92y"><!><!><path class="area svelte-1y2p92y"></path><path class="plot svelte-1y2p92y"></path></svg></figure>');function Nl(a,n){tt(n,!0);let r=pe(n,"value",19,()=>[]),o=ve(0),l=ve(0),f=ve(3),h=Oe(()=>{let G=null;switch(d(f)){case 0:return d(K);case 1:return d(H);case 2:return d(b);default:G=[...r()],G.sort((X,ge)=>X.created.getTime()>ge.created.getTime()?1:X.created.getTime()<ge.created.getTime()?-1:0);break}return G}),g=Oe(()=>{if(d(h).length===0)return Date.now();const G=d(h).map(X=>X.created.getTime());return Math.max(...G)}),y=Oe(()=>{if(d(h).length===0)return 300;const G=d(h).map(X=>X.weight);return Math.max(...G)}),x=Oe(()=>{if(d(h).length===0)return Date.now();const G=d(h).map(X=>X.created.getTime());return Math.min(...G)}),A=Oe(()=>{if(d(h).length===0)return 0;const G=d(h).map(X=>X.weight);return Math.min(...G)}),E=Oe(()=>d(h).length===0?300:Math.floor(d(y)*1.1)),R=Oe(()=>d(h).length===0?0:Math.floor(d(A)*.9)),L=Oe(()=>{const ge=d(o)-24;if(!d(h)||d(h).length===0)return"";let xe=new String(d(Y));return xe+=` L ${d(l)} ${ge} L 40 ${ge} Z`}),N=Oe(()=>{const ge=d(l)-40,xe=d(o)-24;if(!d(h)||d(h).length===0)return[];const Pe=Se=>40+(Se-d(x))/(d(g)-d(x)||1)*ge,ye=Se=>(d(E)-Se)/(d(E)-d(R))*xe;if(d(h).length===1){const Se=ye(d(h)[0].weight);return[[40,ye(d(h)[0].weight)],[d(l),Se]]}return d(h).map(Se=>[Pe(Se.created.getTime()),ye(Se.weight)])}),Y=Oe(()=>{if(!d(h)||d(h).length===0)return"";let G=`M ${d(N)[0][0]} ${d(N)[0][1]}`;for(let X=1;X<d(N).length;X++)G+=` L ${d(N)[X][0]} ${d(N)[X][1]}`;return G}),K=Oe(()=>{const G=new Date;return G.setDate(G.getDate()-7),G.setHours(0),G.setMinutes(0),G.setSeconds(0),G.setMilliseconds(0),r().filter(X=>X.created.getTime()>G.getTime()).sort((X,ge)=>X.created.getTime()>ge.created.getTime()?1:X.created.getTime()<ge.created.getTime()?-1:0)}),H=Oe(()=>{const G=new Date;return G.setDate(G.getDate()-30),G.setHours(0),G.setMinutes(0),G.setSeconds(0),G.setMilliseconds(0),r().filter(X=>X.created.getTime()>G.getTime()).sort((X,ge)=>X.created.getTime()>ge.created.getTime()?1:X.created.getTime()<ge.created.getTime()?-1:0)}),b=Oe(()=>{const G=new Date;return G.setFullYear(G.getFullYear()-1),G.setHours(0),G.setMinutes(0),G.setSeconds(0),G.setMilliseconds(0),r().filter(X=>X.created.getTime()>G.getTime()).sort((X,ge)=>X.created.getTime()>ge.created.getTime()?1:X.created.getTime()<ge.created.getTime()?-1:0)});Jt(()=>{const G=window.localStorage.getItem("fh_timeline");V(f,G===null?3:parseInt(G),!0)});function I(G){V(f,G,!0),window.localStorage.setItem("fh_timeline",G)}function O(G){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",year:"numeric"}).format(G)}var z=Rl(),F=j(z),B=j(F);B.__click=[Ol,I];let oe;var ue=U(B,2);ue.__click=[Ml,I];let ee;var de=U(ue,2);de.__click=[Al,I];let De;var ke=U(de,2);ke.__click=[Pl,I];let Ne;S(F);var Ke=U(F,2),Be=j(Ke);It(Be,16,()=>({length:6}),Et,(G,X,ge)=>{const xe=Oe(()=>ge/5),Pe=Oe(()=>d(E)-d(xe)*(d(E)-d(R))),ye=Oe(()=>d(xe)*(d(o)-24)),Se=Oe(()=>ge===0||ge===5?null:Math.floor(d(Pe)));var te=jl(),Ue=et(te),Ye=j(Ue,!0);S(Ue);var Ee=U(Ue);Xe(Ee,0,"axis svelte-1y2p92y",null,{},{last:ge===5}),Me(()=>{gt(Ue,"y",d(ye)?d(ye):0),Te(Ye,d(Se)),gt(Ee,"d",`M 40 ${d(ye)===0?1:d(ye)} L ${d(l)} ${d(ye)===0?1:d(ye)}`)}),se(G,te)});var we=U(Be);{var Ie=G=>{var X=Fl(),ge=j(X,!0);S(X),Me(xe=>{gt(X,"x",40+(d(l)-40)/2),gt(X,"y",d(o)-12),Te(ge,xe)},[()=>O(new Date)]),se(G,X)},Ae=G=>{var X=wt(),ge=et(X);{var xe=ye=>{var Se=Kl(),te=j(Se,!0);S(Se),Me(Ue=>{gt(Se,"x",40+(d(l)-40)/2),gt(Se,"y",d(o)-12),Te(te,Ue)},[()=>O(d(h)[0].created)]),se(ye,Se)},Pe=ye=>{var Se=ql(),te=et(Se),Ue=j(te,!0);S(te);var Ye=U(te),Ee=j(Ye,!0);S(Ye),Me((dt,ct)=>{gt(te,"y",d(o)-12),Te(Ue,dt),gt(Ye,"x",d(l)),gt(Ye,"y",d(o)-12),Te(Ee,ct)},[()=>O(d(h)[0].created),()=>O(d(h)[d(h).length-1].created)]),se(ye,Se)};Je(ge,ye=>{d(h).length===1?ye(xe):ye(Pe,!1)},!0)}se(G,X)};Je(we,G=>{d(h).length===0?G(Ie):G(Ae,!1)})}var He=U(we),$=U(He);S(Ke),S(z),Me((G,X,ge,xe)=>{oe=Xe(B,1,"svelte-1y2p92y",null,oe,G),ee=Xe(ue,1,"svelte-1y2p92y",null,ee,X),De=Xe(de,1,"svelte-1y2p92y",null,De,ge),Ne=Xe(ke,1,"svelte-1y2p92y",null,Ne,xe),gt(He,"d",d(L)),gt($,"d",d(Y))},[()=>({selected:d(f)===0}),()=>({selected:d(f)===1}),()=>({selected:d(f)===2}),()=>({selected:d(f)===3})]),Io(Ke,"clientWidth",G=>V(l,G)),Io(Ke,"clientHeight",G=>V(o,G)),se(a,z),nt()}ut(["click"]);var Bl=_e('<button class="sun svelte-1x88gms" type="button">Sunrise/sunset</button>'),Hl=_e('<!> <p class="svelte-1x88gms"> </p>',1),Ll=_e('<section class="svelte-1x88gms"><!> <footer class="svelte-1x88gms"><div class="daynight svelte-1x88gms"><!></div> <!></footer></section>');function bi(a,n){tt(n,!0);let r=pe(n,"activity",3,null),o=pe(n,"days",3,10),l=pe(n,"water",3,null),f=pe(n,"weight",19,()=>[]);const h=[{icon:"material-symbols:local-fire-department-outline-rounded",label:"Fasting",value:0},{icon:"material-symbols:water-drop-outline-rounded",label:"Water",value:1},{icon:"hugeicons:weight-scale",label:"Weight",value:2}];let g=ve(0);Jt(()=>{const O=window.localStorage.getItem("fh_graph");V(g,O===null?0:parseInt(O),!0)});function y(O){window.localStorage.setItem("fh_graph",O.value),V(g,O.value,!0)}function x(O){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(O)}var A=Ll(),E=j(A);{var R=O=>{{let z=Oe(()=>r()&&r().average?r().average:[]),F=Oe(()=>r()&&r().daily?r().daily:[]);pl(O,{get average(){return d(z)},get daily(){return d(F)},get days(){return o()}})}},L=O=>{var z=wt(),F=et(z);{var B=ue=>{{let ee=Oe(()=>l()&&l().average?l().average:null),de=Oe(()=>l()&&l().daily?l().daily:null);Il(ue,{get average(){return d(ee)},get daily(){return d(de)}})}},oe=ue=>{var ee=wt(),de=et(ee);{var De=ke=>{Nl(ke,{get value(){return f()}})};Je(de,ke=>{d(g)===2&&ke(De)},!0)}se(ue,ee)};Je(F,ue=>{d(g)===1?ue(B):ue(oe,!1)},!0)}se(O,z)};Je(E,O=>{d(g)===0?O(R):O(L,!1)})}var N=U(E,2),Y=j(N),K=j(Y);{var H=O=>{var z=Bl();z.__click=function(...F){var B;(B=n.onsun)==null||B.apply(this,F)},se(O,z)},b=O=>{var z=Hl(),F=et(z);{let ue=Oe(()=>n.sun&&n.sun.icon?n.sun.icon:null);$e(F,{height:"16",get icon(){return d(ue)},width:"16"})}var B=U(F,2),oe=j(B,!0);S(B),Me(ue=>Te(oe,ue),[()=>n.sun&&n.sun.timing?x(n.sun.timing):""]),se(O,z)};Je(K,O=>{n.sun===null?O(H):O(b,!1)})}S(Y);var I=U(Y,2);wl(I,{get items(){return h},mount:"top",onchange:O=>y(O),get value(){return d(g)}}),S(N),S(A),se(a,A),nt()}ut(["click"]);function zl(a,n){V(n,!d(n))}var Wl=(a,n,r)=>n(d(r)),Ul=_e('<li class="svelte-13e0nbd"><button type="button" class="svelte-13e0nbd"><span class="svelte-13e0nbd"> </span></button></li>'),Yl=_e('<label class="svelte-13e0nbd"><button tabindex="0" type="button" class="svelte-13e0nbd"><!> <span class="svelte-13e0nbd"> </span> <!></button> <ul></ul></label>');function Vl(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]),o=pe(n,"value",3,5),l=ve(!1),f=ve(void 0),h=ve(void 0),g=Oe(()=>r().find(I=>I.value===o()).label);Jt(()=>(document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}));function y(b){!d(f).contains(b.target)&&!d(h).contains(b.target)&&V(l,!1)}function x(b){V(l,!1),n.onchange&&n.onchange(b.value)}var A=Yl(),E=j(A);E.__click=[zl,l];var R=j(E);$e(R,{height:"20",icon:"material-symbols:fork-spoon-rounded",width:"20"});var L=U(R,2),N=j(L,!0);S(L);var Y=U(L,2);$e(Y,{height:"20",icon:"material-symbols:keyboard-arrow-down-rounded",width:"20"}),S(E),rt(E,b=>V(f,b),()=>d(f));var K=U(E,2);let H;It(K,21,r,Et,(b,I)=>{var O=Ul(),z=j(O);z.__click=[Wl,x,I];var F=j(z),B=j(F,!0);S(F),S(z),S(O),Me(()=>Te(B,d(I).label)),se(b,O)}),S(K),rt(K,b=>V(h,b),()=>d(h)),S(A),Me(b=>{Te(N,d(g)),H=Xe(K,1,"svelte-13e0nbd",null,H,b)},[()=>({open:d(l)})]),se(a,A),nt()}ut(["click"]);var Gl=_e('<article><p class="svelte-1yn3hhw"><span class="svelte-1yn3hhw"> </span> <span class="units svelte-1yn3hhw">hrs</span></p> <p class="colon svelte-1yn3hhw">:</p> <p class="svelte-1yn3hhw"><span class="svelte-1yn3hhw"> </span> <span class="units svelte-1yn3hhw">min</span></p> <p class="colon svelte-1yn3hhw">:</p> <p class="svelte-1yn3hhw"><span class="svelte-1yn3hhw"> </span> <span class="units svelte-1yn3hhw">sec</span></p></article>');function Ql(a,n){tt(n,!0);let r=pe(n,"duration",3,0),o=pe(n,"now",3,null),l=pe(n,"started",3,null),f=Oe(()=>{let b=Math.floor((o()-l().getTime())/1e3);if(r()!==0){const I=new Date(l().getTime()+r()*36e5);b=Math.floor((I.getTime()-o())/1e3)}return b}),h=Oe(()=>{if(l()===null)return{hours:0,minutes:"00",seconds:"00"};let b=Math.floor(d(f)/3600);return b=b<0?"+"+Math.abs(b).toString(10):Math.abs(b).toString(10),{hours:b,minutes:Math.abs(Math.floor(d(f)%3600/60)).toString(10).padStart(2,"0"),seconds:Math.abs(d(f)%60).toString(10).padStart(2,"0")}});var g=Gl();let y;var x=j(g),A=j(x),E=j(A,!0);S(A),yn(2),S(x);var R=U(x,4),L=j(R),N=j(L,!0);S(L),yn(2),S(R);var Y=U(R,4),K=j(Y),H=j(K,!0);S(K),yn(2),S(Y),S(g),Me(b=>{y=Xe(g,1,"svelte-1yn3hhw",null,y,b),Te(E,d(h).hours),Te(N,d(h).minutes),Te(H,d(h).seconds)},[()=>({complete:d(f)<0})]),se(a,g),nt()}function Jl(a,n){V(n,!d(n))}var Xl=(a,n,r)=>n(d(r)),Zl=_e('<li class="svelte-1aqe5wr"><button type="button" class="svelte-1aqe5wr"><span class="svelte-1aqe5wr"> </span> <span class="svelte-1aqe5wr"> </span></button></li>'),$l=_e('<label class="svelte-1aqe5wr"><button tabindex="0" type="button" class="svelte-1aqe5wr"><!> <span class="svelte-1aqe5wr"> </span> <!></button> <ul></ul></label>');function ec(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]),o=pe(n,"units",3,"oz"),l=pe(n,"value",3,0),f=ve(!1),h=ve(void 0),g=ve(void 0);Jt(()=>(document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}));function y(b){!d(h).contains(b.target)&&!d(g).contains(b.target)&&V(f,!1)}function x(b){V(f,!1),n.onchange&&n.onchange(b.value)}var A=$l(),E=j(A);E.__click=[Jl,f];var R=j(E);$e(R,{height:"20",icon:"material-symbols:water-drop-outline-rounded",width:"20"});var L=U(R,2),N=j(L);S(L);var Y=U(L,2);$e(Y,{height:"20",icon:"material-symbols:keyboard-arrow-down-rounded",width:"20"}),S(E),rt(E,b=>V(h,b),()=>d(h));var K=U(E,2);let H;It(K,21,r,Et,(b,I)=>{var O=Zl(),z=j(O);z.__click=[Xl,x,I];var F=j(z),B=j(F,!0);S(F);var oe=U(F,2),ue=j(oe);S(oe),S(z),S(O),Me(()=>{Te(B,d(I).label),Te(ue,`${d(I).value??""} ${o()??""}`)}),se(b,O)}),S(K),rt(K,b=>V(g,b),()=>d(g)),S(A),Me(b=>{Te(N,`${l()??""} ${o()??""}`),H=Xe(K,1,"svelte-1aqe5wr",null,H,b)},[()=>({open:d(f)})]),se(a,A),nt()}ut(["click"]);function tc(a,n,r){n()===null?r.onstart&&r.onstart():r.onend&&r.onend()}function nc(a,n){n.onweight&&n.onweight()}var rc=_e('<p class="started ended svelte-1tpeb2u">Your last fast ended<br/> </p>'),ac=_e('<p class="svelte-1tpeb2u">You are not fasting.</p> <!>',1),oc=_e('<p class="svelte-1tpeb2u">You are fasting.</p> <!> <!> <p class="started svelte-1tpeb2u"> </p>',1),ic=_e('<section class="svelte-1tpeb2u"><header class="svelte-1tpeb2u"><h3 class="svelte-1tpeb2u">Fasting</h3> <button class="icon svelte-1tpeb2u" type="button"><!></button></header> <article class="svelte-1tpeb2u"><!> <button class="primary svelte-1tpeb2u" type="button"> </button></article> <div class="graph svelte-1tpeb2u"><!></div> <footer class="svelte-1tpeb2u"><!> <p class="svelte-1tpeb2u">Made with ❤️ by <a href="https://kevinhoyt.com" target="_blank" class="svelte-1tpeb2u">Kevin Hoyt</a>.</p> <!></footer></section>');function sc(a,n){tt(n,!0);let r=pe(n,"activity",3,null),o=pe(n,"duration",3,0),l=pe(n,"ended",3,null),f=pe(n,"hunger",3,5),h=pe(n,"levels",19,()=>[]),g=pe(n,"now",3,null),y=pe(n,"started",3,null),x=pe(n,"sun",3,null),A=pe(n,"volume",3,null),E=pe(n,"volumes",19,()=>[]),R=pe(n,"water",3,0),L=pe(n,"weight",19,()=>[]);function N(Ne){return Ne===null?null:new Intl.DateTimeFormat(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(Ne)}var Y=ic(),K=j(Y),H=U(j(K),2);H.__click=[nc,n];var b=j(H);$e(b,{height:"20",icon:"hugeicons:weight-scale",width:"20"}),S(H),S(K);var I=U(K,2),O=j(I);{var z=Ne=>{var Ke=ac(),Be=U(et(Ke),2);{var we=Ie=>{var Ae=rc(),He=U(j(Ae),2,!0);S(Ae),Me($=>Te(He,$),[()=>N(l())]),se(Ie,Ae)};Je(Be,Ie=>{l()!==null&&Ie(we)})}se(Ne,Ke)},F=Ne=>{var Ke=oc(),Be=U(et(Ke),2);Ql(Be,{get duration(){return o()},get now(){return g()},get started(){return y()}});var we=U(Be,2);cl(we,{get onchange(){return n.onduration},get value(){return o()}});var Ie=U(we,2),Ae=j(Ie);S(Ie),Me(He=>Te(Ae,`Started ${He??""}`),[()=>N(y())]),se(Ne,Ke)};Je(O,Ne=>{y()===null?Ne(z):Ne(F,!1)})}var B=U(O,2);B.__click=[tc,y,n];var oe=j(B);S(B),S(I);var ue=U(I,2),ee=j(ue);bi(ee,{get activity(){return r()},days:7,get onsun(){return n.onsun},get sun(){return x()},get water(){return A()},get weight(){return L()}}),S(ue);var de=U(ue,2),De=j(de);Vl(De,{get items(){return h()},get onchange(){return n.onhunger},get value(){return f()}});var ke=U(De,4);ec(ke,{get items(){return E()},get onchange(){return n.onwater},get value(){return R()}}),S(de),S(Y),Me(()=>Te(oe,`${y()===null?"Start":"Stop"} fasting`)),se(a,Y),nt()}ut(["click"]);function uc(a,n,r,o){const l=new Date(parseInt(a.currentTarget.getAttribute("data-year")),parseInt(a.currentTarget.getAttribute("data-month")),parseInt(a.currentTarget.getAttribute("data-date")));l.getMonth()!==n().getMonth()&&n(new Date(l.getTime())),r(new Date(l.getTime())),o.onchange&&o.onchange(r())}var lc=_e('<button type="button"> </button>'),cc=_e('<section><header class="svelte-1ll096s"><h3 class="svelte-1ll096s"> </h3> <button type="button" class="svelte-1ll096s"><!></button> <button type="button" class="svelte-1ll096s"><!></button></header> <article class="svelte-1ll096s"><p class="svelte-1ll096s">Sun</p> <p class="svelte-1ll096s">Mon</p> <p class="svelte-1ll096s">Tue</p> <p class="svelte-1ll096s">Wed</p> <p class="svelte-1ll096s">Thu</p> <p class="svelte-1ll096s">Fri</p> <p class="svelte-1ll096s">Sat</p></article> <article class="svelte-1ll096s"></article></section>');function fc(a,n){tt(n,!0);let r=pe(n,"display",23,()=>new Date),o=pe(n,"value",23,()=>new Date),l=Oe(()=>new Intl.DateTimeFormat(navigator.language,{month:"long",year:"numeric"}).format(r())),f=Oe(()=>{const H=[],b=new Date,I=new Date(r().getFullYear(),r().getMonth(),1);I.setDate(I.getDate()-I.getDay());for(let O=0;O<42;O++){const z={date:I.getDate(),month:I.getMonth(),year:I.getFullYear(),outside:!0,today:!1,selected:!1,after:!1};I.getFullYear()===r().getFullYear()&&I.getMonth()===r().getMonth()&&(z.outside=!1),I.getTime()>Date.now()&&(z.after=!0),I.getFullYear()===b.getFullYear()&&I.getMonth()===b.getMonth()&&I.getDate()===b.getDate()&&(z.today=!0),I.getFullYear()===o().getFullYear()&&I.getMonth()===o().getMonth()&&I.getDate()===o().getDate()&&(z.selected=!0),I.setDate(I.getDate()+1),H.push(z)}return H});function h(){let H=r().getMonth(),b=r().getFullYear();b=H===0?b-1:b,H=H===0?11:H-1,r(new Date(b,H,r().getDate()))}function g(){let H=r().getMonth(),b=r().getFullYear();b=H===11?b+1:b,H=(H+1)%12,r(new Date(b,H,r().getDate()))}var y=cc(),x=j(y),A=j(x),E=j(A,!0);S(A);var R=U(A,2);R.__click=h;var L=j(R);$e(L,{height:"24",icon:"material-symbols:navigate-before",width:"24"}),S(R);var N=U(R,2);N.__click=g;var Y=j(N);$e(Y,{height:"24",icon:"material-symbols:navigate-next",width:"24"}),S(N),S(x);var K=U(x,4);It(K,21,()=>d(f),Et,(H,b)=>{var I=lc();I.__click=[uc,r,o,n];let O;var z=j(I,!0);S(I),Me(F=>{gt(I,"data-year",d(b).year),gt(I,"data-month",d(b).month),gt(I,"data-date",d(b).date),I.disabled=d(b).after,O=Xe(I,1,"svelte-1ll096s",null,O,F),Te(z,d(b).date)},[()=>({outside:d(b).outside,today:d(b).today,selected:d(b).selected})]),se(H,I)}),S(K),S(y),Me(()=>Te(E,d(l))),se(a,y),nt()}ut(["click"]);function dc(a,n,r){const o=new Date(n().getTime());o.getHours()>=12?o.getHours()===12?o.setHours(23):o.setHours(o.getHours()-1):o.getHours()===0?o.setHours(11):o.setHours(o.getHours()-1),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}function hc(a,n,r){const o=new Date(n().getTime());o.getHours()>=12?o.getHours()===23?o.setHours(12):o.setHours(o.getHours()+1):o.getHours()===11?o.setHours(0):o.setHours(o.getHours()+1),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}function vc(a,n,r){const o=new Date(n().getTime());o.getHours()>=12&&o.setHours(o.getHours()-12),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}function gc(a,n,r){const o=new Date(n().getTime());o.getHours()<12&&o.setHours(o.getHours()+12),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}function pc(a,n,r){const o=new Date(n().getTime());o.getMinutes()===0?o.setMinutes(59):o.setMinutes(o.getMinutes()-1),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}function mc(a,n,r){const o=new Date(n().getTime());o.getMinutes()===59?o.setMinutes(0):o.setMinutes(o.getMinutes()+1),n(new Date(o.getTime())),r.onchange&&r.onchange(n())}var yc=_e('<article class="svelte-1bevvpj"><div class="time svelte-1bevvpj"><div class="dial svelte-1bevvpj"><button type="button" class="svelte-1bevvpj"><!></button> <p class="svelte-1bevvpj"> </p> <button type="button" class="svelte-1bevvpj"><!></button></div> <p class="svelte-1bevvpj">:</p> <div class="dial svelte-1bevvpj"><button type="button" class="svelte-1bevvpj"><!></button> <p class="svelte-1bevvpj"> </p> <button type="button" class="svelte-1bevvpj"><!></button></div></div> <div class="meridian svelte-1bevvpj"><button type="button">AM</button> <button type="button">PM</button></div></article>');function bc(a,n){tt(n,!0);let r=pe(n,"value",23,()=>new Date),o=Oe(()=>r().getHours()%12||12),l=Oe(()=>r().getMinutes().toString(10).padStart(2,"0")),f=Oe(()=>r().getHours()>=12?"PM":"AM");var h=yc(),g=j(h),y=j(g),x=j(y);x.__click=[hc,r,n];var A=j(x);$e(A,{height:"24",icon:"material-symbols:keyboard-arrow-up-rounded",width:"24"}),S(x);var E=U(x,2),R=j(E,!0);S(E);var L=U(E,2);L.__click=[dc,r,n];var N=j(L);$e(N,{height:"24",icon:"material-symbols:keyboard-arrow-down-rounded",width:"24"}),S(L),S(y);var Y=U(y,4),K=j(Y);K.__click=[mc,r,n];var H=j(K);$e(H,{height:"24",icon:"material-symbols:keyboard-arrow-up-rounded",width:"24"}),S(K);var b=U(K,2),I=j(b,!0);S(b);var O=U(b,2);O.__click=[pc,r,n];var z=j(O);$e(z,{height:"24",icon:"material-symbols:keyboard-arrow-down-rounded",width:"24"}),S(O),S(Y),S(g);var F=U(g,2),B=j(F);B.__click=[vc,r,n];let oe;var ue=U(B,2);ue.__click=[gc,r,n];let ee;S(F),S(h),Me((de,De)=>{Te(R,d(o)),Te(I,d(l)),oe=Xe(B,1,"svelte-1bevvpj",null,oe,de),ee=Xe(ue,1,"svelte-1bevvpj",null,ee,De)},[()=>({selected:d(f)==="AM"}),()=>({selected:d(f)==="PM"})]),se(a,h),nt()}ut(["click"]);function _c(a,n){V(n,"calendar")}function wc(a,n){V(n,"clock")}var kc=_e('<article class="svelte-1tr6oad"><header class="svelte-1tr6oad"><button type="button"><p class="svelte-1tr6oad"> </p> <p class="svelte-1tr6oad"> </p></button> <button type="button"><p class="svelte-1tr6oad"> </p></button></header> <!></article>');function Nr(a,n){tt(n,!0);let r=pe(n,"value",23,()=>new Date),o=ve("calendar");function l(B){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric"}).format(B)}function f(B){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(B)}function h(B){B.setHours(r().getHours()),B.setMinutes(r().getMinutes()),B.setSeconds(r().getSeconds()),r(new Date(B.getTime())),n.onchange&&n.onchange(r())}function g(B){B.setFullYear(r().getFullYear()),B.getMonth(r().getMonth()),B.getDate(r().getDate()),r(new Date(B.getTime())),n.onchange&&n.onchange(r())}var y=kc(),x=j(y),A=j(x);A.__click=[_c,o];let E;var R=j(A),L=j(R,!0);S(R);var N=U(R,2),Y=j(N,!0);S(N),S(A);var K=U(A,2);K.__click=[wc,o];let H;var b=j(K),I=j(b,!0);S(b),S(K),S(x);var O=U(x,2);{var z=B=>{fc(B,{onchange:h,get value(){return r()}})},F=B=>{bc(B,{onchange:g,get value(){return r()}})};Je(O,B=>{d(o)===null||d(o)==="calendar"?B(z):B(F,!1)})}S(y),Me((B,oe,ue,ee)=>{E=Xe(A,1,"svelte-1tr6oad",null,E,B),Te(L,n.label),Te(Y,oe),H=Xe(K,1,"svelte-1tr6oad",null,H,ue),Te(I,ee)},[()=>({selected:d(o)==="calendar"}),()=>l(r()),()=>({selected:d(o)==="clock"}),()=>f(r())]),se(a,y),nt()}ut(["click"]);function xc(a,n,r,o){n(),r(null),o.oncancel&&o.oncancel()}function Dc(a,n,r,o){n.ondelete&&n.ondelete(r(),o().id)}function Sc(a,n){const r=a.currentTarget.value.trim().length===0?null:a.currentTarget.value;n({...n(),notes:r})}function Tc(a,n,r){n.onsave&&n.onsave(r())}var Cc=_e('<dialog class="svelte-13glclx"><h3 class="svelte-13glclx"> </h3> <!> <textarea placeholder="Notes" class="svelte-13glclx"></textarea> <footer class="svelte-13glclx"><button class="delete svelte-13glclx" type="button">Delete</button> <button class="cancel svelte-13glclx" type="button">Cancel</button> <button type="button" class="svelte-13glclx">Save</button></footer></dialog>');function Ec(a,n){tt(n,!0);let r=pe(n,"field",3,"started"),o=pe(n,"item",7,null),l=pe(n,"label",3,"Started"),f=pe(n,"title",3,"Edit Fast Start"),h=ve(void 0);function g(I){const O={...o()};O[r()]=new Date(I.getTime()),o({...O})}function y(){d(h).close()}function x(){d(h).showModal()}var A=Cc(),E=j(A),R=j(E,!0);S(E);var L=U(E,2);{let I=Oe(()=>o()&&o().id&&o().id!==null?o()[r()]:new Date);Nr(L,{get label(){return l()},onchange:g,get value(){return d(I)}})}var N=U(L,2);Zo(N),N.__input=[Sc,o];var Y=U(N,2),K=j(Y);K.__click=[Dc,n,r,o];var H=U(K,2);H.__click=[xc,y,o,n];var b=U(H,2);return b.__click=[Tc,n,o],S(Y),S(A),rt(A,I=>V(h,I),()=>d(h)),Me(()=>{Te(R,f()),ri(N,o()&&o().id&&o().id!==null?o().notes:"")}),se(a,A),nt({close:y,showModal:x})}ut(["input","click"]);var Ic=_e('<article class="svelte-1vxkmhw"><p class="svelte-1vxkmhw">Your fasting history<br/>will be displayed here.</p></article>'),Oc=_e('<li class="header svelte-1vxkmhw"><p class="svelte-1vxkmhw"> </p></li>'),Mc=(a,n,r)=>n(d(r).type,d(r).id),Ac=_e('<p class="svelte-1vxkmhw">Started Fast</p> <p class="svelte-1vxkmhw"></p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p>',1),Pc=_e('<p class="svelte-1vxkmhw">Water</p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p>',1),jc=_e('<p class="svelte-1vxkmhw">Weight</p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p>',1),Fc=_e('<p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"></p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p>',1),Kc=_e('<p class="svelte-1vxkmhw">Ended Fast</p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p> <p class="svelte-1vxkmhw"> </p>',1),qc=_e('<li class="svelte-1vxkmhw"><button type="button" class="svelte-1vxkmhw"><!></button></li>'),Rc=_e('<ul class="svelte-1vxkmhw"></ul>');function Nc(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]);function o(L){return new Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",year:"numeric"}).format(L)}function l(L,N){const Y=N.getTime()-L.getTime(),K=Math.floor(Y/1e3),H=Math.floor(K/3600),b=Math.floor(K%3600/60);return new Intl.DurationFormat(navigator.language,{style:"short",units:["hour","minute"]}).format({hours:H,minutes:b})}function f(L){return new Intl.DateTimeFormat(navigator.language,{weekday:"long",month:"short",day:"numeric"}).format(L)}function h(L){return new Intl.NumberFormat(navigator.language).format(L)}function g(L){return new Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"2-digit"}).format(L)}function y(L,N){n.onchange&&n.onchange(L,N)}var x=wt(),A=et(x);{var E=L=>{var N=Ic();se(L,N)},R=L=>{var N=Rc();It(N,21,r,Et,(Y,K)=>{var H=wt(),b=et(H);{var I=z=>{var F=Oc(),B=j(F),oe=j(B,!0);S(B),S(F),Me(ue=>Te(oe,ue),[()=>f(d(K).timed)]),se(z,F)},O=z=>{var F=qc(),B=j(F);B.__click=[Mc,y,K];var oe=j(B);{var ue=de=>{var De=Ac(),ke=U(et(De),4),Ne=j(ke,!0);S(ke);var Ke=U(ke,2),Be=j(Ke,!0);S(Ke),Me((we,Ie)=>{Te(Ne,we),Te(Be,Ie)},[()=>o(d(K).timed),()=>g(d(K).timed)]),se(de,De)},ee=de=>{var De=wt(),ke=et(De);{var Ne=Be=>{var we=Pc(),Ie=U(et(we),2),Ae=j(Ie);S(Ie);var He=U(Ie,2),$=j(He,!0);S(He);var G=U(He,2),X=j(G,!0);S(G),Me((ge,xe)=>{Te(Ae,`${d(K).volume??""} oz`),Te($,ge),Te(X,xe)},[()=>o(d(K).timed),()=>g(d(K).timed)]),se(Be,we)},Ke=Be=>{var we=wt(),Ie=et(we);{var Ae=$=>{var G=jc(),X=U(et(G),2),ge=j(X);S(X);var xe=U(X,2),Pe=j(xe,!0);S(xe);var ye=U(xe,2),Se=j(ye,!0);S(ye),Me((te,Ue,Ye)=>{Te(ge,`${te??""} ${d(K).units??""}`),Te(Pe,Ue),Te(Se,Ye)},[()=>h(d(K).weight),()=>o(d(K).timed),()=>g(d(K).timed)]),se($,G)},He=$=>{var G=wt(),X=et(G);{var ge=Pe=>{var ye=Fc(),Se=et(ye),te=j(Se,!0);S(Se);var Ue=U(Se,4),Ye=j(Ue,!0);S(Ue);var Ee=U(Ue,2),dt=j(Ee,!0);S(Ee),Me((ct,lt)=>{Te(te,d(K).level),Te(Ye,ct),Te(dt,lt)},[()=>o(d(K).timed),()=>g(d(K).timed)]),se(Pe,ye)},xe=Pe=>{var ye=wt(),Se=et(ye);{var te=Ue=>{var Ye=Kc(),Ee=U(et(Ye),2),dt=j(Ee,!0);S(Ee);var ct=U(Ee,2),lt=j(ct,!0);S(ct);var Mt=U(ct,2),kt=j(Mt,!0);S(Mt),Me((pt,Tt,Ot)=>{Te(dt,pt),Te(lt,Tt),Te(kt,Ot)},[()=>l(d(K).started,d(K).ended),()=>o(d(K).timed),()=>g(d(K).timed)]),se(Ue,Ye)};Je(Se,Ue=>{d(K).type==="end"&&Ue(te)},!0)}se(Pe,ye)};Je(X,Pe=>{d(K).type==="hunger"?Pe(ge):Pe(xe,!1)},!0)}se($,G)};Je(Ie,$=>{d(K).type==="weight"?$(Ae):$(He,!1)},!0)}se(Be,we)};Je(ke,Be=>{d(K).type==="water"?Be(Ne):Be(Ke,!1)},!0)}se(de,De)};Je(oe,de=>{d(K).type==="start"?de(ue):de(ee,!1)})}S(B),S(F),se(z,F)};Je(b,z=>{d(K).type==="header"?z(I):z(O,!1)})}se(Y,H)}),S(N),se(L,N)};Je(A,L=>{r().length===0?L(E):L(R,!1)})}se(a,x),nt()}ut(["click"]);var Bc=_e('<section class="svelte-1moll0f"><header class="svelte-1moll0f"><h3 class="svelte-1moll0f">Hours</h3></header> <div class="svelte-1moll0f"><!></div> <article class="svelte-1moll0f"><!></article></section>');function Hc(a,n){let r=pe(n,"activity",3,null),o=pe(n,"history",19,()=>[]);pe(n,"levels",19,()=>[]);let l=pe(n,"sun",3,null);var f=Bc(),h=U(j(f),2),g=j(h);bi(g,{get activity(){return r()},days:7,get onsun(){return n.onsun},get sun(){return l()},get water(){return n.volume},get weight(){return n.weight}}),S(h);var y=U(h,2),x=j(y);Nc(x,{get items(){return o()},get onchange(){return n.onchange}}),S(y),S(f),se(a,f)}function Lc(a,n,r,o){const l=d(n).getBoundingClientRect();d(r).style.width=l.width-2+"px",V(o,!d(o))}var zc=(a,n,r)=>n(d(r)),Wc=_e('<li><button type="button" class="svelte-5n0me"><span class="svelte-5n0me"> </span> <!></button></li>'),Uc=_e('<label class="svelte-5n0me"><button tabindex="-1" type="button" class="svelte-5n0me"><!> <span class="svelte-5n0me"> </span> <!></button> <ul></ul></label>');function Yc(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]),o=pe(n,"value",7,0),l=ve(!1),f=ve(void 0),h=ve(void 0),g=Oe(()=>r().length===0?"":r().find(I=>I.value===o()).label);Jt(()=>(document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}));function y(b){!d(f).contains(b.target)&&!d(h).contains(b.target)&&V(l,!1)}function x(b){o(b.value),V(l,!1),n.onchange&&n.onchange(b.value)}var A=Uc(),E=j(A);E.__click=[Lc,f,h,l];var R=j(E);$e(R,{height:"20",icon:"material-symbols:fork-spoon-rounded",width:"20"});var L=U(R,2),N=j(L,!0);S(L);var Y=U(L,2);$e(Y,{height:"20",icon:"material-symbols:keyboard-arrow-down-rounded",width:"20"}),S(E),rt(E,b=>V(f,b),()=>d(f));var K=U(E,2);let H;It(K,21,r,Et,(b,I)=>{var O=Wc();let z;var F=j(O);F.__click=[zc,x,I];var B=j(F),oe=j(B,!0);S(B);var ue=U(B,2);{var ee=de=>{$e(de,{height:"20",icon:"material-symbols:check-rounded",width:"20"})};Je(ue,de=>{d(I).value===o()&&de(ee)})}S(F),S(O),Me(de=>{z=Xe(O,1,"svelte-5n0me",null,z,de),Te(oe,d(I).label)},[()=>({selected:o()===d(I).value})]),se(b,O)}),S(K),rt(K,b=>V(h,b),()=>d(h)),S(A),Me(b=>{Te(N,d(g)),H=Xe(K,1,"svelte-5n0me",null,H,b)},[()=>({open:d(l)})]),se(a,A),nt()}ut(["click"]);function Vc(a,n,r,o){n(),r(null),o.oncancel&&o.oncancel()}function Gc(a,n,r){n.ondelete&&n.ondelete(r().id)}function Qc(a,n,r){n.onsave&&n.onsave(r())}var Jc=_e('<dialog class="svelte-1hqchgg"><h3 class="svelte-1hqchgg">Edit Hunger</h3> <!> <!> <footer class="svelte-1hqchgg"><button class="delete svelte-1hqchgg" type="button">Delete</button> <button class="cancel svelte-1hqchgg" type="button">Cancel</button> <button type="button" class="svelte-1hqchgg">Save</button></footer></dialog>');function Xc(a,n){tt(n,!0);let r=pe(n,"item",7,null),o=pe(n,"levels",19,()=>[]),l=ve(void 0),f=Oe(()=>r()&&r().level&&r().level!==null?r().level:5);function h(H){const b=new Date(H.getTime());r({...r(),created:b})}function g(H){const b=H;r({...r(),level:b})}function y(){d(l).close(),r(null)}function x(){d(l).showModal()}var A=Jc(),E=U(j(A),2);Yc(E,{get items(){return o()},onchange:g,get value(){return d(f)}});var R=U(E,2);{let H=Oe(()=>r()&&r().created?r().created:new Date);Nr(R,{label:"Checked",onchange:h,get value(){return d(H)}})}var L=U(R,2),N=j(L);N.__click=[Gc,n,r];var Y=U(N,2);Y.__click=[Vc,y,r,n];var K=U(Y,2);return K.__click=[Qc,n,r],S(L),S(A),rt(A,H=>V(l,H),()=>d(l)),se(a,A),nt({close:y,showModal:x})}ut(["click"]);function Zc(a,n,r){n()!==0&&(n(0),r.onchange&&r.onchange(n()))}function $c(a,n,r){n()!==1&&(n(1),r.onchange&&r.onchange(n()))}var ef=_e('<ul class="svelte-tu3q0a"><li><button type="button">Fasting</button></li> <li><button type="button">Hours</button></li></ul>');function tf(a,n){tt(n,!0);let r=pe(n,"value",7,0);var o=ef(),l=j(o),f=j(l);let h;f.__click=[Zc,r,n],S(l);var g=U(l,2),y=j(g);let x;y.__click=[$c,r,n],S(g),S(o),Me((A,E)=>{h=Xe(f,1,"fasting svelte-tu3q0a",null,h,A),x=Xe(y,1,"hours svelte-tu3q0a",null,x,E)},[()=>({selected:r()===0}),()=>({selected:r()===1})]),se(a,o),nt()}ut(["click"]);function nf(a,n,r,o){n(""),V(r,!1),o.oncancel&&o.oncancel()}function rf(a,n,r,o){n(""),V(r,!1),o.ondone&&o.ondone()}function af(a,n,r,o,l){if(n().trim().length===0){V(r,!0),d(o).focus();return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n())){V(r,!0),d(o).focus();return}V(r,!1),l.onverify&&l.onverify(n())}var of=_e('<section class="svelte-gtv1v9"><figure class="svelte-gtv1v9"><button type="button" class="svelte-gtv1v9"><!></button> <div class="svelte-gtv1v9"><h3 class="svelte-gtv1v9">Thank you!</h3> <p class="svelte-gtv1v9">Thank you for being a valued member of the Fasting Hours community, and for supporting future development.</p></div></figure> <form class="svelte-gtv1v9"><div class="svelte-gtv1v9"><p>Email address</p> <input type="text" class="svelte-gtv1v9"/></div></form> <footer class="svelte-gtv1v9"><button class="cancel svelte-gtv1v9" type="button">Cancel</button> <button type="button" class="svelte-gtv1v9">Verify</button></footer></section>');function sf(a,n){tt(n,!0);let r=pe(n,"disabled",3,!1),o=pe(n,"email",7,null),l=ve(!1),f=ve(void 0);var h=of(),g=j(h),y=j(g);y.__click=[rf,o,l,n];var x=j(y);$e(x,{height:"24",icon:"material-symbols:cancel-rounded",width:"24"}),S(y),yn(2),S(g);var A=U(g,2),E=j(A),R=j(E);let L;var N=U(R,2);Kr(N),rt(N,b=>V(f,b),()=>d(f)),S(E),S(A);var Y=U(A,2),K=j(Y);K.__click=[nf,o,l,n];var H=U(K,2);H.__click=[af,o,l,f,n],S(Y),S(h),Me(b=>{L=Xe(R,1,"svelte-gtv1v9",null,L,b),N.disabled=r(),K.disabled=r(),H.disabled=r()},[()=>({error:d(l)})]),Ir(N,o),se(a,h),nt()}ut(["click"]);function uf(a,n){n.ondone&&n.ondone()}function lf(a,n){n.onexport&&n.onexport()}function cf(a,n){const r=event.target.files[0],o=new FileReader;o.addEventListener("load",l=>{const f=JSON.parse(l.target.result);n.onimport&&n.onimport(f)}),o.readAsText(r)}function ff(a,n){d(n).click()}function df(a,n){n.onlogout&&n.onlogout()}var hf=_e('<section class="svelte-1oua0go"><figure class="svelte-1oua0go"><button type="button" class="svelte-1oua0go"><!></button> <div class="svelte-1oua0go"><h3 class="svelte-1oua0go">Thank you!</h3> <p class="svelte-1oua0go">Your support means everything to a solo developer like me. All the best in your fasting journey.</p></div></figure> <article class="svelte-1oua0go"><input accept=".json" type="file" class="svelte-1oua0go"/> <button class="cancel svelte-1oua0go" type="button">Export data</button> <button class="cancel svelte-1oua0go" type="button">Import data</button> <button type="button" class="svelte-1oua0go">Logout</button></article></section>');function vf(a,n){tt(n,!0);let r=ve(void 0);var o=hf(),l=j(o),f=j(l);f.__click=[uf,n];var h=j(f);$e(h,{height:"24",icon:"material-symbols:cancel-rounded",width:"24"}),S(f),yn(2),S(l);var g=U(l,2),y=j(g);y.__change=[cf,n],rt(y,R=>V(r,R),()=>d(r));var x=U(y,2);x.__click=[lf,n];var A=U(x,2);A.__click=[ff,r];var E=U(A,2);E.__click=[df,n],S(g),S(o),se(a,o),nt()}ut(["click","change"]);function gf(a,n,r,o){n(""),r(""),o.ondone&&o.ondone()}function pf(a,n){n.onlogin&&n.onlogin()}function mf(a,n,r,o,l,f,h,g){if(n().trim().length===0){V(r,!0),d(o).focus();return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n())){V(r,!0),d(o).focus();return}if(V(r,!1),l().trim().length===0){V(f,!0),d(h).focus();return}V(f,!1),g.onsend&&g.onsend({email:n(),message:l()})}var yf=_e('<section class="svelte-cr8czn"><figure class="svelte-cr8czn"><button type="button" class="svelte-cr8czn"><!></button> <div class="svelte-cr8czn"><h3 class="svelte-cr8czn">Fasting Hours</h3> <p class="svelte-cr8czn">Want more features?</p> <ul class="svelte-cr8czn"><li class="svelte-cr8czn">Automated backup</li> <li class="svelte-cr8czn">Sync across devices</li> <li class="svelte-cr8czn">Export/import data</li></ul> <p class="svelte-cr8czn">Send me a message with the login email address that you would like to use. The first ten messages get a lifetime account for <span class="svelte-cr8czn">FREE</span>.</p></div></figure> <form class="svelte-cr8czn"><div class="svelte-cr8czn"><p>Email address</p> <input type="text" class="svelte-cr8czn"/></div> <div class="svelte-cr8czn"><p>Message</p> <textarea class="svelte-cr8czn"></textarea></div></form> <footer class="svelte-cr8czn"><button class="login svelte-cr8czn" type="button">Login</button> <button type="button" class="svelte-cr8czn">Send</button></footer></section>');function bf(a,n){tt(n,!0);let r=pe(n,"disabled",3,!1),o=pe(n,"email",7,null),l=pe(n,"message",7,null),f=ve(!1),h=ve(void 0),g=ve(!1),y=ve(void 0);var x=yf(),A=j(x),E=j(A);E.__click=[gf,o,l,n];var R=j(E);$e(R,{height:"24",icon:"material-symbols:cancel-rounded",width:"24"}),S(E),yn(2),S(A);var L=U(A,2),N=j(L),Y=j(N);let K;var H=U(Y,2);Kr(H),rt(H,ue=>V(h,ue),()=>d(h)),S(N);var b=U(N,2),I=j(b);let O;var z=U(I,2);Zo(z),rt(z,ue=>V(y,ue),()=>d(y)),S(b),S(L);var F=U(L,2),B=j(F);B.__click=[pf,n];var oe=U(B,2);oe.__click=[mf,o,f,h,l,g,y,n],S(F),S(x),Me((ue,ee)=>{K=Xe(Y,1,"svelte-cr8czn",null,K,ue),H.disabled=r(),O=Xe(I,1,"svelte-cr8czn",null,O,ee),z.disabled=r(),B.disabled=r(),oe.disabled=r()},[()=>({error:d(f)}),()=>({error:d(g)})]),Ir(H,o),Ir(z,l),se(a,x),nt()}ut(["click"]);function _f(a,n,r,o){n(""),V(r,!1),o.oncancel&&o.oncancel()}function wf(a,n,r,o){n(""),V(r,!1),o.ondone&&o.ondone()}function kf(a,n,r,o,l){if(n().trim().length===0){V(r,!0),d(o).focus();return}V(r,!1),l.onlogin&&l.onlogin(n())}var xf=_e('<section class="svelte-1rh2cl1"><figure class="svelte-1rh2cl1"><button type="button" class="svelte-1rh2cl1"><!></button> <div class="svelte-1rh2cl1"><h3 class="svelte-1rh2cl1">Check your email</h3> <p class="svelte-1rh2cl1">A one-time password has been sent to the email address you provided. You will remain logged in on this device as long as you visit within 30 days (rolling).</p></div></figure> <form class="svelte-1rh2cl1"><div class="svelte-1rh2cl1"><p>One-time password</p> <input type="text" class="svelte-1rh2cl1"/></div></form> <footer class="svelte-1rh2cl1"><button class="cancel svelte-1rh2cl1" type="button">Cancel</button> <button type="button" class="svelte-1rh2cl1">Login</button></footer></section>');function Df(a,n){tt(n,!0);let r=pe(n,"disabled",3,!1),o=pe(n,"value",7,null),l=ve(!1),f=ve(void 0);var h=xf(),g=j(h),y=j(g);y.__click=[wf,o,l,n];var x=j(y);$e(x,{height:"24",icon:"material-symbols:cancel-rounded",width:"24"}),S(y),yn(2),S(g);var A=U(g,2),E=j(A),R=j(E);let L;var N=U(R,2);Kr(N),rt(N,b=>V(f,b),()=>d(f)),S(E),S(A);var Y=U(A,2),K=j(Y);K.__click=[_f,o,l,n];var H=U(K,2);H.__click=[kf,o,l,f,n],S(Y),S(h),Me(b=>{L=Xe(R,1,"svelte-1rh2cl1",null,L,b),N.disabled=r(),K.disabled=r(),H.disabled=r()},[()=>({error:d(l)})]),Ir(N,o),se(a,h),nt()}ut(["click"]);var Sf=_e('<dialog class="svelte-1jngsku"><!></dialog>');function Tf(a,n){tt(n,!0);let r=pe(n,"authenticated",7,!1);const o=new si;let l=null,f=ve(void 0),h=ve(!1),g=ve(""),y=ve("signup"),x=ve(!1),A=ve(""),E=ve(""),R=ve(!1),L=ve("");function N(){V(y,"signup"),V(h,!1)}function Y(){de()}function K(we){V(g,we,!0),V(h,!0),o.check(we).then(Ie=>Ie.json()).then(Ie=>{Ie===null?(V(h,!1),alert("User not found.")):(o.verify(we),V(y,"token"),V(h,!1))})}function H(){de()}async function b(){const we={history:await o.browseHistory(),hunger:await o.browseHunger(),water:await o.browseWater(),weight:await o.browseWeight()},Ie=JSON.stringify(we,null,2),Ae=new Blob([Ie],{type:"application/json"}),He=URL.createObjectURL(Ae),$=document.createElement("a");$.href=He,$.download="fasting-hours.json",document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(He)}async function I(we){console.log("IMPORT"),console.log(we),we.history.length>0&&await o.bulkHistory(we.history),we.hunger.length>0&&await o.bulkHunger(we.hunger),we.water.length>0&&await o.bulkWater(we.water),we.weight.length>0&&await o.bulkWeight(we.weight),await o.sync(),d(f).close()}function O(){o.logout().then(()=>{r(!1),V(y,"signup"),d(f).close()})}function z(){de()}function F(){V(y,"login")}function B(we){V(x,!0),fetch("https://ketnerlake.com/api/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"Fasting Hours",email:we.email,category:"Sign Up",subject:"Sync Interest",message:we.message})}).then(Ie=>Ie.text()).then(Ie=>{console.log(Ie),V(A,null),V(E,null),d(f).close(),V(x,!1),alert("Thanks for your message!")})}function oe(){V(y,"signup"),V(R,!1)}function ue(){de()}function ee(we){V(L,we,!0),V(R,!0),l({otp:we})}function de(){d(f).close(),V(y,"signup"),V(x,!1),V(A,null),V(E,null),V(h,!1),V(g,null),V(R,!1),V(L,null)}function De(){d(f).showModal()}var ke=Sf(),Ne=j(ke);{var Ke=we=>{vf(we,{ondone:H,onexport:b,onimport:I,onlogout:O})},Be=we=>{var Ie=wt(),Ae=et(Ie);{var He=G=>{bf(G,{get disabled(){return d(x)},get email(){return d(A)},get message(){return d(E)},ondone:z,onlogin:F,onsend:B})},$=G=>{var X=wt(),ge=et(X);{var xe=ye=>{sf(ye,{get disabled(){return d(h)},get email(){return d(g)},oncancel:N,ondone:Y,onverify:K})},Pe=ye=>{var Se=wt(),te=et(Se);{var Ue=Ye=>{Df(Ye,{get disabled(){return d(R)},oncancel:oe,ondone:ue,onlogin:ee,get value(){return d(L)}})};Je(te,Ye=>{d(y)==="token"&&Ye(Ue)},!0)}se(ye,Se)};Je(ge,ye=>{d(y)==="login"?ye(xe):ye(Pe,!1)},!0)}se(G,X)};Je(Ae,G=>{d(y)==="signup"?G(He):G($,!1)})}se(we,Ie)};Je(Ne,we=>{r()?we(Ke):we(Be,!1)})}return S(ke),rt(ke,we=>V(f,we),()=>d(f)),se(a,ke),nt({close:de,showModal:De})}function Cf(a,n,r,o){const l=d(n).getBoundingClientRect();d(r).style.width=l.width-2+"px",V(o,!d(o))}var Ef=(a,n,r)=>n(d(r)),If=_e('<li><button type="button" class="svelte-10gmc7n"><span class="svelte-10gmc7n"> </span> <span class="svelte-10gmc7n"> </span> <!></button></li>'),Of=_e('<label class="svelte-10gmc7n"><button tabindex="-1" type="button" class="svelte-10gmc7n"><!> <span class="svelte-10gmc7n"> </span> <span class="svelte-10gmc7n"> </span> <!></button> <ul></ul></label>');function Mf(a,n){tt(n,!0);let r=pe(n,"items",19,()=>[]),o=pe(n,"units",3,"oz"),l=pe(n,"value",7,0),f=ve(!1),h=ve(void 0),g=ve(void 0),y=Oe(()=>r().length===0?"":r().find(F=>F.value===l()).label);Jt(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}));function x(z){!d(h).contains(z.target)&&!d(g).contains(z.target)&&V(f,!1)}function A(z){l(z.value),V(f,!1),n.onchange&&n.onchange(z.value)}var E=Of(),R=j(E);R.__click=[Cf,h,g,f];var L=j(R);$e(L,{height:"20",icon:"material-symbols:water-drop-outline-rounded",width:"20"});var N=U(L,2),Y=j(N,!0);S(N);var K=U(N,2),H=j(K);S(K);var b=U(K,2);$e(b,{height:"20",icon:"material-symbols:keyboard-arrow-down-rounded",width:"20"}),S(R),rt(R,z=>V(h,z),()=>d(h));var I=U(R,2);let O;It(I,21,r,Et,(z,F)=>{var B=If();let oe;var ue=j(B);ue.__click=[Ef,A,F];var ee=j(ue),de=j(ee,!0);S(ee);var De=U(ee,2),ke=j(De);S(De);var Ne=U(De,2);{var Ke=Be=>{$e(Be,{height:"20",icon:"material-symbols:check-rounded",width:"20"})};Je(Ne,Be=>{d(F).value===l()&&Be(Ke)})}S(ue),S(B),Me(Be=>{oe=Xe(B,1,"svelte-10gmc7n",null,oe,Be),Te(de,d(F).label),Te(ke,`${d(F).value??""} oz`)},[()=>({selected:l()===d(F).value})]),se(z,B)}),S(I),rt(I,z=>V(g,z),()=>d(g)),S(E),Me(z=>{Te(Y,d(y)),Te(H,`${l()??""} ${o()??""}`),O=Xe(I,1,"svelte-10gmc7n",null,O,z)},[()=>({open:d(f)})]),se(a,E),nt()}ut(["click"]);function Af(a,n,r,o){n(),r(null),o.oncancel&&o.oncancel()}function Pf(a,n,r){n.ondelete&&n.ondelete(r().id)}function jf(a,n,r){n.onsave&&n.onsave(r())}var Ff=_e('<dialog class="svelte-1kewhwu"><h3 class="svelte-1kewhwu">Edit Water</h3> <!> <!> <footer class="svelte-1kewhwu"><button class="delete svelte-1kewhwu" type="button">Delete</button> <button class="cancel svelte-1kewhwu" type="button">Cancel</button> <button type="button" class="svelte-1kewhwu">Save</button></footer></dialog>');function Kf(a,n){tt(n,!0);let r=pe(n,"item",7,null),o=pe(n,"options",19,()=>[]),l=pe(n,"units",3,"oz"),f=ve(void 0),h=Oe(()=>r()&&r().volume&&r().volume!==null?r().volume:8);function g(b){const I=new Date(b.getTime());r({...r(),created:I})}function y(b){const I=b;r({...r(),volume:I})}function x(){d(f).close(),r(null)}function A(){d(f).showModal()}var E=Ff(),R=U(j(E),2);Mf(R,{get items(){return o()},onchange:y,get units(){return l()},get value(){return d(h)}});var L=U(R,2);{let b=Oe(()=>r()&&r().created?r().created:new Date);Nr(L,{label:"Finished",onchange:g,get value(){return d(b)}})}var N=U(L,2),Y=j(N);Y.__click=[Pf,n,r];var K=U(Y,2);K.__click=[Af,x,r,n];var H=U(K,2);return H.__click=[jf,n,r],S(N),S(E),rt(E,b=>V(f,b),()=>d(f)),se(a,E),nt({close:x,showModal:A})}ut(["click"]);function qf(a,n,r,o){n(),r(null),o.oncancel&&o.oncancel()}function Rf(a,n,r){n.ondelete&&n.ondelete(r().id)}function Nf(a,n){const r=a.currentTarget.value;n({...n(),weight:r})}function Bf(a,n,r,o,l,f){console.log(n(),"Item"),console.log(d(r),"Weight");const h=o(d(r));if(console.log(h,"Parsed"),h===null){d(l).focus();return}else n({...n(),weight:h});n().type||n({...n(),type:"weight"}),n().created||n({...n(),created:new Date}),n({...n(),updated:new Date}),n().units||n({...n(),units:"lbs"}),f.onsave&&f.onsave(n())}var Hf=(a,n,r)=>n(d(r)),Lf=_e('<button class="delete svelte-1hw3www" type="button">Delete</button>'),zf=_e('<dialog class="svelte-1hw3www"><h3 class="svelte-1hw3www"> </h3> <label class="svelte-1hw3www"><!> <input inputmode="decimal" placeholder="Weight" type="text" class="svelte-1hw3www"/> <button type="button" class="svelte-1hw3www"> </button></label> <!> <footer class="svelte-1hw3www"><!> <button class="cancel svelte-1hw3www" type="button">Cancel</button> <button type="button" class="svelte-1hw3www">Save</button></footer></dialog>');function Wf(a,n){tt(n,!0);let r=pe(n,"item",7,null),o=ve(void 0),l=ve(void 0),f=Oe(()=>r()&&r().units&&r().units!==null?r().units:"lbs"),h=Oe(()=>r()&&r().weight&&r().weight!==null?r().weight:"");function g(ee){const de=new Date(ee.getTime());r({...r(),created:de})}function y(ee){const de=ee==="lbs"?"kg":"lbs";r({...r(),units:de})}function x(ee){if(typeof ee=="number")return ee;if(typeof ee=="string"){const de=ee.trim();if(de==="")return null;const De=navigator.language||"en-US",ke=Intl.NumberFormat(De).format(12345.6),Ne=ke.match(/12(.*?)345/)[1],Ke=ke.match(/345(.*?)6/)[1],Be=Ae=>Ae.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");let we=de.replace(new RegExp(Be(Ne),"g"),"").replace(new RegExp(Be(Ke)),".");if(/^[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?$/.test(we))return parseFloat(we)}return null}function A(){d(o).close(),r(null)}function E(){d(o).showModal()}var R=zf(),L=j(R),N=j(L);S(L);var Y=U(L,2),K=j(Y);$e(K,{height:"20",icon:"hugeicons:weight-scale",width:"20"});var H=U(K,2);Kr(H),H.__input=[Nf,r],rt(H,ee=>V(l,ee),()=>d(l));var b=U(H,2);b.__click=[Hf,y,f];var I=j(b,!0);S(b),S(Y);var O=U(Y,2);{let ee=Oe(()=>r()&&r().created?r().created:new Date);Nr(O,{label:"Measured",onchange:g,get value(){return d(ee)}})}var z=U(O,2),F=j(z);{var B=ee=>{var de=Lf();de.__click=[Rf,n,r],se(ee,de)};Je(F,ee=>{r()&&r().id&&r().id!==null&&ee(B)})}var oe=U(F,2);oe.__click=[qf,A,r,n];var ue=U(oe,2);return ue.__click=[Bf,r,h,x,l,n],S(z),S(R),rt(R,ee=>V(o,ee),()=>d(o)),Me(()=>{Te(N,`${r()===null||!r().id||r().id===null?"New":"Edit"} Weight`),ri(H,d(h)),Te(I,d(f))}),se(a,R),nt({close:A,showModal:E})}ut(["input","click"]);function Uf(a,n){d(n).showModal()}var Yf=_e('<main class="svelte-yw5tb4"><header class="svelte-yw5tb4"><button class="icon svelte-yw5tb4" type="button"><!></button> <!> <button type="button" class="svelte-yw5tb4"><!></button></header> <section class="svelte-yw5tb4"><article class="svelte-yw5tb4"><!></article> <article class="svelte-yw5tb4"><!></article></section></main> <!> <!> <!> <!> <!> <!>',1);function ld(a,n){tt(n,!0);let r=!1;const o=new si,l=Qs;let f=0,h=ve(null),g=ve(null),y=ve(0),x=ve(null),A=ve(xr([])),E=ve(void 0),R=ve("started"),L=ve(null),N=ve("Started"),Y=ve("Edit Fast Started"),K=ve(void 0),H=ve(null),b=ve(5),I=ve(null),O=ve(0),z=ve(void 0),F=ve(null),B=ve(null),oe=ve(null),ue=ve(0),ee=ve(void 0),de=ve(null),De=ve(xr([])),ke=ve(void 0),Ne=ve(null),Ke=xr([{value:1,label:"Starving"},{value:2,label:"Very hungry"},{value:3,label:"Pretty hungry"},{value:4,label:"Snacky"},{value:5,label:"Satisfied"},{value:6,label:"Slightly full"},{value:7,label:"Uncomfortable"},{value:8,label:"Stuffed"},{value:9,label:"Stomach aches"},{value:10,label:"Sick"}]),Be=xr([{value:8,label:"Cup"},{value:12,label:"Can"},{value:16,label:"Bottle"},{value:20,label:"Medium"},{value:30,label:"Gatorade"},{value:32,label:"Big Q"},{value:44,label:"QT Large"},{value:52,label:"Extra Large"}]);Jt(()=>{let ne=window.localStorage.getItem("fh_screen");V(O,ne===null?0:parseInt(ne),!0);let me=window.localStorage.getItem("fh_duration");V(y,me===null?0:parseInt(me),!0);const Ce=window.localStorage.getItem("fh_latitude");Ce!==null&&Ce!=="DENIED"&&G(),setInterval(()=>{if(f===60){Ie();const Re=window.localStorage.getItem("fh_latitude");Re!==null&&Re!=="DENIED"&&G(),f=0}else f=f+1;d(F)!==null&&V(I,Date.now(),!0)},1e3),$(),Ie(),He(),X(),ge(),Ae(),new URLSearchParams(window.location.search).has("signup")&&d(z).showModal()});function we(ne){const me=ne.getFullYear(),Ce=String(ne.getMonth()+1).padStart(2,"0"),at=String(ne.getDate()).padStart(2,"0");return`${me}-${Ce}-${at}`}function Ie(ne=7){o.browseHistory().then(me=>{const Ce={},at=new Date,Re=new Date(at.getFullYear(),at.getMonth(),at.getDate()),Le=new Date(Re);if(Le.setDate(Re.getDate()-(ne-1)),!Array.isArray(me)||me.length===0){const We=new Date(Le);for(;We<=Re;){const yt=we(We);Ce[yt]=Array(24).fill(0),We.setDate(We.getDate()+1)}}else{for(const yt of me){const en=new Date(yt.started),wn=yt.ended?new Date(yt.ended):new Date,cn=new Date(en.getTime());cn.setSeconds(0,0);const ar=new Date(wn.getTime());ar.setSeconds(0,0);let bt=new Date(cn);for(;bt<ar;){const Ht=we(bt),Nt=new Date(bt.getFullYear(),bt.getMonth(),bt.getDate());if(Nt>=Le&&Nt<=Re){const kn=bt.getHours();Ce[Ht]||(Ce[Ht]=Array(24).fill(0)),Ce[Ht][kn]+=1}bt.setMinutes(bt.getMinutes()+1)}}for(const yt in Ce)Ce[yt]=Ce[yt].map(en=>+(Math.min(en,60)/60).toFixed(6));const We=new Date(Le);for(;We<=Re;){const yt=we(We);Ce[yt]||(Ce[yt]=Array(24).fill(0)),We.setDate(We.getDate()+1)}}const ze=Object.keys(Ce).sort((We,yt)=>yt.localeCompare(We)),Ze={};for(const We of ze)Ze[We]=Ce[We];const jt=Array(24).fill(0);for(const We of Array(24).keys())for(const yt of ze)jt[We]+=Ze[yt][We];const ot=jt.map(We=>+(We/ne).toFixed(6));V(g,{daily:Ze,average:ot},!0)})}function Ae(){o.browseHistory().then(ne=>{let me=null,Ce=structuredClone(ne);Ce.forEach(Re=>{Re.type="start",Re.timed=new Date(Re.started.getTime())});let at=structuredClone(ne);at=at.filter(Re=>Re.ended!==null),at.forEach(Re=>{Re.type="end",Re.timed=new Date(Re.ended.getTime())}),Ce=Ce.concat(at),me=[...Ce],o.browseHunger().then(Re=>(Re=Re.map(Le=>{const ze=Ke.find(Ze=>Ze.value===Le.level);return Le.level=ze.label,Le.timed=new Date(Le.created.getTime()),Le}),me=me.concat(Re),o.browseWeight())).then(Re=>(Re=Re.map(Le=>(Le.timed=new Date(Le.created.getTime()),Le)),me=me.concat(Re),o.browseWater())).then(Re=>{Re=Re.map(ze=>(ze.timed=new Date(ze.created.getTime()),ze)),me=me.concat(Re),me.sort((ze,Ze)=>ze.timed.getTime()<Ze.timed.getTime()?1:ze.timed.getTime()>Ze.timed.getTime()?-1:0);const Le=[];for(let ze=0;ze<me.length;ze++){const Ze=new Date(me[ze].timed.getTime());Ze.setHours(23),Ze.setMinutes(59),Ze.setSeconds(59),Ze.setMilliseconds(999),Le.length===0?Le.push({type:"header",timed:Ze}):(Le[Le.length-1].timed.getDate()!==me[ze].timed.getDate()||Le[Le.length-1].timed.getMonth()!==me[ze].timed.getMonth()||Le[Le.length-1].timed.getFullYear()!==me[ze].timed.getFullYear())&&Le.push({type:"header",timed:Ze})}me=me.concat(Le),me.sort((ze,Ze)=>ze.timed.getTime()<Ze.timed.getTime()?1:ze.timed.getTime()>Ze.timed.getTime()?-1:0),V(A,[...me],!0)})})}function He(){o.browseHunger(!0).then(ne=>{if(ne===null)V(b,5);else{const me=new Date,Ce=new Date(ne.created);me.getFullYear()===Ce.getFullYear()&&me.getMonth()===Ce.getMonth()&&me.getDate()===Ce.getDate()?V(b,ne.level,!0):V(b,5)}})}function $(){o.browseHistory().then(ne=>{ne.length===0&&(V(F,null),V(I,null),V(x,null)),ne.sort((me,Ce)=>me.started.getTime()>Ce.started.getTime()?-1:me.started.getTime()<Ce.started.getTime()?1:0),ne[0].ended===null?(V(F,new Date(ne[0].started.getTime()),!0),V(I,Date.now(),!0),V(x,null)):V(x,new Date(ne[0].ended.getTime()),!0)})}function G(){const ne=parseFloat(window.localStorage.getItem("fh_latitude")),me=parseFloat(window.localStorage.getItem("fh_longitude")),Ce=new Date;let at=null,Re=l.getTimes(Ce,ne,me),Le=null;if(Date.now()<Re.sunrise.getTime())Le=new Date(Re.sunrise.getTime()),at="material-symbols:wb-sunny-outline-rounded";else if(Date.now()>Re.sunrise.getTime()&&Date.now()<Re.sunset.getTime())Le=new Date(Re.sunset.getTime()),at="material-symbols:moon-stars-outline-rounded";else{const ze=new Date;ze.setDate(Ce.getDate()+1),Re=l.getTimes(ze,ne,me),Le=new Date(Re.sunrise.getTime()),at="material-symbols:wb-sunny-outline-rounded"}V(B,{icon:at,timing:Le},!0)}function X(){o.browseWater(!0).then(ne=>{const me=ne.reduce((Ce,at)=>Ce+at.volume,0);return V(ue,me,!0),o.browseWater()}).then(ne=>{const me=new Date;me.setHours(0,0,0,0);const Ce={};for(const{created:ze,volume:Ze}of ne){const jt=xe(ze);Ce[jt]=(Ce[jt]||0)+Ze}const at=[];for(let ze=0;ze<7;ze++){const Ze=new Date(me.getTime());Ze.setDate(me.getDate()-ze);const jt=xe(Ze);at.push({created:new Date(Ze.getTime()),volume:Ce[jt]||0})}const Le=at.reduce((ze,{volume:Ze})=>ze+Ze,0)/at.length;V(oe,{average:Le,daily:[...at]},!0)})}function ge(){o.browseWeight().then(ne=>V(De,ne===null?[]:[...ne],!0))}function xe(ne){const me=ne.getFullYear(),Ce=String(ne.getMonth()+1).padStart(2,"0"),at=String(ne.getDate()).padStart(2,"0");return`${me}-${Ce}-${at}`}function Pe(ne){V(y,ne,!0),window.localStorage.setItem("fh_duration",d(y))}function ye(){V(F,null),V(I,null),o.browseHistoryByEnd().then(ne=>(ne.ended=new Date,o.editHistory(ne))).then(()=>{$(),Ie(),Ae()})}function Se(){o.addHistory().then(()=>{$(),Ie(),Ae()})}function te(){d(ke).showModal()}function Ue(ne,me){console.log("Delete: "+me),d(F)!==null&&d(L).started.getTime()===d(F).getTime()&&(V(F,null),V(I,null)),o.deleteHistory(me).then(()=>{d(E).close(),V(L,null),$(),Ie(),Ae()})}function Ye(ne){o.editHistory(ne).then(()=>{d(E).close(),V(L,null),$(),Ie(),Ae()})}function Ee(ne,me){ne==="start"?(V(R,"started"),V(N,"Started"),V(Y,"Edit Fast Started"),o.readHistory(me).then(Ce=>{V(L,{...Ce},!0),d(E).showModal()})):ne==="end"?(V(R,"ended"),V(N,"Ended"),V(Y,"Edit Fast Ended"),o.readHistory(me).then(Ce=>{V(L,{...Ce},!0),d(E).showModal()})):ne==="water"?o.readWater(me).then(Ce=>{V(de,{...Ce},!0),d(ee).showModal()}):ne==="weight"?o.readWeight(me).then(Ce=>{V(Ne,{...Ce},!0),d(ke).showModal()}):ne==="hunger"&&o.readHunger(me).then(Ce=>{V(H,{...Ce},!0),d(K).showModal()})}function dt(ne){o.addHunger(ne).then(me=>{He(),Ae()})}function ct(ne){o.deleteHunger(ne).then(()=>{d(K).close(),V(H,null),He(),Ae()})}function lt(ne){o.editHunger(ne).then(me=>{d(K).close(),V(H,null),He(),Ae()})}function Mt(ne){d(O)!==ne&&(window.localStorage.setItem("fh_screen",ne),V(O,ne,!0))}function kt(){d(z).showModal()}function pt(){confirm("Sunrise/set (important for religious observations) needs to know your location? Enable location detection?")?navigator.geolocation.getCurrentPosition(me=>{window.localStorage.setItem("fh_latitude",me.coords.latitude),window.localStorage.setItem("fh_longitude",me.coords.longitude),G()}):window.localStorage.setItem("fh_latitude","DENIED")}function Tt(ne){o.addWater(ne).then(me=>{X(),Ae()})}function Ot(ne){o.deleteWater(ne).then(()=>{d(ee).close(),V(de,null),X(),Ae()})}function it(ne){o.editWater(ne).then(me=>{d(ee).close(),V(de,null),X(),Ae()})}function Ut(ne){o.deleteWeight(ne).then(()=>{d(ke).close(),V(Ne,null),ge(),Ae()})}function sn(ne){console.log(ne),ne.id?o.editWeight(ne).then(me=>{d(ke).close(),V(Ne,null),ge(),Ae()}):o.addWeight(ne).then(me=>{d(ke).close(),V(Ne,null),ge(),Ae()})}var An=Yf(),Yt=et(An),Kt=j(Yt),Pt=j(Kt);Pt.__click=te;var Pn=j(Pt);$e(Pn,{height:"20",icon:"hugeicons:weight-scale",width:"20"}),S(Pt);var Xt=U(Pt,2);tf(Xt,{onchange:Mt,get value(){return d(O)}});var un=U(Xt,2);un.__click=[Uf,h];var bn=j(un);$e(bn,{height:"20",icon:"material-symbols:question-mark-rounded",width:"20"}),S(un),S(Kt);var qt=U(Kt,2),Zt=j(qt),jn=j(Zt);sc(jn,{get activity(){return d(g)},get duration(){return d(y)},get ended(){return d(x)},get hunger(){return d(b)},get levels(){return Ke},get now(){return d(I)},onduration:Pe,onend:ye,onhunger:dt,onsettings:kt,onstart:Se,onsun:pt,onwater:Tt,onweight:te,get started(){return d(F)},get sun(){return d(B)},get volume(){return d(oe)},get volumes(){return Be},get water(){return d(ue)},get weight(){return d(De)}}),S(Zt);var Rt=U(Zt,2),be=j(Rt);Hc(be,{get activity(){return d(g)},get history(){return d(A)},get levels(){return Ke},onchange:Ee,onsun:pt,get sun(){return d(B)},get volume(){return d(oe)},get weight(){return d(De)}}),S(Rt),S(qt),S(Yt);var $t=U(Yt,2);rt(Ec($t,{get field(){return d(R)},get item(){return d(L)},get label(){return d(N)},ondelete:Ue,onsave:Ye,get title(){return d(Y)}}),ne=>V(E,ne,!0),()=>d(E));var Bt=U($t,2);rt(Xc(Bt,{get item(){return d(H)},get levels(){return Ke},ondelete:ct,onsave:lt}),ne=>V(K,ne,!0),()=>d(K));var ln=U(Bt,2);rt(Kf(ln,{get item(){return d(de)},ondelete:Ot,onsave:it,get options(){return Be}}),ne=>V(ee,ne,!0),()=>d(ee));var ce=U(ln,2);rt(Wf(ce,{get item(){return d(Ne)},ondelete:Ut,onsave:sn}),ne=>V(ke,ne,!0),()=>d(ke));var _n=U(ce,2);rt(Tf(_n,{authenticated:r}),ne=>V(z,ne,!0),()=>d(z));var rr=U(_n,2);rt($s(rr,{}),ne=>V(h,ne,!0),()=>d(h)),Me(()=>gt(qt,"data-screen",d(O)===0?"fasting":"hours")),se(a,An),nt()}ut(["click"]);export{ld as component};
